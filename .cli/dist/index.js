"use strict";var pp=Object.create;var Gn=Object.defineProperty;var mp=Object.getOwnPropertyDescriptor;var gp=Object.getOwnPropertyNames;var yp=Object.getPrototypeOf,Ep=Object.prototype.hasOwnProperty;var wp=(n,t,e)=>t in n?Gn(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var S=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports),Sp=(n,t)=>{for(var e in t)Gn(n,e,{get:t[e],enumerable:!0})},ca=(n,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of gp(t))!Ep.call(n,i)&&i!==e&&Gn(n,i,{get:()=>t[i],enumerable:!(r=mp(t,i))||r.enumerable});return n};var F=(n,t,e)=>(e=n!=null?pp(yp(n)):{},ca(t||!n||!n.__esModule?Gn(e,"default",{value:n,enumerable:!0}):e,n)),bp=n=>ca(Gn({},"__esModule",{value:!0}),n);var ua=(n,t,e)=>(wp(n,typeof t!="symbol"?t+"":t,e),e),os=(n,t,e)=>{if(!t.has(n))throw TypeError("Cannot "+e)};var b=(n,t,e)=>(os(n,t,"read from private field"),e?e.call(n):t.get(n)),ht=(n,t,e)=>{if(t.has(n))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(n):t.set(n,e)},B=(n,t,e,r)=>(os(n,t,"write to private field"),r?r.call(n,e):t.set(n,e),e);var on=(n,t,e)=>(os(n,t,"access private method"),e);var da=S((MS,ha)=>{var fa={};ha.exports=fa;var la={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(la).forEach(function(n){var t=la[n],e=fa[n]=[];e.open="\x1B["+t[0]+"m",e.close="\x1B["+t[1]+"m"})});var ma=S((jS,pa)=>{"use strict";pa.exports=function(n,t){t=t||process.argv;var e=t.indexOf("--"),r=/^-{1,2}/.test(n)?"":"--",i=t.indexOf(r+n);return i!==-1&&(e===-1?!0:i<e)}});var ya=S((US,ga)=>{"use strict";var vp=require("os"),Vt=ma(),vt=process.env,an=void 0;Vt("no-color")||Vt("no-colors")||Vt("color=false")?an=!1:(Vt("color")||Vt("colors")||Vt("color=true")||Vt("color=always"))&&(an=!0);"FORCE_COLOR"in vt&&(an=vt.FORCE_COLOR.length===0||parseInt(vt.FORCE_COLOR,10)!==0);function xp(n){return n===0?!1:{level:n,hasBasic:!0,has256:n>=2,has16m:n>=3}}function Op(n){if(an===!1)return 0;if(Vt("color=16m")||Vt("color=full")||Vt("color=truecolor"))return 3;if(Vt("color=256"))return 2;if(n&&!n.isTTY&&an!==!0)return 0;var t=an?1:0;if(process.platform==="win32"){var e=vp.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in vt)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(i){return i in vt})||vt.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in vt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(vt.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in vt){var r=parseInt((vt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(vt.TERM_PROGRAM){case"iTerm.app":return r>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(vt.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(vt.TERM)||"COLORTERM"in vt?1:(vt.TERM==="dumb",t)}function as(n){var t=Op(n);return xp(t)}ga.exports={supportsColor:as,stdout:as(process.stdout),stderr:as(process.stderr)}});var wa=S((BS,Ea)=>{Ea.exports=function(t,e){var r="";t=t||"Run the trap, drop the bass",t=t.split("");var i={a:["@","\u0104","\u023A","\u0245","\u0394","\u039B","\u0414"],b:["\xDF","\u0181","\u0243","\u026E","\u03B2","\u0E3F"],c:["\xA9","\u023B","\u03FE"],d:["\xD0","\u018A","\u0500","\u0501","\u0502","\u0503"],e:["\xCB","\u0115","\u018E","\u0258","\u03A3","\u03BE","\u04BC","\u0A6C"],f:["\u04FA"],g:["\u0262"],h:["\u0126","\u0195","\u04A2","\u04BA","\u04C7","\u050A"],i:["\u0F0F"],j:["\u0134"],k:["\u0138","\u04A0","\u04C3","\u051E"],l:["\u0139"],m:["\u028D","\u04CD","\u04CE","\u0520","\u0521","\u0D69"],n:["\xD1","\u014B","\u019D","\u0376","\u03A0","\u048A"],o:["\xD8","\xF5","\xF8","\u01FE","\u0298","\u047A","\u05DD","\u06DD","\u0E4F"],p:["\u01F7","\u048E"],q:["\u09CD"],r:["\xAE","\u01A6","\u0210","\u024C","\u0280","\u042F"],s:["\xA7","\u03DE","\u03DF","\u03E8"],t:["\u0141","\u0166","\u0373"],u:["\u01B1","\u054D"],v:["\u05D8"],w:["\u0428","\u0460","\u047C","\u0D70"],x:["\u04B2","\u04FE","\u04FC","\u04FD"],y:["\xA5","\u04B0","\u04CB"],z:["\u01B5","\u0240"]};return t.forEach(function(s){s=s.toLowerCase();var o=i[s]||[" "],a=Math.floor(Math.random()*o.length);typeof i[s]<"u"?r+=i[s][a]:r+=s}),r}});var ba=S((qS,Sa)=>{Sa.exports=function(t,e){t=t||"   he is here   ";var r={up:["\u030D","\u030E","\u0304","\u0305","\u033F","\u0311","\u0306","\u0310","\u0352","\u0357","\u0351","\u0307","\u0308","\u030A","\u0342","\u0313","\u0308","\u034A","\u034B","\u034C","\u0303","\u0302","\u030C","\u0350","\u0300","\u0301","\u030B","\u030F","\u0312","\u0313","\u0314","\u033D","\u0309","\u0363","\u0364","\u0365","\u0366","\u0367","\u0368","\u0369","\u036A","\u036B","\u036C","\u036D","\u036E","\u036F","\u033E","\u035B","\u0346","\u031A"],down:["\u0316","\u0317","\u0318","\u0319","\u031C","\u031D","\u031E","\u031F","\u0320","\u0324","\u0325","\u0326","\u0329","\u032A","\u032B","\u032C","\u032D","\u032E","\u032F","\u0330","\u0331","\u0332","\u0333","\u0339","\u033A","\u033B","\u033C","\u0345","\u0347","\u0348","\u0349","\u034D","\u034E","\u0353","\u0354","\u0355","\u0356","\u0359","\u035A","\u0323"],mid:["\u0315","\u031B","\u0300","\u0301","\u0358","\u0321","\u0322","\u0327","\u0328","\u0334","\u0335","\u0336","\u035C","\u035D","\u035E","\u035F","\u0360","\u0362","\u0338","\u0337","\u0361"," \u0489"]},i=[].concat(r.up,r.down,r.mid);function s(c){var f=Math.floor(Math.random()*c);return f}function o(c){var f=!1;return i.filter(function(u){f=u===c}),f}function a(c,f){var u="",l,h;f=f||{},f.up=typeof f.up<"u"?f.up:!0,f.mid=typeof f.mid<"u"?f.mid:!0,f.down=typeof f.down<"u"?f.down:!0,f.size=typeof f.size<"u"?f.size:"maxi",c=c.split("");for(h in c)if(!o(h)){switch(u=u+c[h],l={up:0,down:0,mid:0},f.size){case"mini":l.up=s(8),l.mid=s(2),l.down=s(8);break;case"maxi":l.up=s(16)+3,l.mid=s(4)+1,l.down=s(64)+3;break;default:l.up=s(8)+1,l.mid=s(6)/2,l.down=s(8)+1;break}var d=["up","mid","down"];for(var p in d)for(var m=d[p],y=0;y<=l[m];y++)f[m]&&(u=u+r[m][s(r[m].length)])}return u}return a(t,e)}});var xa=S((GS,va)=>{va.exports=function(n){return function(t,e,r){if(t===" ")return t;switch(e%3){case 0:return n.red(t);case 1:return n.white(t);case 2:return n.blue(t)}}}});var Ca=S((WS,Oa)=>{Oa.exports=function(n){return function(t,e,r){return e%2===0?t:n.inverse(t)}}});var _a=S((zS,Na)=>{Na.exports=function(n){var t=["red","yellow","green","blue","magenta"];return function(e,r,i){return e===" "?e:n[t[r++%t.length]](e)}}});var Ta=S((HS,Ia)=>{Ia.exports=function(n){var t=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(e,r,i){return e===" "?e:n[t[Math.round(Math.random()*(t.length-2))]](e)}}});var cs=S((ZS,Pa)=>{var R={};Pa.exports=R;R.themes={};var Cp=require("util"),Be=R.styles=da(),Aa=Object.defineProperties,Np=new RegExp(/[\r\n]+/g);R.supportsColor=ya().supportsColor;typeof R.enabled>"u"&&(R.enabled=R.supportsColor()!==!1);R.enable=function(){R.enabled=!0};R.disable=function(){R.enabled=!1};R.stripColors=R.strip=function(n){return(""+n).replace(/\x1B\[\d+m/g,"")};var VS=R.stylize=function(t,e){if(!R.enabled)return t+"";var r=Be[e];return!r&&e in R?R[e](t):r.open+t+r.close},_p=/[|\\{}()[\]^$+*?.]/g,Ip=function(n){if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(_p,"\\$&")};function La(n){var t=function e(){return Dp.apply(e,arguments)};return t._styles=n,t.__proto__=Tp,t}var Ra=function(){var n={};return Be.grey=Be.gray,Object.keys(Be).forEach(function(t){Be[t].closeRe=new RegExp(Ip(Be[t].close),"g"),n[t]={get:function(){return La(this._styles.concat(t))}}}),n}(),Tp=Aa(function(){},Ra);function Dp(){var n=Array.prototype.slice.call(arguments),t=n.map(function(o){return o!=null&&o.constructor===String?o:Cp.inspect(o)}).join(" ");if(!R.enabled||!t)return t;for(var e=t.indexOf(`
`)!=-1,r=this._styles,i=r.length;i--;){var s=Be[r[i]];t=s.open+t.replace(s.closeRe,s.open)+s.close,e&&(t=t.replace(Np,function(o){return s.close+o+s.open}))}return t}R.setTheme=function(n){if(typeof n=="string"){console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));");return}for(var t in n)(function(e){R[e]=function(r){if(typeof n[e]=="object"){var i=r;for(var s in n[e])i=R[n[e][s]](i);return i}return R[n[e]](r)}})(t)};function Ap(){var n={};return Object.keys(Ra).forEach(function(t){n[t]={get:function(){return La([t])}}}),n}var Lp=function(t,e){var r=e.split("");return r=r.map(t),r.join("")};R.trap=wa();R.zalgo=ba();R.maps={};R.maps.america=xa()(R);R.maps.zebra=Ca()(R);R.maps.rainbow=_a()(R);R.maps.random=Ta()(R);for(Da in R.maps)(function(n){R[n]=function(t){return Lp(R.maps[n],t)}})(Da);var Da;Aa(R,Ap())});var ka=S((JS,Fa)=>{var Et=cs();Fa.exports=function(){var n=function(r,i){String.prototype.__defineGetter__(r,i)};n("strip",function(){return Et.strip(this)}),n("stripColors",function(){return Et.strip(this)}),n("trap",function(){return Et.trap(this)}),n("zalgo",function(){return Et.zalgo(this)}),n("zebra",function(){return Et.zebra(this)}),n("rainbow",function(){return Et.rainbow(this)}),n("random",function(){return Et.random(this)}),n("america",function(){return Et.america(this)});var t=Object.keys(Et.styles);t.forEach(function(r){n(r,function(){return Et.stylize(this,r)})});function e(r){var i=["__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","charAt","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf","charCodeAt","indexOf","lastIndexOf","length","localeCompare","match","repeat","replace","search","slice","split","substring","toLocaleLowerCase","toLocaleUpperCase","toLowerCase","toUpperCase","trim","trimLeft","trimRight"];Object.keys(r).forEach(function(s){if(i.indexOf(s)!==-1)console.log("warn: ".red+("String.prototype"+s).magenta+" is probably something you don't want to override.  Ignoring style name");else if(typeof r[s]=="string")Et[s]=Et[r[s]],n(s,function(){return Et[s](this)});else{var o=function(a){for(var c=a||this,f=0;f<r[s].length;f++)c=Et[r[s][f]](c);return c};n(s,o),Et[s]=function(a){return o(a)}}})}Et.setTheme=function(r){if(typeof r=="string"){console.log("colors.setTheme now only accepts an object, not a string. If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));");return}else e(r)}}});var Ma=S((KS,$a)=>{var Rp=cs();$a.exports=Rp;ka()()});var qr=S(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});var Pp=0,Fp=1,kp=2,$p="",Mp="\0",jp=-1,Up=/^(-h|--help)(?:=([0-9]+))?$/,Bp=/^(--[a-z]+(?:-[a-z]+)*|-[a-zA-Z]+)$/,qp=/^-[a-zA-Z]{2,}$/,Gp=/^([^=]+)=([\s\S]*)$/,Wp=process.env.DEBUG_CLI==="1";kt.BATCH_REGEX=qp;kt.BINDING_REGEX=Gp;kt.DEBUG=Wp;kt.END_OF_INPUT=Mp;kt.HELP_COMMAND_INDEX=jp;kt.HELP_REGEX=Up;kt.NODE_ERRORED=kp;kt.NODE_INITIAL=Pp;kt.NODE_SUCCESS=Fp;kt.OPTION_REGEX=Bp;kt.START_OF_INPUT=$p});var Gr=S(Wn=>{"use strict";Object.defineProperty(Wn,"__esModule",{value:!0});var zp=qr(),us=class extends Error{constructor(t){super(t),this.clipanion={type:"usage"},this.name="UsageError"}},ls=class extends Error{constructor(t,e){if(super(),this.input=t,this.candidates=e,this.clipanion={type:"none"},this.name="UnknownSyntaxError",this.candidates.length===0)this.message="Command not found, but we're not sure what's the alternative.";else if(this.candidates.every(r=>r.reason!==null&&r.reason===e[0].reason)){let[{reason:r}]=this.candidates;this.message=`${r}

${this.candidates.map(({usage:i})=>`$ ${i}`).join(`
`)}`}else if(this.candidates.length===1){let[{usage:r}]=this.candidates;this.message=`Command not found; did you mean:

$ ${r}
${hs(t)}`}else this.message=`Command not found; did you mean one of:

${this.candidates.map(({usage:r},i)=>`${`${i}.`.padStart(4)} ${r}`).join(`
`)}

${hs(t)}`}},fs=class extends Error{constructor(t,e){super(),this.input=t,this.usages=e,this.clipanion={type:"none"},this.name="AmbiguousSyntaxError",this.message=`Cannot find which to pick amongst the following alternatives:

${this.usages.map((r,i)=>`${`${i}.`.padStart(4)} ${r}`).join(`
`)}

${hs(t)}`}},hs=n=>`While running ${n.filter(t=>t!==zp.END_OF_INPUT).map(t=>{let e=JSON.stringify(t);return t.match(/\s/)||t.length===0||e!==`"${t}"`?e:t}).join(" ")}`;Wn.AmbiguousSyntaxError=fs;Wn.UnknownSyntaxError=ls;Wn.UsageError=us});var ps=S(zn=>{"use strict";Object.defineProperty(zn,"__esModule",{value:!0});var ja=80,ds=Array(ja).fill("\u2501");for(let n=0;n<=24;++n)ds[ds.length-n]=`\x1B[38;5;${232+n}m\u2501`;var Hp={header:n=>`\x1B[1m\u2501\u2501\u2501 ${n}${n.length<ja-5?` ${ds.slice(n.length+5).join("")}`:":"}\x1B[0m`,bold:n=>`\x1B[1m${n}\x1B[22m`,error:n=>`\x1B[31m\x1B[1m${n}\x1B[22m\x1B[39m`,code:n=>`\x1B[36m${n}\x1B[39m`},Vp={header:n=>n,bold:n=>n,error:n=>n,code:n=>n};function Zp(n){let t=n.split(`
`),e=t.filter(i=>i.match(/\S/)),r=e.length>0?e.reduce((i,s)=>Math.min(i,s.length-s.trimStart().length),Number.MAX_VALUE):0;return t.map(i=>i.slice(r).trimRight()).join(`
`)}function Jp(n,{format:t,paragraphs:e}){return n=n.replace(/\r\n?/g,`
`),n=Zp(n),n=n.replace(/^\n+|\n+$/g,""),n=n.replace(/^(\s*)-([^\n]*?)\n+/gm,`$1-$2

`),n=n.replace(/\n(\n)?\n*/g,(r,i)=>i||" "),e&&(n=n.split(/\n/).map(r=>{let i=r.match(/^\s*[*-][\t ]+(.*)/);if(!i)return r.match(/(.{1,80})(?: |$)/g).join(`
`);let s=r.length-r.trimStart().length;return i[1].match(new RegExp(`(.{1,${78-s}})(?: |$)`,"g")).map((o,a)=>" ".repeat(s)+(a===0?"- ":"  ")+o).join(`
`)}).join(`

`)),n=n.replace(/(`+)((?:.|[\n])*?)\1/g,(r,i,s)=>t.code(i+s+i)),n=n.replace(/(\*\*)((?:.|[\n])*?)\1/g,(r,i,s)=>t.bold(i+s+i)),n?`${n}
`:""}zn.formatMarkdownish=Jp;zn.richFormat=Hp;zn.textFormat=Vp});var le=S(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});var Ua=Gr(),Ba=Symbol("clipanion/isOption");function Kp(n){return{...n,[Ba]:!0}}function Xp(n,t){return typeof n>"u"?[n,t]:typeof n=="object"&&n!==null&&!Array.isArray(n)?[void 0,n]:[n,t]}function ms(n,{mergeName:t=!1}={}){let e=n.match(/^([^:]+): (.*)$/m);if(!e)return"validation failed";let[,r,i]=e;return t&&(i=i[0].toLowerCase()+i.slice(1)),i=r!=="."||!t?`${r.replace(/^\.(\[|$)/,"$1")}: ${i}`:`: ${i}`,i}function qa(n,t){return t.length===1?new Ua.UsageError(`${n}${ms(t[0],{mergeName:!0})}`):new Ua.UsageError(`${n}:
${t.map(e=>`
- ${ms(e)}`).join("")}`)}function Yp(n,t,e){if(typeof e>"u")return t;let r=[],i=[],s=a=>{let c=t;return t=a,s.bind(null,c)};if(!e(t,{errors:r,coercions:i,coercion:s}))throw qa(`Invalid value for ${n}`,r);for(let[,a]of i)a();return t}ve.applyValidator=Yp;ve.cleanValidationError=ms;ve.formatError=qa;ve.isOptionSymbol=Ba;ve.makeCommandOption=Kp;ve.rerouteArguments=Xp});var Ka=S(C=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0});var Qp=/^[a-zA-Z_][a-zA-Z0-9_]*$/;function M(n){return n===null?"null":n===void 0?"undefined":n===""?"an empty string":typeof n=="symbol"?`<${n.toString()}>`:Array.isArray(n)?"an array":JSON.stringify(n)}function cn(n,t){if(n.length===0)return"nothing";if(n.length===1)return M(n[0]);let e=n.slice(0,-1),r=n[n.length-1],i=n.length>2?`, ${t} `:` ${t} `;return`${e.map(s=>M(s)).join(", ")}${i}${M(r)}`}function xe(n,t){var e,r,i;return typeof t=="number"?`${(e=n?.p)!==null&&e!==void 0?e:"."}[${t}]`:Qp.test(t)?`${(r=n?.p)!==null&&r!==void 0?r:""}.${t}`:`${(i=n?.p)!==null&&i!==void 0?i:"."}[${JSON.stringify(t)}]`}function gs(n,t,e){return n===1?t:e}var tm=/^#[0-9a-f]{6}$/i,em=/^#[0-9a-f]{6}([0-9a-f]{2})?$/i,nm=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,rm=/^[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[89aAbB][a-f0-9]{3}-[a-f0-9]{12}$/i,Ga=/^(?:[1-9]\d{3}(-?)(?:(?:0[1-9]|1[0-2])\1(?:0[1-9]|1\d|2[0-8])|(?:0[13-9]|1[0-2])\1(?:29|30)|(?:0[13578]|1[02])(?:\1)31|00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[0-5]))|(?:[1-9]\d(?:0[48]|[2468][048]|[13579][26])|(?:[2468][048]|[13579][26])00)(?:(-?)02(?:\2)29|-?366))T(?:[01]\d|2[0-3])(:?)[0-5]\d(?:\3[0-5]\d)?(?:Z|[+-][01]\d(?:\3[0-5]\d)?)$/;function N({errors:n,p:t}={},e){return n?.push(`${t??"."}: ${e}`),!1}function im(n,t){return e=>{n[t]=e}}function fe(n,t){return e=>{let r=n[t];return n[t]=e,fe(n,t).bind(null,r)}}function Hn(n,t,e){let r=()=>(n(e()),i),i=()=>(n(t),r);return r}function ys(){return D({test:(n,t)=>!0})}function Wa(n){return D({test:(t,e)=>t!==n?N(e,`Expected ${M(n)} (got ${M(t)})`):!0})}function za(){return D({test:(n,t)=>typeof n!="string"?N(t,`Expected a string (got ${M(n)})`):!0})}function sm(n){let t=Array.isArray(n)?n:Object.values(n),e=t.every(i=>typeof i=="string"||typeof i=="number"),r=new Set(t);return r.size===1?Wa([...r][0]):D({test:(i,s)=>r.has(i)?!0:e?N(s,`Expected one of ${cn(t,"or")} (got ${M(i)})`):N(s,`Expected a valid enumeration value (got ${M(i)})`)})}var om=new Map([["true",!0],["True",!0],["1",!0],[1,!0],["false",!1],["False",!1],["0",!1],[0,!1]]);function am(){return D({test:(n,t)=>{var e;if(typeof n!="boolean"){if(typeof t?.coercions<"u"){if(typeof t?.coercion>"u")return N(t,"Unbound coercion result");let r=om.get(n);if(typeof r<"u")return t.coercions.push([(e=t.p)!==null&&e!==void 0?e:".",t.coercion.bind(null,r)]),!0}return N(t,`Expected a boolean (got ${M(n)})`)}return!0}})}function cm(){return D({test:(n,t)=>{var e;if(typeof n!="number"){if(typeof t?.coercions<"u"){if(typeof t?.coercion>"u")return N(t,"Unbound coercion result");let r;if(typeof n=="string"){let i;try{i=JSON.parse(n)}catch{}if(typeof i=="number")if(JSON.stringify(i)===n)r=i;else return N(t,`Received a number that can't be safely represented by the runtime (${n})`)}if(typeof r<"u")return t.coercions.push([(e=t.p)!==null&&e!==void 0?e:".",t.coercion.bind(null,r)]),!0}return N(t,`Expected a number (got ${M(n)})`)}return!0}})}function um(){return D({test:(n,t)=>{var e;if(!(n instanceof Date)){if(typeof t?.coercions<"u"){if(typeof t?.coercion>"u")return N(t,"Unbound coercion result");let r;if(typeof n=="string"&&Ga.test(n))r=new Date(n);else{let i;if(typeof n=="string"){let s;try{s=JSON.parse(n)}catch{}typeof s=="number"&&(i=s)}else typeof n=="number"&&(i=n);if(typeof i<"u")if(Number.isSafeInteger(i)||!Number.isSafeInteger(i*1e3))r=new Date(i*1e3);else return N(t,`Received a timestamp that can't be safely represented by the runtime (${n})`)}if(typeof r<"u")return t.coercions.push([(e=t.p)!==null&&e!==void 0?e:".",t.coercion.bind(null,r)]),!0}return N(t,`Expected a date (got ${M(n)})`)}return!0}})}function Wr(n,{delimiter:t}={}){return D({test:(e,r)=>{var i;let s=e;if(typeof e=="string"&&typeof t<"u"&&typeof r?.coercions<"u"){if(typeof r?.coercion>"u")return N(r,"Unbound coercion result");e=e.split(t)}if(!Array.isArray(e))return N(r,`Expected an array (got ${M(e)})`);let o=!0;for(let a=0,c=e.length;a<c&&(o=n(e[a],Object.assign(Object.assign({},r),{p:xe(r,a),coercion:fe(e,a)}))&&o,!(!o&&r?.errors==null));++a);return e!==s&&r.coercions.push([(i=r.p)!==null&&i!==void 0?i:".",r.coercion.bind(null,e)]),o}})}function lm(n,{delimiter:t}={}){let e=Wr(n,{delimiter:t});return D({test:(r,i)=>{var s,o;if(Object.getPrototypeOf(r).toString()==="[object Set]")if(typeof i?.coercions<"u"){if(typeof i?.coercion>"u")return N(i,"Unbound coercion result");let a=[...r],c=[...r];if(!e(c,Object.assign(Object.assign({},i),{coercion:void 0})))return!1;let f=()=>c.some((u,l)=>u!==a[l])?new Set(c):r;return i.coercions.push([(s=i.p)!==null&&s!==void 0?s:".",Hn(i.coercion,r,f)]),!0}else{let a=!0;for(let c of r)if(a=n(c,Object.assign({},i))&&a,!a&&i?.errors==null)break;return a}if(typeof i?.coercions<"u"){if(typeof i?.coercion>"u")return N(i,"Unbound coercion result");let a={value:r};return e(r,Object.assign(Object.assign({},i),{coercion:fe(a,"value")}))?(i.coercions.push([(o=i.p)!==null&&o!==void 0?o:".",Hn(i.coercion,r,()=>new Set(a.value))]),!0):!1}return N(i,`Expected a set (got ${M(r)})`)}})}function fm(n,t){let e=Wr(zr([n,t])),r=Hr(t,{keys:n});return D({test:(i,s)=>{var o,a,c;if(Object.getPrototypeOf(i).toString()==="[object Map]")if(typeof s?.coercions<"u"){if(typeof s?.coercion>"u")return N(s,"Unbound coercion result");let f=[...i],u=[...i];if(!e(u,Object.assign(Object.assign({},s),{coercion:void 0})))return!1;let l=()=>u.some((h,d)=>h[0]!==f[d][0]||h[1]!==f[d][1])?new Map(u):i;return s.coercions.push([(o=s.p)!==null&&o!==void 0?o:".",Hn(s.coercion,i,l)]),!0}else{let f=!0;for(let[u,l]of i)if(f=n(u,Object.assign({},s))&&f,!f&&s?.errors==null||(f=t(l,Object.assign(Object.assign({},s),{p:xe(s,u)}))&&f,!f&&s?.errors==null))break;return f}if(typeof s?.coercions<"u"){if(typeof s?.coercion>"u")return N(s,"Unbound coercion result");let f={value:i};return Array.isArray(i)?e(i,Object.assign(Object.assign({},s),{coercion:void 0}))?(s.coercions.push([(a=s.p)!==null&&a!==void 0?a:".",Hn(s.coercion,i,()=>new Map(f.value))]),!0):!1:r(i,Object.assign(Object.assign({},s),{coercion:fe(f,"value")}))?(s.coercions.push([(c=s.p)!==null&&c!==void 0?c:".",Hn(s.coercion,i,()=>new Map(Object.entries(f.value)))]),!0):!1}return N(s,`Expected a map (got ${M(i)})`)}})}function zr(n,{delimiter:t}={}){let e=Za(n.length);return D({test:(r,i)=>{var s;if(typeof r=="string"&&typeof t<"u"&&typeof i?.coercions<"u"){if(typeof i?.coercion>"u")return N(i,"Unbound coercion result");r=r.split(t),i.coercions.push([(s=i.p)!==null&&s!==void 0?s:".",i.coercion.bind(null,r)])}if(!Array.isArray(r))return N(i,`Expected a tuple (got ${M(r)})`);let o=e(r,Object.assign({},i));for(let a=0,c=r.length;a<c&&a<n.length&&(o=n[a](r[a],Object.assign(Object.assign({},i),{p:xe(i,a),coercion:fe(r,a)}))&&o,!(!o&&i?.errors==null));++a);return o}})}function Hr(n,{keys:t=null}={}){let e=Wr(zr([t??za(),n]));return D({test:(r,i)=>{var s;if(Array.isArray(r)&&typeof i?.coercions<"u")return typeof i?.coercion>"u"?N(i,"Unbound coercion result"):e(r,Object.assign(Object.assign({},i),{coercion:void 0}))?(r=Object.fromEntries(r),i.coercions.push([(s=i.p)!==null&&s!==void 0?s:".",i.coercion.bind(null,r)]),!0):!1;if(typeof r!="object"||r===null)return N(i,`Expected an object (got ${M(r)})`);let o=Object.keys(r),a=!0;for(let c=0,f=o.length;c<f&&(a||i?.errors!=null);++c){let u=o[c],l=r[u];if(u==="__proto__"||u==="constructor"){a=N(Object.assign(Object.assign({},i),{p:xe(i,u)}),"Unsafe property name");continue}if(t!==null&&!t(u,i)){a=!1;continue}if(!n(l,Object.assign(Object.assign({},i),{p:xe(i,u),coercion:fe(r,u)}))){a=!1;continue}}return a}})}function hm(n,t={}){return Hr(n,t)}function Ha(n,{extra:t=null}={}){let e=Object.keys(n),r=D({test:(i,s)=>{if(typeof i!="object"||i===null)return N(s,`Expected an object (got ${M(i)})`);let o=new Set([...e,...Object.keys(i)]),a={},c=!0;for(let f of o){if(f==="constructor"||f==="__proto__")c=N(Object.assign(Object.assign({},s),{p:xe(s,f)}),"Unsafe property name");else{let u=Object.prototype.hasOwnProperty.call(n,f)?n[f]:void 0,l=Object.prototype.hasOwnProperty.call(i,f)?i[f]:void 0;typeof u<"u"?c=u(l,Object.assign(Object.assign({},s),{p:xe(s,f),coercion:fe(i,f)}))&&c:t===null?c=N(Object.assign(Object.assign({},s),{p:xe(s,f)}),`Extraneous property (got ${M(l)})`):Object.defineProperty(a,f,{enumerable:!0,get:()=>l,set:im(i,f)})}if(!c&&s?.errors==null)break}return t!==null&&(c||s?.errors!=null)&&(c=t(a,s)&&c),c}});return Object.assign(r,{properties:n})}function dm(n){return Ha(n,{extra:Hr(ys())})}var pm=n=>D({test:(t,e)=>t instanceof n?!0:N(e,`Expected an instance of ${n.name} (got ${M(t)})`)}),mm=(n,{exclusive:t=!1}={})=>D({test:(e,r)=>{var i,s,o;let a=[],c=typeof r?.errors<"u"?[]:void 0;for(let f=0,u=n.length;f<u;++f){let l=typeof r?.errors<"u"?[]:void 0,h=typeof r?.coercions<"u"?[]:void 0;if(n[f](e,Object.assign(Object.assign({},r),{errors:l,coercions:h,p:`${(i=r?.p)!==null&&i!==void 0?i:"."}#${f+1}`}))){if(a.push([`#${f+1}`,h]),!t)break}else c?.push(l[0])}if(a.length===1){let[,f]=a[0];return typeof f<"u"&&((s=r?.coercions)===null||s===void 0||s.push(...f)),!0}return a.length>1?N(r,`Expected to match exactly a single predicate (matched ${a.join(", ")})`):(o=r?.errors)===null||o===void 0||o.push(...c),!1}});function Va(n){return()=>n}function D({test:n}){return Va(n)()}var Oe=class extends Error{constructor({errors:t}={}){let e="Type mismatch";if(t&&t.length>0){e+=`
`;for(let r of t)e+=`
- ${r}`}super(e)}};function gm(n,t){if(!t(n))throw new Oe}function ym(n,t){let e=[];if(!t(n,{errors:e}))throw new Oe({errors:e})}function Em(n,t){}function wm(n,t,{coerce:e=!1,errors:r,throw:i}={}){let s=r?[]:void 0;if(!e){if(t(n,{errors:s}))return i?n:{value:n,errors:void 0};if(i)throw new Oe({errors:s});return{value:void 0,errors:s??!0}}let o={value:n},a=fe(o,"value"),c=[];if(!t(n,{errors:s,coercion:a,coercions:c})){if(i)throw new Oe({errors:s});return{value:void 0,errors:s??!0}}for(let[,f]of c)f();return i?o.value:{value:o.value,errors:void 0}}function Sm(n,t){let e=zr(n);return(...r)=>{if(!e(r))throw new Oe;return t(...r)}}function bm(n){return D({test:(t,e)=>t.length>=n?!0:N(e,`Expected to have a length of at least ${n} elements (got ${t.length})`)})}function vm(n){return D({test:(t,e)=>t.length<=n?!0:N(e,`Expected to have a length of at most ${n} elements (got ${t.length})`)})}function Za(n){return D({test:(t,e)=>t.length!==n?N(e,`Expected to have a length of exactly ${n} elements (got ${t.length})`):!0})}function xm({map:n}={}){return D({test:(t,e)=>{let r=new Set,i=new Set;for(let s=0,o=t.length;s<o;++s){let a=t[s],c=typeof n<"u"?n(a):a;if(r.has(c)){if(i.has(c))continue;N(e,`Expected to contain unique elements; got a duplicate with ${M(t)}`),i.add(c)}else r.add(c)}return i.size===0}})}function Om(){return D({test:(n,t)=>n<=0?!0:N(t,`Expected to be negative (got ${n})`)})}function Cm(){return D({test:(n,t)=>n>=0?!0:N(t,`Expected to be positive (got ${n})`)})}function Nm(n){return D({test:(t,e)=>t>=n?!0:N(e,`Expected to be at least ${n} (got ${t})`)})}function _m(n){return D({test:(t,e)=>t<=n?!0:N(e,`Expected to be at most ${n} (got ${t})`)})}function Im(n,t){return D({test:(e,r)=>e>=n&&e<=t?!0:N(r,`Expected to be in the [${n}; ${t}] range (got ${e})`)})}function Tm(n,t){return D({test:(e,r)=>e>=n&&e<t?!0:N(r,`Expected to be in the [${n}; ${t}[ range (got ${e})`)})}function Dm({unsafe:n=!1}={}){return D({test:(t,e)=>t!==Math.round(t)?N(e,`Expected to be an integer (got ${t})`):!n&&!Number.isSafeInteger(t)?N(e,`Expected to be a safe integer (got ${t})`):!0})}function Am(n){return D({test:(t,e)=>n.test(t)?!0:N(e,`Expected to match the pattern ${n.toString()} (got ${M(t)})`)})}function Lm(){return D({test:(n,t)=>n!==n.toLowerCase()?N(t,`Expected to be all-lowercase (got ${n})`):!0})}function Rm(){return D({test:(n,t)=>n!==n.toUpperCase()?N(t,`Expected to be all-uppercase (got ${n})`):!0})}function Pm(){return D({test:(n,t)=>rm.test(n)?!0:N(t,`Expected to be a valid UUID v4 (got ${M(n)})`)})}function Fm(){return D({test:(n,t)=>Ga.test(n)?!0:N(t,`Expected to be a valid ISO 8601 date string (got ${M(n)})`)})}function km({alpha:n=!1}){return D({test:(t,e)=>(n?tm.test(t):em.test(t))?!0:N(e,`Expected to be a valid hexadecimal color string (got ${M(t)})`)})}function $m(){return D({test:(n,t)=>nm.test(n)?!0:N(t,`Expected to be a valid base 64 string (got ${M(n)})`)})}function Mm(n=ys()){return D({test:(t,e)=>{let r;try{r=JSON.parse(t)}catch{return N(e,`Expected to be a valid JSON string (got ${M(t)})`)}return n(r,e)}})}function Ja(n,...t){let e=Array.isArray(t[0])?t[0]:t;return D({test:(r,i)=>{var s,o;let a={value:r},c=typeof i?.coercions<"u"?fe(a,"value"):void 0,f=typeof i?.coercions<"u"?[]:void 0;if(!n(r,Object.assign(Object.assign({},i),{coercion:c,coercions:f})))return!1;let u=[];if(typeof f<"u")for(let[,l]of f)u.push(l());try{if(typeof i?.coercions<"u"){if(a.value!==r){if(typeof i?.coercion>"u")return N(i,"Unbound coercion result");i.coercions.push([(s=i.p)!==null&&s!==void 0?s:".",i.coercion.bind(null,a.value)])}(o=i?.coercions)===null||o===void 0||o.push(...f)}return e.every(l=>l(a.value,i))}finally{for(let l of u)l()}}})}function jm(n,...t){let e=Array.isArray(t[0])?t[0]:t;return Ja(n,e)}function Um(n){return D({test:(t,e)=>typeof t>"u"?!0:n(t,e)})}function Bm(n){return D({test:(t,e)=>t===null?!0:n(t,e)})}var Vr={missing:(n,t)=>n.has(t),undefined:(n,t,e)=>n.has(t)&&typeof e[t]<"u",nil:(n,t,e)=>n.has(t)&&e[t]!=null,falsy:(n,t,e)=>n.has(t)&&!!e[t]};function qm(n,t){var e;let r=new Set(n),i=Vr[(e=t?.missingIf)!==null&&e!==void 0?e:"missing"];return D({test:(s,o)=>{let a=new Set(Object.keys(s)),c=[];for(let f of r)i(a,f,s)||c.push(f);return c.length>0?N(o,`Missing required ${gs(c.length,"property","properties")} ${cn(c,"and")}`):!0}})}function Gm(n,t){var e;let r=new Set(n),i=Vr[(e=t?.missingIf)!==null&&e!==void 0?e:"missing"];return D({test:(s,o)=>Object.keys(s).some(f=>i(r,f,s))?!0:N(o,`Missing at least one property from ${cn(Array.from(r),"or")}`)})}function Wm(n,t){var e;let r=new Set(n),i=Vr[(e=t?.missingIf)!==null&&e!==void 0?e:"missing"];return D({test:(s,o)=>{let a=new Set(Object.keys(s)),c=[];for(let f of r)i(a,f,s)&&c.push(f);return c.length>0?N(o,`Forbidden ${gs(c.length,"property","properties")} ${cn(c,"and")}`):!0}})}function zm(n,t){var e;let r=new Set(n),i=Vr[(e=t?.missingIf)!==null&&e!==void 0?e:"missing"];return D({test:(s,o)=>{let a=new Set(Object.keys(s)),c=[];for(let f of r)i(a,f,s)&&c.push(f);return c.length>1?N(o,`Mutually exclusive properties ${cn(c,"and")}`):!0}})}(function(n){n.Forbids="Forbids",n.Requires="Requires"})(C.KeyRelationship||(C.KeyRelationship={}));var Hm={[C.KeyRelationship.Forbids]:{expect:!1,message:"forbids using"},[C.KeyRelationship.Requires]:{expect:!0,message:"requires using"}};function Vm(n,t,e,{ignore:r=[]}={}){let i=new Set(r),s=new Set(e),o=Hm[t],a=t===C.KeyRelationship.Forbids?"or":"and";return D({test:(c,f)=>{let u=new Set(Object.keys(c));if(!u.has(n)||i.has(c[n]))return!0;let l=[];for(let h of s)(u.has(h)&&!i.has(c[h]))!==o.expect&&l.push(h);return l.length>=1?N(f,`Property "${n}" ${o.message} ${gs(l.length,"property","properties")} ${cn(l,a)}`):!0}})}C.TypeAssertionError=Oe;C.applyCascade=jm;C.as=wm;C.assert=gm;C.assertWithErrors=ym;C.cascade=Ja;C.fn=Sm;C.hasAtLeastOneKey=Gm;C.hasExactLength=Za;C.hasForbiddenKeys=Wm;C.hasKeyRelationship=Vm;C.hasMaxLength=vm;C.hasMinLength=bm;C.hasMutuallyExclusiveKeys=zm;C.hasRequiredKeys=qm;C.hasUniqueItems=xm;C.isArray=Wr;C.isAtLeast=Nm;C.isAtMost=_m;C.isBase64=$m;C.isBoolean=am;C.isDate=um;C.isDict=hm;C.isEnum=sm;C.isHexColor=km;C.isISO8601=Fm;C.isInExclusiveRange=Tm;C.isInInclusiveRange=Im;C.isInstanceOf=pm;C.isInteger=Dm;C.isJSON=Mm;C.isLiteral=Wa;C.isLowerCase=Lm;C.isMap=fm;C.isNegative=Om;C.isNullable=Bm;C.isNumber=cm;C.isObject=Ha;C.isOneOf=mm;C.isOptional=Um;C.isPartial=dm;C.isPositive=Cm;C.isRecord=Hr;C.isSet=lm;C.isString=za;C.isTuple=zr;C.isUUID4=Pm;C.isUnknown=ys;C.isUpperCase=Rm;C.makeTrait=Va;C.makeValidator=D;C.matchesRegExp=Am;C.softAssert=Em});var qe=S(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});var Xa=le();function Zm(n){if(n&&n.__esModule)return n;var t=Object.create(null);return n&&Object.keys(n).forEach(function(e){if(e!=="default"){var r=Object.getOwnPropertyDescriptor(n,e);Object.defineProperty(t,e,r.get?r:{enumerable:!0,get:function(){return n[e]}})}}),t.default=n,Object.freeze(t)}var Vn=class{constructor(){this.help=!1}static Usage(t){return t}async catch(t){throw t}async validateAndExecute(){let e=this.constructor.schema;if(Array.isArray(e)){let{isDict:i,isUnknown:s,applyCascade:o}=await Promise.resolve().then(function(){return Zm(Ka())}),a=o(i(s()),e),c=[],f=[];if(!a(this,{errors:c,coercions:f}))throw Xa.formatError("Invalid option schema",c);for(let[,l]of f)l()}else if(e!=null)throw new Error("Invalid command schema");let r=await this.execute();return typeof r<"u"?r:0}};Vn.isOption=Xa.isOptionSymbol;Vn.Default=[];Es.Command=Vn});var Yr=S(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});var _=qr(),Kr=Gr();function xt(n){_.DEBUG&&console.log(n)}var Ya={candidateUsage:null,requiredOptions:[],errorMessage:null,ignoreOptions:!1,path:[],positionals:[],options:[],remainder:null,selectedIndex:_.HELP_COMMAND_INDEX};function ws(){return{nodes:[wt(),wt(),wt()]}}function Qa(n){let t=ws(),e=[],r=t.nodes.length;for(let i of n){e.push(r);for(let s=0;s<i.nodes.length;++s)bs(s)||t.nodes.push(oc(i.nodes[s],r));r+=i.nodes.length-2}for(let i of e)Ge(t,_.NODE_INITIAL,i);return t}function Ut(n,t){return n.nodes.push(t),n.nodes.length-1}function tc(n){let t=new Set,e=r=>{if(t.has(r))return;t.add(r);let i=n.nodes[r];for(let o of Object.values(i.statics))for(let{to:a}of o)e(a);for(let[,{to:o}]of i.dynamics)e(o);for(let{to:o}of i.shortcuts)e(o);let s=new Set(i.shortcuts.map(({to:o})=>o));for(;i.shortcuts.length>0;){let{to:o}=i.shortcuts.shift(),a=n.nodes[o];for(let[c,f]of Object.entries(a.statics)){let u=Object.prototype.hasOwnProperty.call(i.statics,c)?i.statics[c]:i.statics[c]=[];for(let l of f)u.some(({to:h})=>l.to===h)||u.push(l)}for(let[c,f]of a.dynamics)i.dynamics.some(([u,{to:l}])=>c===u&&f.to===l)||i.dynamics.push([c,f]);for(let c of a.shortcuts)s.has(c.to)||(i.shortcuts.push(c),s.add(c.to))}};e(_.NODE_INITIAL)}function ec(n,{prefix:t=""}={}){if(_.DEBUG){xt(`${t}Nodes are:`);for(let e=0;e<n.nodes.length;++e)xt(`${t}  ${e}: ${JSON.stringify(n.nodes[e])}`)}}function Ss(n,t,e=!1){xt(`Running a vm on ${JSON.stringify(t)}`);let r=[{node:_.NODE_INITIAL,state:{candidateUsage:null,requiredOptions:[],errorMessage:null,ignoreOptions:!1,options:[],path:[],positionals:[],remainder:null,selectedIndex:null}}];ec(n,{prefix:"  "});let i=[_.START_OF_INPUT,...t];for(let s=0;s<i.length;++s){let o=i[s];xt(`  Processing ${JSON.stringify(o)}`);let a=[];for(let{node:c,state:f}of r){xt(`    Current node is ${c}`);let u=n.nodes[c];if(c===_.NODE_ERRORED){a.push({node:c,state:f});continue}console.assert(u.shortcuts.length===0,"Shortcuts should have been eliminated by now");let l=Object.prototype.hasOwnProperty.call(u.statics,o);if(!e||s<i.length-1||l)if(l){let h=u.statics[o];for(let{to:d,reducer:p}of h)a.push({node:d,state:typeof p<"u"?Zn(Jr,p,f,o):f}),xt(`      Static transition to ${d} found`)}else xt("      No static transition found");else{let h=!1;for(let d of Object.keys(u.statics))if(d.startsWith(o)){if(o===d)for(let{to:p,reducer:m}of u.statics[d])a.push({node:p,state:typeof m<"u"?Zn(Jr,m,f,o):f}),xt(`      Static transition to ${p} found`);else for(let{to:p}of u.statics[d])a.push({node:p,state:{...f,remainder:d.slice(o.length)}}),xt(`      Static transition to ${p} found (partial match)`);h=!0}h||xt("      No partial static transition found")}if(o!==_.END_OF_INPUT)for(let[h,{to:d,reducer:p}]of u.dynamics)Zn(Jn,h,f,o)&&(a.push({node:d,state:typeof p<"u"?Zn(Jr,p,f,o):f}),xt(`      Dynamic transition to ${d} found (via ${h})`))}if(a.length===0&&o===_.END_OF_INPUT&&t.length===1)return[{node:_.NODE_INITIAL,state:Ya}];if(a.length===0)throw new Kr.UnknownSyntaxError(t,r.filter(({node:c})=>c!==_.NODE_ERRORED).map(({state:c})=>({usage:c.candidateUsage,reason:null})));if(a.every(({node:c})=>c===_.NODE_ERRORED))throw new Kr.UnknownSyntaxError(t,a.map(({state:c})=>({usage:c.candidateUsage,reason:c.errorMessage})));r=nc(a)}if(r.length>0){xt("  Results:");for(let s of r)xt(`    - ${s.node} -> ${JSON.stringify(s.state)}`)}else xt("  No results");return r}function Jm(n,t){if(t.selectedIndex!==null)return!0;if(Object.prototype.hasOwnProperty.call(n.statics,_.END_OF_INPUT)){for(let{to:e}of n.statics[_.END_OF_INPUT])if(e===_.NODE_SUCCESS)return!0}return!1}function Km(n,t,e){let r=e&&t.length>0?[""]:[],i=Ss(n,t,e),s=[],o=new Set,a=(c,f,u=!0)=>{let l=[f];for(;l.length>0;){let d=l;l=[];for(let p of d){let m=n.nodes[p],y=Object.keys(m.statics);for(let g of Object.keys(m.statics)){let E=y[0];for(let{to:w,reducer:v}of m.statics[E])v==="pushPath"&&(u||c.push(E),l.push(w))}}u=!1}let h=JSON.stringify(c);o.has(h)||(s.push(c),o.add(h))};for(let{node:c,state:f}of i){if(f.remainder!==null){a([f.remainder],c);continue}let u=n.nodes[c],l=Jm(u,f);for(let[h,d]of Object.entries(u.statics))(l&&h!==_.END_OF_INPUT||!h.startsWith("-")&&d.some(({reducer:p})=>p==="pushPath"))&&a([...r,h],c);if(l)for(let[h,{to:d}]of u.dynamics){if(d===_.NODE_ERRORED)continue;let p=ac(h,f);if(p!==null)for(let m of p)a([...r,m],c)}}return[...s].sort()}function Xm(n,t){let e=Ss(n,[...t,_.END_OF_INPUT]);return rc(t,e.map(({state:r})=>r))}function nc(n){let t=0;for(let{state:e}of n)e.path.length>t&&(t=e.path.length);return n.filter(({state:e})=>e.path.length===t)}function rc(n,t){let e=t.filter(l=>l.selectedIndex!==null);if(e.length===0)throw new Error;let r=e.filter(l=>l.selectedIndex===_.HELP_COMMAND_INDEX||l.requiredOptions.every(h=>h.some(d=>l.options.find(p=>p.name===d))));if(r.length===0)throw new Kr.UnknownSyntaxError(n,e.map(l=>({usage:l.candidateUsage,reason:null})));let i=0;for(let l of r)l.path.length>i&&(i=l.path.length);let s=r.filter(l=>l.path.length===i),o=l=>l.positionals.filter(({extra:h})=>!h).length+l.options.length,a=s.map(l=>({state:l,positionalCount:o(l)})),c=0;for(let{positionalCount:l}of a)l>c&&(c=l);let f=a.filter(({positionalCount:l})=>l===c).map(({state:l})=>l),u=ic(f);if(u.length>1)throw new Kr.AmbiguousSyntaxError(n,u.map(l=>l.candidateUsage));return u[0]}function ic(n){let t=[],e=[];for(let r of n)r.selectedIndex===_.HELP_COMMAND_INDEX?e.push(r):t.push(r);return e.length>0&&t.push({...Ya,path:sc(...e.map(r=>r.path)),options:e.reduce((r,i)=>r.concat(i.options),[])}),t}function sc(n,t,...e){return t===void 0?Array.from(n):sc(n.filter((r,i)=>r===t[i]),...e)}function wt(){return{dynamics:[],shortcuts:[],statics:{}}}function bs(n){return n===_.NODE_SUCCESS||n===_.NODE_ERRORED}function Zr(n,t=0){return{to:bs(n.to)?n.to:n.to>2?n.to+t-2:n.to+t,reducer:n.reducer}}function oc(n,t=0){let e=wt();for(let[r,i]of n.dynamics)e.dynamics.push([r,Zr(i,t)]);for(let r of n.shortcuts)e.shortcuts.push(Zr(r,t));for(let[r,i]of Object.entries(n.statics))e.statics[r]=i.map(s=>Zr(s,t));return e}function nt(n,t,e,r,i){n.nodes[t].dynamics.push([e,{to:r,reducer:i}])}function Ge(n,t,e,r){n.nodes[t].shortcuts.push({to:e,reducer:r})}function te(n,t,e,r,i){(Object.prototype.hasOwnProperty.call(n.nodes[t].statics,e)?n.nodes[t].statics[e]:n.nodes[t].statics[e]=[]).push({to:r,reducer:i})}function Zn(n,t,e,r){if(Array.isArray(t)){let[i,...s]=t;return n[i](e,r,...s)}else return n[t](e,r)}function ac(n,t){let e=Array.isArray(n)?Jn[n[0]]:Jn[n];if(typeof e.suggest>"u")return null;let r=Array.isArray(n)?n.slice(1):[];return e.suggest(t,...r)}var Jn={always:()=>!0,isOptionLike:(n,t)=>!n.ignoreOptions&&t!=="-"&&t.startsWith("-"),isNotOptionLike:(n,t)=>n.ignoreOptions||t==="-"||!t.startsWith("-"),isOption:(n,t,e,r)=>!n.ignoreOptions&&t===e,isBatchOption:(n,t,e)=>!n.ignoreOptions&&_.BATCH_REGEX.test(t)&&[...t.slice(1)].every(r=>e.includes(`-${r}`)),isBoundOption:(n,t,e,r)=>{let i=t.match(_.BINDING_REGEX);return!n.ignoreOptions&&!!i&&_.OPTION_REGEX.test(i[1])&&e.includes(i[1])&&r.filter(s=>s.names.includes(i[1])).every(s=>s.allowBinding)},isNegatedOption:(n,t,e)=>!n.ignoreOptions&&t===`--no-${e.slice(2)}`,isHelp:(n,t)=>!n.ignoreOptions&&_.HELP_REGEX.test(t),isUnsupportedOption:(n,t,e)=>!n.ignoreOptions&&t.startsWith("-")&&_.OPTION_REGEX.test(t)&&!e.includes(t),isInvalidOption:(n,t)=>!n.ignoreOptions&&t.startsWith("-")&&!_.OPTION_REGEX.test(t)};Jn.isOption.suggest=(n,t,e=!0)=>e?null:[t];var Jr={setCandidateState:(n,t,e)=>({...n,...e}),setSelectedIndex:(n,t,e)=>({...n,selectedIndex:e}),pushBatch:(n,t)=>({...n,options:n.options.concat([...t.slice(1)].map(e=>({name:`-${e}`,value:!0})))}),pushBound:(n,t)=>{let[,e,r]=t.match(_.BINDING_REGEX);return{...n,options:n.options.concat({name:e,value:r})}},pushPath:(n,t)=>({...n,path:n.path.concat(t)}),pushPositional:(n,t)=>({...n,positionals:n.positionals.concat({value:t,extra:!1})}),pushExtra:(n,t)=>({...n,positionals:n.positionals.concat({value:t,extra:!0})}),pushExtraNoLimits:(n,t)=>({...n,positionals:n.positionals.concat({value:t,extra:ee})}),pushTrue:(n,t,e=t)=>({...n,options:n.options.concat({name:t,value:!0})}),pushFalse:(n,t,e=t)=>({...n,options:n.options.concat({name:e,value:!1})}),pushUndefined:(n,t)=>({...n,options:n.options.concat({name:t,value:void 0})}),pushStringValue:(n,t)=>{var e;let r={...n,options:[...n.options]},i=n.options[n.options.length-1];return i.value=((e=i.value)!==null&&e!==void 0?e:[]).concat([t]),r},setStringValue:(n,t)=>{let e={...n,options:[...n.options]},r=n.options[n.options.length-1];return r.value=t,e},inhibateOptions:n=>({...n,ignoreOptions:!0}),useHelp:(n,t,e)=>{let[,,r]=t.match(_.HELP_REGEX);return typeof r<"u"?{...n,options:[{name:"-c",value:String(e)},{name:"-i",value:r}]}:{...n,options:[{name:"-c",value:String(e)}]}},setError:(n,t,e)=>t===_.END_OF_INPUT?{...n,errorMessage:`${e}.`}:{...n,errorMessage:`${e} ("${t}").`},setOptionArityError:(n,t)=>{let e=n.options[n.options.length-1];return{...n,errorMessage:`Not enough arguments to option ${e.name}.`}}},ee=Symbol(),Xr=class{constructor(t,e){this.allOptionNames=[],this.arity={leading:[],trailing:[],extra:[],proxy:!1},this.options=[],this.paths=[],this.cliIndex=t,this.cliOpts=e}addPath(t){this.paths.push(t)}setArity({leading:t=this.arity.leading,trailing:e=this.arity.trailing,extra:r=this.arity.extra,proxy:i=this.arity.proxy}){Object.assign(this.arity,{leading:t,trailing:e,extra:r,proxy:i})}addPositional({name:t="arg",required:e=!0}={}){if(!e&&this.arity.extra===ee)throw new Error("Optional parameters cannot be declared when using .rest() or .proxy()");if(!e&&this.arity.trailing.length>0)throw new Error("Optional parameters cannot be declared after the required trailing positional arguments");!e&&this.arity.extra!==ee?this.arity.extra.push(t):this.arity.extra!==ee&&this.arity.extra.length===0?this.arity.leading.push(t):this.arity.trailing.push(t)}addRest({name:t="arg",required:e=0}={}){if(this.arity.extra===ee)throw new Error("Infinite lists cannot be declared multiple times in the same command");if(this.arity.trailing.length>0)throw new Error("Infinite lists cannot be declared after the required trailing positional arguments");for(let r=0;r<e;++r)this.addPositional({name:t});this.arity.extra=ee}addProxy({required:t=0}={}){this.addRest({required:t}),this.arity.proxy=!0}addOption({names:t,description:e,arity:r=0,hidden:i=!1,required:s=!1,allowBinding:o=!0}){if(!o&&r>1)throw new Error("The arity cannot be higher than 1 when the option only supports the --arg=value syntax");if(!Number.isInteger(r))throw new Error(`The arity must be an integer, got ${r}`);if(r<0)throw new Error(`The arity must be positive, got ${r}`);this.allOptionNames.push(...t),this.options.push({names:t,description:e,arity:r,hidden:i,required:s,allowBinding:o})}setContext(t){this.context=t}usage({detailed:t=!0,inlineOptions:e=!0}={}){let r=[this.cliOpts.binaryName],i=[];if(this.paths.length>0&&r.push(...this.paths[0]),t){for(let{names:o,arity:a,hidden:c,description:f,required:u}of this.options){if(c)continue;let l=[];for(let d=0;d<a;++d)l.push(` #${d}`);let h=`${o.join(",")}${l.join("")}`;!e&&f?i.push({definition:h,description:f,required:u}):r.push(u?`<${h}>`:`[${h}]`)}r.push(...this.arity.leading.map(o=>`<${o}>`)),this.arity.extra===ee?r.push("..."):r.push(...this.arity.extra.map(o=>`[${o}]`)),r.push(...this.arity.trailing.map(o=>`<${o}>`))}return{usage:r.join(" "),options:i}}compile(){if(typeof this.context>"u")throw new Error("Assertion failed: No context attached");let t=ws(),e=_.NODE_INITIAL,r=this.usage().usage,i=this.options.filter(a=>a.required).map(a=>a.names);e=Ut(t,wt()),te(t,_.NODE_INITIAL,_.START_OF_INPUT,e,["setCandidateState",{candidateUsage:r,requiredOptions:i}]);let s=this.arity.proxy?"always":"isNotOptionLike",o=this.paths.length>0?this.paths:[[]];for(let a of o){let c=e;if(a.length>0){let h=Ut(t,wt());Ge(t,c,h),this.registerOptions(t,h),c=h}for(let h=0;h<a.length;++h){let d=Ut(t,wt());te(t,c,a[h],d,"pushPath"),c=d}if(this.arity.leading.length>0||!this.arity.proxy){let h=Ut(t,wt());nt(t,c,"isHelp",h,["useHelp",this.cliIndex]),nt(t,h,"always",h,"pushExtra"),te(t,h,_.END_OF_INPUT,_.NODE_SUCCESS,["setSelectedIndex",_.HELP_COMMAND_INDEX]),this.registerOptions(t,c)}this.arity.leading.length>0&&te(t,c,_.END_OF_INPUT,_.NODE_ERRORED,["setError","Not enough positional arguments"]);let f=c;for(let h=0;h<this.arity.leading.length;++h){let d=Ut(t,wt());(!this.arity.proxy||h+1!==this.arity.leading.length)&&this.registerOptions(t,d),(this.arity.trailing.length>0||h+1!==this.arity.leading.length)&&te(t,d,_.END_OF_INPUT,_.NODE_ERRORED,["setError","Not enough positional arguments"]),nt(t,f,"isNotOptionLike",d,"pushPositional"),f=d}let u=f;if(this.arity.extra===ee||this.arity.extra.length>0){let h=Ut(t,wt());if(Ge(t,f,h),this.arity.extra===ee){let d=Ut(t,wt());this.arity.proxy||this.registerOptions(t,d),nt(t,f,s,d,"pushExtraNoLimits"),nt(t,d,s,d,"pushExtraNoLimits"),Ge(t,d,h)}else for(let d=0;d<this.arity.extra.length;++d){let p=Ut(t,wt());(!this.arity.proxy||d>0)&&this.registerOptions(t,p),nt(t,u,s,p,"pushExtra"),Ge(t,p,h),u=p}u=h}this.arity.trailing.length>0&&te(t,u,_.END_OF_INPUT,_.NODE_ERRORED,["setError","Not enough positional arguments"]);let l=u;for(let h=0;h<this.arity.trailing.length;++h){let d=Ut(t,wt());this.arity.proxy||this.registerOptions(t,d),h+1<this.arity.trailing.length&&te(t,d,_.END_OF_INPUT,_.NODE_ERRORED,["setError","Not enough positional arguments"]),nt(t,l,"isNotOptionLike",d,"pushPositional"),l=d}nt(t,l,s,_.NODE_ERRORED,["setError","Extraneous positional argument"]),te(t,l,_.END_OF_INPUT,_.NODE_SUCCESS,["setSelectedIndex",this.cliIndex])}return{machine:t,context:this.context}}registerOptions(t,e){nt(t,e,["isOption","--"],e,"inhibateOptions"),nt(t,e,["isBatchOption",this.allOptionNames],e,"pushBatch"),nt(t,e,["isBoundOption",this.allOptionNames,this.options],e,"pushBound"),nt(t,e,["isUnsupportedOption",this.allOptionNames],_.NODE_ERRORED,["setError","Unsupported option name"]),nt(t,e,["isInvalidOption"],_.NODE_ERRORED,["setError","Invalid option name"]);for(let r of this.options){let i=r.names.reduce((s,o)=>o.length>s.length?o:s,"");if(r.arity===0)for(let s of r.names)nt(t,e,["isOption",s,r.hidden||s!==i],e,"pushTrue"),s.startsWith("--")&&!s.startsWith("--no-")&&nt(t,e,["isNegatedOption",s],e,["pushFalse",s]);else{let s=Ut(t,wt());for(let o of r.names)nt(t,e,["isOption",o,r.hidden||o!==i],s,"pushUndefined");for(let o=0;o<r.arity;++o){let a=Ut(t,wt());te(t,s,_.END_OF_INPUT,_.NODE_ERRORED,"setOptionArityError"),nt(t,s,"isOptionLike",_.NODE_ERRORED,"setOptionArityError");let c=r.arity===1?"setStringValue":"pushStringValue";nt(t,s,"isNotOptionLike",a,c),s=a}Ge(t,s,e)}}}},Kn=class{constructor({binaryName:t="..."}={}){this.builders=[],this.opts={binaryName:t}}static build(t,e={}){return new Kn(e).commands(t).compile()}getBuilderByIndex(t){if(!(t>=0&&t<this.builders.length))throw new Error(`Assertion failed: Out-of-bound command index (${t})`);return this.builders[t]}commands(t){for(let e of t)e(this.command());return this}command(){let t=new Xr(this.builders.length,this.opts);return this.builders.push(t),t}compile(){let t=[],e=[];for(let i of this.builders){let{machine:s,context:o}=i.compile();t.push(s),e.push(o)}let r=Qa(t);return tc(r),{machine:r,contexts:e,process:i=>Xm(r,i),suggest:(i,s)=>Km(r,i,s)}}};j.CliBuilder=Kn;j.CommandBuilder=Xr;j.NoLimits=ee;j.aggregateHelpStates=ic;j.cloneNode=oc;j.cloneTransition=Zr;j.debug=xt;j.debugMachine=ec;j.execute=Zn;j.injectNode=Ut;j.isTerminalNode=bs;j.makeAnyOfMachine=Qa;j.makeNode=wt;j.makeStateMachine=ws;j.reducers=Jr;j.registerDynamic=nt;j.registerShortcut=Ge;j.registerStatic=te;j.runMachineInternal=Ss;j.selectBestState=rc;j.simplifyMachine=tc;j.suggest=ac;j.tests=Jn;j.trimSmallerBranches=nc});var uc=S(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});var Ym=require("tty");function Qm(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var vs=Qm(Ym);function tg(){return vs.default&&"getColorDepth"in vs.default.WriteStream.prototype?vs.default.WriteStream.prototype.getColorDepth():process.env.FORCE_COLOR==="0"?1:process.env.FORCE_COLOR==="1"||typeof process.stdout<"u"&&process.stdout.isTTY?8:1}var cc;function eg(n){let t=cc;if(typeof t>"u"){if(n.stdout===process.stdout&&n.stderr===process.stderr)return null;let{AsyncLocalStorage:e}=require("async_hooks");t=cc=new e;let r=process.stdout._write;process.stdout._write=function(s,o,a){let c=t.getStore();return typeof c>"u"?r.call(this,s,o,a):c.stdout.write(s,o,a)};let i=process.stderr._write;process.stderr._write=function(s,o,a){let c=t.getStore();return typeof c>"u"?i.call(this,s,o,a):c.stderr.write(s,o,a)}}return e=>t.run(n,e)}Qr.getCaptureActivator=eg;Qr.getDefaultColorDepth=tg});var lc=S(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});var ng=qe(),Xn=class extends ng.Command{constructor(t){super(),this.contexts=t,this.commands=[]}static from(t,e){let r=new Xn(e);r.path=t.path;for(let i of t.options)switch(i.name){case"-c":r.commands.push(Number(i.value));break;case"-i":r.index=Number(i.value);break}return r}async execute(){let t=this.commands;if(typeof this.index<"u"&&this.index>=0&&this.index<t.length&&(t=[t[this.index]]),t.length===0)this.context.stdout.write(this.cli.usage());else if(t.length===1)this.context.stdout.write(this.cli.usage(this.contexts[t[0]].commandClass,{detailed:!0}));else if(t.length>1){this.context.stdout.write(`Multiple commands match your selection:
`),this.context.stdout.write(`
`);let e=0;for(let r of this.commands)this.context.stdout.write(this.cli.usage(this.contexts[r].commandClass,{prefix:`${e++}. `.padStart(5)}));this.context.stdout.write(`
`),this.context.stdout.write(`Run again with -h=<index> to see the longer details of any of those commands.
`)}}};xs.HelpCommand=Xn});var mc=S(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});var rg=qr(),ig=Yr(),$t=ps(),dc=uc(),ti=qe(),sg=lc(),fc=Symbol("clipanion/errorCommand");async function og(...n){let{resolvedOptions:t,resolvedCommandClasses:e,resolvedArgv:r,resolvedContext:i}=pc(n);return Zt.from(e,t).runExit(r,i)}async function ag(...n){let{resolvedOptions:t,resolvedCommandClasses:e,resolvedArgv:r,resolvedContext:i}=pc(n);return Zt.from(e,t).run(r,i)}function pc(n){let t,e,r,i;switch(typeof process<"u"&&typeof process.argv<"u"&&(r=process.argv.slice(2)),n.length){case 1:e=n[0];break;case 2:n[0]&&n[0].prototype instanceof ti.Command||Array.isArray(n[0])?(e=n[0],Array.isArray(n[1])?r=n[1]:i=n[1]):(t=n[0],e=n[1]);break;case 3:Array.isArray(n[2])?(t=n[0],e=n[1],r=n[2]):n[0]&&n[0].prototype instanceof ti.Command||Array.isArray(n[0])?(e=n[0],r=n[1],i=n[2]):(t=n[0],e=n[1],i=n[2]);break;default:t=n[0],e=n[1],r=n[2],i=n[3];break}if(typeof r>"u")throw new Error("The argv parameter must be provided when running Clipanion outside of a Node context");return{resolvedOptions:t,resolvedCommandClasses:e,resolvedArgv:r,resolvedContext:i}}var Zt=class{constructor({binaryLabel:t,binaryName:e="...",binaryVersion:r,enableCapture:i=!1,enableColors:s}={}){this.registrations=new Map,this.builder=new ig.CliBuilder({binaryName:e}),this.binaryLabel=t,this.binaryName=e,this.binaryVersion=r,this.enableCapture=i,this.enableColors=s}static from(t,e={}){let r=new Zt(e),i=Array.isArray(t)?t:[t];for(let s of i)r.register(s);return r}register(t){var e;let r=new Map,i=new t;for(let c in i){let f=i[c];typeof f=="object"&&f!==null&&f[ti.Command.isOption]&&r.set(c,f)}let s=this.builder.command(),o=s.cliIndex,a=(e=t.paths)!==null&&e!==void 0?e:i.paths;if(typeof a<"u")for(let c of a)s.addPath(c);this.registrations.set(t,{specs:r,builder:s,index:o});for(let[c,{definition:f}]of r.entries())f(s,c);s.setContext({commandClass:t})}process(t,e){let{contexts:r,process:i}=this.builder.compile(),s=i(t),o={...Zt.defaultContext,...e};switch(s.selectedIndex){case rg.HELP_COMMAND_INDEX:{let a=sg.HelpCommand.from(s,r);return a.context=o,a}default:{let{commandClass:a}=r[s.selectedIndex],c=this.registrations.get(a);if(typeof c>"u")throw new Error("Assertion failed: Expected the command class to have been registered.");let f=new a;f.context=o,f.path=s.path;try{for(let[u,{transformer:l}]of c.specs.entries())f[u]=l(c.builder,u,s,o);return f}catch(u){throw u[fc]=f,u}}break}}async run(t,e){var r,i;let s,o={...Zt.defaultContext,...e},a=(r=this.enableColors)!==null&&r!==void 0?r:o.colorDepth>1;if(!Array.isArray(t))s=t;else try{s=this.process(t,o)}catch(u){return o.stdout.write(this.error(u,{colored:a})),1}if(s.help)return o.stdout.write(this.usage(s,{colored:a,detailed:!0})),0;s.context=o,s.cli={binaryLabel:this.binaryLabel,binaryName:this.binaryName,binaryVersion:this.binaryVersion,enableCapture:this.enableCapture,enableColors:this.enableColors,definitions:()=>this.definitions(),error:(u,l)=>this.error(u,l),format:u=>this.format(u),process:(u,l)=>this.process(u,{...o,...l}),run:(u,l)=>this.run(u,{...o,...l}),usage:(u,l)=>this.usage(u,l)};let c=this.enableCapture&&(i=dc.getCaptureActivator(o))!==null&&i!==void 0?i:hc,f;try{f=await c(()=>s.validateAndExecute().catch(u=>s.catch(u).then(()=>0)))}catch(u){return o.stdout.write(this.error(u,{colored:a,command:s})),1}return f}async runExit(t,e){process.exitCode=await this.run(t,e)}suggest(t,e){let{suggest:r}=this.builder.compile();return r(t,e)}definitions({colored:t=!1}={}){let e=[];for(let[r,{index:i}]of this.registrations){if(typeof r.usage>"u")continue;let{usage:s}=this.getUsageByIndex(i,{detailed:!1}),{usage:o,options:a}=this.getUsageByIndex(i,{detailed:!0,inlineOptions:!1}),c=typeof r.usage.category<"u"?$t.formatMarkdownish(r.usage.category,{format:this.format(t),paragraphs:!1}):void 0,f=typeof r.usage.description<"u"?$t.formatMarkdownish(r.usage.description,{format:this.format(t),paragraphs:!1}):void 0,u=typeof r.usage.details<"u"?$t.formatMarkdownish(r.usage.details,{format:this.format(t),paragraphs:!0}):void 0,l=typeof r.usage.examples<"u"?r.usage.examples.map(([h,d])=>[$t.formatMarkdownish(h,{format:this.format(t),paragraphs:!1}),d.replace(/\$0/g,this.binaryName)]):void 0;e.push({path:s,usage:o,category:c,description:f,details:u,examples:l,options:a})}return e}usage(t=null,{colored:e,detailed:r=!1,prefix:i="$ "}={}){var s;if(t===null){for(let c of this.registrations.keys()){let f=c.paths,u=typeof c.usage<"u";if(!f||f.length===0||f.length===1&&f[0].length===0||((s=f?.some(d=>d.length===0))!==null&&s!==void 0?s:!1))if(t){t=null;break}else t=c;else if(u){t=null;continue}}t&&(r=!0)}let o=t!==null&&t instanceof ti.Command?t.constructor:t,a="";if(o)if(r){let{description:c="",details:f="",examples:u=[]}=o.usage||{};c!==""&&(a+=$t.formatMarkdownish(c,{format:this.format(e),paragraphs:!1}).replace(/^./,d=>d.toUpperCase()),a+=`
`),(f!==""||u.length>0)&&(a+=`${this.format(e).header("Usage")}
`,a+=`
`);let{usage:l,options:h}=this.getUsageByRegistration(o,{inlineOptions:!1});if(a+=`${this.format(e).bold(i)}${l}
`,h.length>0){a+=`
`,a+=`${this.format(e).header("Options")}
`;let d=h.reduce((p,m)=>Math.max(p,m.definition.length),0);a+=`
`;for(let{definition:p,description:m}of h)a+=`  ${this.format(e).bold(p.padEnd(d))}    ${$t.formatMarkdownish(m,{format:this.format(e),paragraphs:!1})}`}if(f!==""&&(a+=`
`,a+=`${this.format(e).header("Details")}
`,a+=`
`,a+=$t.formatMarkdownish(f,{format:this.format(e),paragraphs:!0})),u.length>0){a+=`
`,a+=`${this.format(e).header("Examples")}
`;for(let[d,p]of u)a+=`
`,a+=$t.formatMarkdownish(d,{format:this.format(e),paragraphs:!1}),a+=`${p.replace(/^/m,`  ${this.format(e).bold(i)}`).replace(/\$0/g,this.binaryName)}
`}}else{let{usage:c}=this.getUsageByRegistration(o);a+=`${this.format(e).bold(i)}${c}
`}else{let c=new Map;for(let[h,{index:d}]of this.registrations.entries()){if(typeof h.usage>"u")continue;let p=typeof h.usage.category<"u"?$t.formatMarkdownish(h.usage.category,{format:this.format(e),paragraphs:!1}):null,m=c.get(p);typeof m>"u"&&c.set(p,m=[]);let{usage:y}=this.getUsageByIndex(d);m.push({commandClass:h,usage:y})}let f=Array.from(c.keys()).sort((h,d)=>h===null?-1:d===null?1:h.localeCompare(d,"en",{usage:"sort",caseFirst:"upper"})),u=typeof this.binaryLabel<"u",l=typeof this.binaryVersion<"u";u||l?(u&&l?a+=`${this.format(e).header(`${this.binaryLabel} - ${this.binaryVersion}`)}

`:u?a+=`${this.format(e).header(`${this.binaryLabel}`)}
`:a+=`${this.format(e).header(`${this.binaryVersion}`)}
`,a+=`  ${this.format(e).bold(i)}${this.binaryName} <command>
`):a+=`${this.format(e).bold(i)}${this.binaryName} <command>
`;for(let h of f){let d=c.get(h).slice().sort((m,y)=>m.usage.localeCompare(y.usage,"en",{usage:"sort",caseFirst:"upper"})),p=h!==null?h.trim():"General commands";a+=`
`,a+=`${this.format(e).header(`${p}`)}
`;for(let{commandClass:m,usage:y}of d){let g=m.usage.description||"undocumented";a+=`
`,a+=`  ${this.format(e).bold(y)}
`,a+=`    ${$t.formatMarkdownish(g,{format:this.format(e),paragraphs:!1})}`}}a+=`
`,a+=$t.formatMarkdownish("You can also print more details about any of these commands by calling them with the `-h,--help` flag right after the command name.",{format:this.format(e),paragraphs:!0})}return a}error(t,e){var r,{colored:i,command:s=(r=t[fc])!==null&&r!==void 0?r:null}=e===void 0?{}:e;t instanceof Error||(t=new Error(`Execution failed with a non-error rejection (rejected value: ${JSON.stringify(t)})`));let o="",a=t.name.replace(/([a-z])([A-Z])/g,"$1 $2");a==="Error"&&(a="Internal Error"),o+=`${this.format(i).error(a)}: ${t.message}
`;let c=t.clipanion;return typeof c<"u"?c.type==="usage"&&(o+=`
`,o+=this.usage(s)):t.stack&&(o+=`${t.stack.replace(/^.*\n/,"")}
`),o}format(t){var e;return((e=t??this.enableColors)!==null&&e!==void 0?e:Zt.defaultContext.colorDepth>1)?$t.richFormat:$t.textFormat}getUsageByRegistration(t,e){let r=this.registrations.get(t);if(typeof r>"u")throw new Error("Assertion failed: Unregistered command");return this.getUsageByIndex(r.index,e)}getUsageByIndex(t,e){return this.builder.getBuilderByIndex(t).usage(e)}};Zt.defaultContext={env:process.env,stdin:process.stdin,stdout:process.stdout,stderr:process.stderr,colorDepth:dc.getDefaultColorDepth()};function hc(n){return n()}Yn.Cli=Zt;Yn.run=ag;Yn.runExit=og});var gc=S(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});var cg=qe(),ei=class extends cg.Command{async execute(){this.context.stdout.write(`${JSON.stringify(this.cli.definitions(),null,2)}
`)}};ei.paths=[["--clipanion=definitions"]];Os.DefinitionsCommand=ei});var yc=S(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});var ug=qe(),ni=class extends ug.Command{async execute(){this.context.stdout.write(this.cli.usage())}};ni.paths=[["-h"],["--help"]];Cs.HelpCommand=ni});var Ec=S(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});var lg=qe(),ri=class extends lg.Command{async execute(){var t;this.context.stdout.write(`${(t=this.cli.binaryVersion)!==null&&t!==void 0?t:"<unknown>"}
`)}};ri.paths=[["-v"],["--version"]];Ns.VersionCommand=ri});var wc=S(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});var fg=gc(),hg=yc(),dg=Ec();Qn.DefinitionsCommand=fg.DefinitionsCommand;Qn.HelpCommand=hg.HelpCommand;Qn.VersionCommand=dg.VersionCommand});var Sc=S(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});var _s=le();function pg(n,t,e){let[r,i]=_s.rerouteArguments(t,e??{}),{arity:s=1}=i,o=n.split(","),a=new Set(o);return _s.makeCommandOption({definition(c){c.addOption({names:o,arity:s,hidden:i?.hidden,description:i?.description,required:i.required})},transformer(c,f,u){let l,h=typeof r<"u"?[...r]:void 0;for(let{name:d,value:p}of u.options)a.has(d)&&(l=d,h=h??[],h.push(p));return typeof h<"u"?_s.applyValidator(l??f,h,i.validator):h}})}Is.Array=pg});var vc=S(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});var bc=le();function mg(n,t,e){let[r,i]=bc.rerouteArguments(t,e??{}),s=n.split(","),o=new Set(s);return bc.makeCommandOption({definition(a){a.addOption({names:s,allowBinding:!1,arity:0,hidden:i.hidden,description:i.description,required:i.required})},transformer(a,c,f){let u=r;for(let{name:l,value:h}of f.options)o.has(l)&&(u=h);return u}})}Ts.Boolean=mg});var Oc=S(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});var xc=le();function gg(n,t,e){let[r,i]=xc.rerouteArguments(t,e??{}),s=n.split(","),o=new Set(s);return xc.makeCommandOption({definition(a){a.addOption({names:s,allowBinding:!1,arity:0,hidden:i.hidden,description:i.description,required:i.required})},transformer(a,c,f){let u=r;for(let{name:l,value:h}of f.options)o.has(l)&&(u??(u=0),h?u+=1:u=0);return u}})}Ds.Counter=gg});var Cc=S(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});var yg=le();function Eg(n={}){return yg.makeCommandOption({definition(t,e){var r;t.addProxy({name:(r=n.name)!==null&&r!==void 0?r:e,required:n.required})},transformer(t,e,r){return r.positionals.map(({value:i})=>i)}})}As.Proxy=Eg});var Nc=S(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});var wg=Yr(),Sg=le();function bg(n={}){return Sg.makeCommandOption({definition(t,e){var r;t.addRest({name:(r=n.name)!==null&&r!==void 0?r:e,required:n.required})},transformer(t,e,r){let i=o=>{let a=r.positionals[o];return a.extra===wg.NoLimits||a.extra===!1&&o<t.arity.leading.length},s=0;for(;s<r.positionals.length&&i(s);)s+=1;return r.positionals.splice(0,s).map(({value:o})=>o)}})}Ls.Rest=bg});var _c=S(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});var vg=Yr(),tr=le();function xg(n,t,e){let[r,i]=tr.rerouteArguments(t,e??{}),{arity:s=1}=i,o=n.split(","),a=new Set(o);return tr.makeCommandOption({definition(c){c.addOption({names:o,arity:i.tolerateBoolean?0:s,hidden:i.hidden,description:i.description,required:i.required})},transformer(c,f,u,l){let h,d=r;typeof i.env<"u"&&l.env[i.env]&&(h=i.env,d=l.env[i.env]);for(let{name:p,value:m}of u.options)a.has(p)&&(h=p,d=m);return typeof d=="string"?tr.applyValidator(h??f,d,i.validator):d}})}function Og(n={}){let{required:t=!0}=n;return tr.makeCommandOption({definition(e,r){var i;e.addPositional({name:(i=n.name)!==null&&i!==void 0?i:r,required:n.required})},transformer(e,r,i){var s;for(let o=0;o<i.positionals.length;++o){if(i.positionals[o].extra===vg.NoLimits||t&&i.positionals[o].extra===!0||!t&&i.positionals[o].extra===!1)continue;let[a]=i.positionals.splice(o,1);return tr.applyValidator((s=n.name)!==null&&s!==void 0?s:r,a.value,n.validator)}}})}function Cg(n,...t){return typeof n=="string"?xg(n,...t):Og(n)}Rs.String=Cg});var Ic=S(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});var un=le(),Ng=Sc(),_g=vc(),Ig=Oc(),Tg=Cc(),Dg=Nc(),Ag=_c();Tt.applyValidator=un.applyValidator;Tt.cleanValidationError=un.cleanValidationError;Tt.formatError=un.formatError;Tt.isOptionSymbol=un.isOptionSymbol;Tt.makeCommandOption=un.makeCommandOption;Tt.rerouteArguments=un.rerouteArguments;Tt.Array=Ng.Array;Tt.Boolean=_g.Boolean;Tt.Counter=Ig.Counter;Tt.Proxy=Tg.Proxy;Tt.Rest=Dg.Rest;Tt.String=Ag.String});var er=S(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});var Lg=Gr(),Rg=ps(),Pg=qe(),Ps=mc(),Fg=wc(),kg=Ic();ne.UsageError=Lg.UsageError;ne.formatMarkdownish=Rg.formatMarkdownish;ne.Command=Pg.Command;ne.Cli=Ps.Cli;ne.run=Ps.run;ne.runExit=Ps.runExit;ne.Builtins=Fg;ne.Option=kg});var Dt=S(Fs=>{"use strict";Fs.fromCallback=function(n){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")n.apply(this,t);else return new Promise((e,r)=>{n.call(this,...t,(i,s)=>i!=null?r(i):e(s))})},"name",{value:n.name})};Fs.fromPromise=function(n){return Object.defineProperty(function(...t){let e=t[t.length-1];if(typeof e!="function")return n.apply(this,t);n.apply(this,t.slice(0,-1)).then(r=>e(null,r),e)},"name",{value:n.name})}});var Dc=S((Sb,Tc)=>{var Ce=require("constants"),$g=process.cwd,ii=null,Mg=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return ii||(ii=$g.call(process)),ii};try{process.cwd()}catch{}typeof process.chdir=="function"&&(ks=process.chdir,process.chdir=function(n){ii=null,ks.call(process,n)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,ks));var ks;Tc.exports=jg;function jg(n){Ce.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(n),n.lutimes||e(n),n.chown=s(n.chown),n.fchown=s(n.fchown),n.lchown=s(n.lchown),n.chmod=r(n.chmod),n.fchmod=r(n.fchmod),n.lchmod=r(n.lchmod),n.chownSync=o(n.chownSync),n.fchownSync=o(n.fchownSync),n.lchownSync=o(n.lchownSync),n.chmodSync=i(n.chmodSync),n.fchmodSync=i(n.fchmodSync),n.lchmodSync=i(n.lchmodSync),n.stat=a(n.stat),n.fstat=a(n.fstat),n.lstat=a(n.lstat),n.statSync=c(n.statSync),n.fstatSync=c(n.fstatSync),n.lstatSync=c(n.lstatSync),n.chmod&&!n.lchmod&&(n.lchmod=function(u,l,h){h&&process.nextTick(h)},n.lchmodSync=function(){}),n.chown&&!n.lchown&&(n.lchown=function(u,l,h,d){d&&process.nextTick(d)},n.lchownSync=function(){}),Mg==="win32"&&(n.rename=typeof n.rename!="function"?n.rename:function(u){function l(h,d,p){var m=Date.now(),y=0;u(h,d,function g(E){if(E&&(E.code==="EACCES"||E.code==="EPERM"||E.code==="EBUSY")&&Date.now()-m<6e4){setTimeout(function(){n.stat(d,function(w,v){w&&w.code==="ENOENT"?u(h,d,g):p(E)})},y),y<100&&(y+=10);return}p&&p(E)})}return Object.setPrototypeOf&&Object.setPrototypeOf(l,u),l}(n.rename)),n.read=typeof n.read!="function"?n.read:function(u){function l(h,d,p,m,y,g){var E;if(g&&typeof g=="function"){var w=0;E=function(v,I,T){if(v&&v.code==="EAGAIN"&&w<10)return w++,u.call(n,h,d,p,m,y,E);g.apply(this,arguments)}}return u.call(n,h,d,p,m,y,E)}return Object.setPrototypeOf&&Object.setPrototypeOf(l,u),l}(n.read),n.readSync=typeof n.readSync!="function"?n.readSync:function(u){return function(l,h,d,p,m){for(var y=0;;)try{return u.call(n,l,h,d,p,m)}catch(g){if(g.code==="EAGAIN"&&y<10){y++;continue}throw g}}}(n.readSync);function t(u){u.lchmod=function(l,h,d){u.open(l,Ce.O_WRONLY|Ce.O_SYMLINK,h,function(p,m){if(p){d&&d(p);return}u.fchmod(m,h,function(y){u.close(m,function(g){d&&d(y||g)})})})},u.lchmodSync=function(l,h){var d=u.openSync(l,Ce.O_WRONLY|Ce.O_SYMLINK,h),p=!0,m;try{m=u.fchmodSync(d,h),p=!1}finally{if(p)try{u.closeSync(d)}catch{}else u.closeSync(d)}return m}}function e(u){Ce.hasOwnProperty("O_SYMLINK")&&u.futimes?(u.lutimes=function(l,h,d,p){u.open(l,Ce.O_SYMLINK,function(m,y){if(m){p&&p(m);return}u.futimes(y,h,d,function(g){u.close(y,function(E){p&&p(g||E)})})})},u.lutimesSync=function(l,h,d){var p=u.openSync(l,Ce.O_SYMLINK),m,y=!0;try{m=u.futimesSync(p,h,d),y=!1}finally{if(y)try{u.closeSync(p)}catch{}else u.closeSync(p)}return m}):u.futimes&&(u.lutimes=function(l,h,d,p){p&&process.nextTick(p)},u.lutimesSync=function(){})}function r(u){return u&&function(l,h,d){return u.call(n,l,h,function(p){f(p)&&(p=null),d&&d.apply(this,arguments)})}}function i(u){return u&&function(l,h){try{return u.call(n,l,h)}catch(d){if(!f(d))throw d}}}function s(u){return u&&function(l,h,d,p){return u.call(n,l,h,d,function(m){f(m)&&(m=null),p&&p.apply(this,arguments)})}}function o(u){return u&&function(l,h,d){try{return u.call(n,l,h,d)}catch(p){if(!f(p))throw p}}}function a(u){return u&&function(l,h,d){typeof h=="function"&&(d=h,h=null);function p(m,y){y&&(y.uid<0&&(y.uid+=4294967296),y.gid<0&&(y.gid+=4294967296)),d&&d.apply(this,arguments)}return h?u.call(n,l,h,p):u.call(n,l,p)}}function c(u){return u&&function(l,h){var d=h?u.call(n,l,h):u.call(n,l);return d&&(d.uid<0&&(d.uid+=4294967296),d.gid<0&&(d.gid+=4294967296)),d}}function f(u){if(!u||u.code==="ENOSYS")return!0;var l=!process.getuid||process.getuid()!==0;return!!(l&&(u.code==="EINVAL"||u.code==="EPERM"))}}});var Rc=S((bb,Lc)=>{var Ac=require("stream").Stream;Lc.exports=Ug;function Ug(n){return{ReadStream:t,WriteStream:e};function t(r,i){if(!(this instanceof t))return new t(r,i);Ac.call(this);var s=this;this.path=r,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var o=Object.keys(i),a=0,c=o.length;a<c;a++){var f=o[a];this[f]=i[f]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}n.open(this.path,this.flags,this.mode,function(u,l){if(u){s.emit("error",u),s.readable=!1;return}s.fd=l,s.emit("open",l),s._read()})}function e(r,i){if(!(this instanceof e))return new e(r,i);Ac.call(this),this.path=r,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var s=Object.keys(i),o=0,a=s.length;o<a;o++){var c=s[o];this[c]=i[c]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=n.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var Fc=S((vb,Pc)=>{"use strict";Pc.exports=qg;var Bg=Object.getPrototypeOf||function(n){return n.__proto__};function qg(n){if(n===null||typeof n!="object")return n;if(n instanceof Object)var t={__proto__:Bg(n)};else var t=Object.create(null);return Object.getOwnPropertyNames(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t}});var At=S((xb,js)=>{var z=require("fs"),Gg=Dc(),Wg=Rc(),zg=Fc(),si=require("util"),dt,ai;typeof Symbol=="function"&&typeof Symbol.for=="function"?(dt=Symbol.for("graceful-fs.queue"),ai=Symbol.for("graceful-fs.previous")):(dt="___graceful-fs.queue",ai="___graceful-fs.previous");function Hg(){}function Mc(n,t){Object.defineProperty(n,dt,{get:function(){return t}})}var We=Hg;si.debuglog?We=si.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(We=function(){var n=si.format.apply(si,arguments);n="GFS4: "+n.split(/\n/).join(`
GFS4: `),console.error(n)});z[dt]||(kc=global[dt]||[],Mc(z,kc),z.close=function(n){function t(e,r){return n.call(z,e,function(i){i||$c(),typeof r=="function"&&r.apply(this,arguments)})}return Object.defineProperty(t,ai,{value:n}),t}(z.close),z.closeSync=function(n){function t(e){n.apply(z,arguments),$c()}return Object.defineProperty(t,ai,{value:n}),t}(z.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){We(z[dt]),require("assert").equal(z[dt].length,0)}));var kc;global[dt]||Mc(global,z[dt]);js.exports=$s(zg(z));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!z.__patched&&(js.exports=$s(z),z.__patched=!0);function $s(n){Gg(n),n.gracefulify=$s,n.createReadStream=I,n.createWriteStream=T;var t=n.readFile;n.readFile=e;function e(x,L,P){return typeof L=="function"&&(P=L,L=null),Q(x,L,P);function Q(Z,it,W,V){return t(Z,it,function($){$&&($.code==="EMFILE"||$.code==="ENFILE")?ln([Q,[Z,it,W],$,V||Date.now(),Date.now()]):typeof W=="function"&&W.apply(this,arguments)})}}var r=n.writeFile;n.writeFile=i;function i(x,L,P,Q){return typeof P=="function"&&(Q=P,P=null),Z(x,L,P,Q);function Z(it,W,V,$,ft){return r(it,W,V,function(U){U&&(U.code==="EMFILE"||U.code==="ENFILE")?ln([Z,[it,W,V,$],U,ft||Date.now(),Date.now()]):typeof $=="function"&&$.apply(this,arguments)})}}var s=n.appendFile;s&&(n.appendFile=o);function o(x,L,P,Q){return typeof P=="function"&&(Q=P,P=null),Z(x,L,P,Q);function Z(it,W,V,$,ft){return s(it,W,V,function(U){U&&(U.code==="EMFILE"||U.code==="ENFILE")?ln([Z,[it,W,V,$],U,ft||Date.now(),Date.now()]):typeof $=="function"&&$.apply(this,arguments)})}}var a=n.copyFile;a&&(n.copyFile=c);function c(x,L,P,Q){return typeof P=="function"&&(Q=P,P=0),Z(x,L,P,Q);function Z(it,W,V,$,ft){return a(it,W,V,function(U){U&&(U.code==="EMFILE"||U.code==="ENFILE")?ln([Z,[it,W,V,$],U,ft||Date.now(),Date.now()]):typeof $=="function"&&$.apply(this,arguments)})}}var f=n.readdir;n.readdir=l;var u=/^v[0-5]\./;function l(x,L,P){typeof L=="function"&&(P=L,L=null);var Q=u.test(process.version)?function(W,V,$,ft){return f(W,Z(W,V,$,ft))}:function(W,V,$,ft){return f(W,V,Z(W,V,$,ft))};return Q(x,L,P);function Z(it,W,V,$){return function(ft,U){ft&&(ft.code==="EMFILE"||ft.code==="ENFILE")?ln([Q,[it,W,V],ft,$||Date.now(),Date.now()]):(U&&U.sort&&U.sort(),typeof V=="function"&&V.call(this,ft,U))}}}if(process.version.substr(0,4)==="v0.8"){var h=Wg(n);g=h.ReadStream,w=h.WriteStream}var d=n.ReadStream;d&&(g.prototype=Object.create(d.prototype),g.prototype.open=E);var p=n.WriteStream;p&&(w.prototype=Object.create(p.prototype),w.prototype.open=v),Object.defineProperty(n,"ReadStream",{get:function(){return g},set:function(x){g=x},enumerable:!0,configurable:!0}),Object.defineProperty(n,"WriteStream",{get:function(){return w},set:function(x){w=x},enumerable:!0,configurable:!0});var m=g;Object.defineProperty(n,"FileReadStream",{get:function(){return m},set:function(x){m=x},enumerable:!0,configurable:!0});var y=w;Object.defineProperty(n,"FileWriteStream",{get:function(){return y},set:function(x){y=x},enumerable:!0,configurable:!0});function g(x,L){return this instanceof g?(d.apply(this,arguments),this):g.apply(Object.create(g.prototype),arguments)}function E(){var x=this;k(x.path,x.flags,x.mode,function(L,P){L?(x.autoClose&&x.destroy(),x.emit("error",L)):(x.fd=P,x.emit("open",P),x.read())})}function w(x,L){return this instanceof w?(p.apply(this,arguments),this):w.apply(Object.create(w.prototype),arguments)}function v(){var x=this;k(x.path,x.flags,x.mode,function(L,P){L?(x.destroy(),x.emit("error",L)):(x.fd=P,x.emit("open",P))})}function I(x,L){return new n.ReadStream(x,L)}function T(x,L){return new n.WriteStream(x,L)}var A=n.open;n.open=k;function k(x,L,P,Q){return typeof P=="function"&&(Q=P,P=null),Z(x,L,P,Q);function Z(it,W,V,$,ft){return A(it,W,V,function(U,kS){U&&(U.code==="EMFILE"||U.code==="ENFILE")?ln([Z,[it,W,V,$],U,ft||Date.now(),Date.now()]):typeof $=="function"&&$.apply(this,arguments)})}}return n}function ln(n){We("ENQUEUE",n[0].name,n[1]),z[dt].push(n),Ms()}var oi;function $c(){for(var n=Date.now(),t=0;t<z[dt].length;++t)z[dt][t].length>2&&(z[dt][t][3]=n,z[dt][t][4]=n);Ms()}function Ms(){if(clearTimeout(oi),oi=void 0,z[dt].length!==0){var n=z[dt].shift(),t=n[0],e=n[1],r=n[2],i=n[3],s=n[4];if(i===void 0)We("RETRY",t.name,e),t.apply(null,e);else if(Date.now()-i>=6e4){We("TIMEOUT",t.name,e);var o=e.pop();typeof o=="function"&&o.call(null,r)}else{var a=Date.now()-s,c=Math.max(s-i,1),f=Math.min(c*1.2,100);a>=f?(We("RETRY",t.name,e),t.apply(null,e.concat([i]))):z[dt].push(n)}oi===void 0&&(oi=setTimeout(Ms,0))}}});var ze=S(he=>{"use strict";var jc=Dt().fromCallback,Ot=At(),Vg=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(n=>typeof Ot[n]=="function");Object.assign(he,Ot);Vg.forEach(n=>{he[n]=jc(Ot[n])});he.exists=function(n,t){return typeof t=="function"?Ot.exists(n,t):new Promise(e=>Ot.exists(n,e))};he.read=function(n,t,e,r,i,s){return typeof s=="function"?Ot.read(n,t,e,r,i,s):new Promise((o,a)=>{Ot.read(n,t,e,r,i,(c,f,u)=>{if(c)return a(c);o({bytesRead:f,buffer:u})})})};he.write=function(n,t,...e){return typeof e[e.length-1]=="function"?Ot.write(n,t,...e):new Promise((r,i)=>{Ot.write(n,t,...e,(s,o,a)=>{if(s)return i(s);r({bytesWritten:o,buffer:a})})})};he.readv=function(n,t,...e){return typeof e[e.length-1]=="function"?Ot.readv(n,t,...e):new Promise((r,i)=>{Ot.readv(n,t,...e,(s,o,a)=>{if(s)return i(s);r({bytesRead:o,buffers:a})})})};he.writev=function(n,t,...e){return typeof e[e.length-1]=="function"?Ot.writev(n,t,...e):new Promise((r,i)=>{Ot.writev(n,t,...e,(s,o,a)=>{if(s)return i(s);r({bytesWritten:o,buffers:a})})})};typeof Ot.realpath.native=="function"?he.realpath.native=jc(Ot.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")});var Bc=S((Cb,Uc)=>{"use strict";var Zg=require("path");Uc.exports.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(Zg.parse(t).root,""))){let r=new Error(`Path contains invalid characters: ${t}`);throw r.code="EINVAL",r}}});var zc=S((Nb,Us)=>{"use strict";var qc=ze(),{checkPath:Gc}=Bc(),Wc=n=>{let t={mode:511};return typeof n=="number"?n:{...t,...n}.mode};Us.exports.makeDir=async(n,t)=>(Gc(n),qc.mkdir(n,{mode:Wc(t),recursive:!0}));Us.exports.makeDirSync=(n,t)=>(Gc(n),qc.mkdirSync(n,{mode:Wc(t),recursive:!0}))});var Jt=S((_b,Hc)=>{"use strict";var Jg=Dt().fromPromise,{makeDir:Kg,makeDirSync:Bs}=zc(),qs=Jg(Kg);Hc.exports={mkdirs:qs,mkdirsSync:Bs,mkdirp:qs,mkdirpSync:Bs,ensureDir:qs,ensureDirSync:Bs}});var Ne=S((Ib,Zc)=>{"use strict";var Xg=Dt().fromPromise,Vc=ze();function Yg(n){return Vc.access(n).then(()=>!0).catch(()=>!1)}Zc.exports={pathExists:Xg(Yg),pathExistsSync:Vc.existsSync}});var Gs=S((Tb,Jc)=>{"use strict";var fn=At();function Qg(n,t,e,r){fn.open(n,"r+",(i,s)=>{if(i)return r(i);fn.futimes(s,t,e,o=>{fn.close(s,a=>{r&&r(o||a)})})})}function ty(n,t,e){let r=fn.openSync(n,"r+");return fn.futimesSync(r,t,e),fn.closeSync(r)}Jc.exports={utimesMillis:Qg,utimesMillisSync:ty}});var He=S((Db,Yc)=>{"use strict";var hn=ze(),st=require("path"),ey=require("util");function ny(n,t,e){let r=e.dereference?i=>hn.stat(i,{bigint:!0}):i=>hn.lstat(i,{bigint:!0});return Promise.all([r(n),r(t).catch(i=>{if(i.code==="ENOENT")return null;throw i})]).then(([i,s])=>({srcStat:i,destStat:s}))}function ry(n,t,e){let r,i=e.dereference?o=>hn.statSync(o,{bigint:!0}):o=>hn.lstatSync(o,{bigint:!0}),s=i(n);try{r=i(t)}catch(o){if(o.code==="ENOENT")return{srcStat:s,destStat:null};throw o}return{srcStat:s,destStat:r}}function iy(n,t,e,r,i){ey.callbackify(ny)(n,t,r,(s,o)=>{if(s)return i(s);let{srcStat:a,destStat:c}=o;if(c){if(nr(a,c)){let f=st.basename(n),u=st.basename(t);return e==="move"&&f!==u&&f.toLowerCase()===u.toLowerCase()?i(null,{srcStat:a,destStat:c,isChangingCase:!0}):i(new Error("Source and destination must not be the same."))}if(a.isDirectory()&&!c.isDirectory())return i(new Error(`Cannot overwrite non-directory '${t}' with directory '${n}'.`));if(!a.isDirectory()&&c.isDirectory())return i(new Error(`Cannot overwrite directory '${t}' with non-directory '${n}'.`))}return a.isDirectory()&&Ws(n,t)?i(new Error(ci(n,t,e))):i(null,{srcStat:a,destStat:c})})}function sy(n,t,e,r){let{srcStat:i,destStat:s}=ry(n,t,r);if(s){if(nr(i,s)){let o=st.basename(n),a=st.basename(t);if(e==="move"&&o!==a&&o.toLowerCase()===a.toLowerCase())return{srcStat:i,destStat:s,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!s.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${n}'.`);if(!i.isDirectory()&&s.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${n}'.`)}if(i.isDirectory()&&Ws(n,t))throw new Error(ci(n,t,e));return{srcStat:i,destStat:s}}function Kc(n,t,e,r,i){let s=st.resolve(st.dirname(n)),o=st.resolve(st.dirname(e));if(o===s||o===st.parse(o).root)return i();hn.stat(o,{bigint:!0},(a,c)=>a?a.code==="ENOENT"?i():i(a):nr(t,c)?i(new Error(ci(n,e,r))):Kc(n,t,o,r,i))}function Xc(n,t,e,r){let i=st.resolve(st.dirname(n)),s=st.resolve(st.dirname(e));if(s===i||s===st.parse(s).root)return;let o;try{o=hn.statSync(s,{bigint:!0})}catch(a){if(a.code==="ENOENT")return;throw a}if(nr(t,o))throw new Error(ci(n,e,r));return Xc(n,t,s,r)}function nr(n,t){return t.ino&&t.dev&&t.ino===n.ino&&t.dev===n.dev}function Ws(n,t){let e=st.resolve(n).split(st.sep).filter(i=>i),r=st.resolve(t).split(st.sep).filter(i=>i);return e.reduce((i,s,o)=>i&&r[o]===s,!0)}function ci(n,t,e){return`Cannot ${e} '${n}' to a subdirectory of itself, '${t}'.`}Yc.exports={checkPaths:iy,checkPathsSync:sy,checkParentPaths:Kc,checkParentPathsSync:Xc,isSrcSubdir:Ws,areIdentical:nr}});var iu=S((Ab,ru)=>{"use strict";var Lt=At(),rr=require("path"),oy=Jt().mkdirs,ay=Ne().pathExists,cy=Gs().utimesMillis,ir=He();function uy(n,t,e,r){typeof e=="function"&&!r?(r=e,e={}):typeof e=="function"&&(e={filter:e}),r=r||function(){},e=e||{},e.clobber="clobber"in e?!!e.clobber:!0,e.overwrite="overwrite"in e?!!e.overwrite:e.clobber,e.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001"),ir.checkPaths(n,t,"copy",e,(i,s)=>{if(i)return r(i);let{srcStat:o,destStat:a}=s;ir.checkParentPaths(n,o,t,"copy",c=>{if(c)return r(c);tu(n,t,e,(f,u)=>{if(f)return r(f);if(!u)return r();ly(a,n,t,e,r)})})})}function ly(n,t,e,r,i){let s=rr.dirname(e);ay(s,(o,a)=>{if(o)return i(o);if(a)return zs(n,t,e,r,i);oy(s,c=>c?i(c):zs(n,t,e,r,i))})}function tu(n,t,e,r){if(!e.filter)return r(null,!0);Promise.resolve(e.filter(n,t)).then(i=>r(null,i),i=>r(i))}function zs(n,t,e,r,i){(r.dereference?Lt.stat:Lt.lstat)(t,(o,a)=>o?i(o):a.isDirectory()?yy(a,n,t,e,r,i):a.isFile()||a.isCharacterDevice()||a.isBlockDevice()?fy(a,n,t,e,r,i):a.isSymbolicLink()?Sy(n,t,e,r,i):a.isSocket()?i(new Error(`Cannot copy a socket file: ${t}`)):a.isFIFO()?i(new Error(`Cannot copy a FIFO pipe: ${t}`)):i(new Error(`Unknown file: ${t}`)))}function fy(n,t,e,r,i,s){return t?hy(n,e,r,i,s):eu(n,e,r,i,s)}function hy(n,t,e,r,i){if(r.overwrite)Lt.unlink(e,s=>s?i(s):eu(n,t,e,r,i));else return r.errorOnExist?i(new Error(`'${e}' already exists`)):i()}function eu(n,t,e,r,i){Lt.copyFile(t,e,s=>s?i(s):r.preserveTimestamps?dy(n.mode,t,e,i):ui(e,n.mode,i))}function dy(n,t,e,r){return py(n)?my(e,n,i=>i?r(i):Qc(n,t,e,r)):Qc(n,t,e,r)}function py(n){return(n&128)===0}function my(n,t,e){return ui(n,t|128,e)}function Qc(n,t,e,r){gy(t,e,i=>i?r(i):ui(e,n,r))}function ui(n,t,e){return Lt.chmod(n,t,e)}function gy(n,t,e){Lt.stat(n,(r,i)=>r?e(r):cy(t,i.atime,i.mtime,e))}function yy(n,t,e,r,i,s){return t?nu(e,r,i,s):Ey(n.mode,e,r,i,s)}function Ey(n,t,e,r,i){Lt.mkdir(e,s=>{if(s)return i(s);nu(t,e,r,o=>o?i(o):ui(e,n,i))})}function nu(n,t,e,r){Lt.readdir(n,(i,s)=>i?r(i):Hs(s,n,t,e,r))}function Hs(n,t,e,r,i){let s=n.pop();return s?wy(n,s,t,e,r,i):i()}function wy(n,t,e,r,i,s){let o=rr.join(e,t),a=rr.join(r,t);tu(o,a,i,(c,f)=>{if(c)return s(c);if(!f)return Hs(n,e,r,i,s);ir.checkPaths(o,a,"copy",i,(u,l)=>{if(u)return s(u);let{destStat:h}=l;zs(h,o,a,i,d=>d?s(d):Hs(n,e,r,i,s))})})}function Sy(n,t,e,r,i){Lt.readlink(t,(s,o)=>{if(s)return i(s);if(r.dereference&&(o=rr.resolve(process.cwd(),o)),n)Lt.readlink(e,(a,c)=>a?a.code==="EINVAL"||a.code==="UNKNOWN"?Lt.symlink(o,e,i):i(a):(r.dereference&&(c=rr.resolve(process.cwd(),c)),ir.isSrcSubdir(o,c)?i(new Error(`Cannot copy '${o}' to a subdirectory of itself, '${c}'.`)):ir.isSrcSubdir(c,o)?i(new Error(`Cannot overwrite '${c}' with '${o}'.`)):by(o,e,i)));else return Lt.symlink(o,e,i)})}function by(n,t,e){Lt.unlink(t,r=>r?e(r):Lt.symlink(n,t,e))}ru.exports=uy});var uu=S((Lb,cu)=>{"use strict";var Ct=At(),sr=require("path"),vy=Jt().mkdirsSync,xy=Gs().utimesMillisSync,or=He();function Oy(n,t,e){typeof e=="function"&&(e={filter:e}),e=e||{},e.clobber="clobber"in e?!!e.clobber:!0,e.overwrite="overwrite"in e?!!e.overwrite:e.clobber,e.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");let{srcStat:r,destStat:i}=or.checkPathsSync(n,t,"copy",e);if(or.checkParentPathsSync(n,r,t,"copy"),e.filter&&!e.filter(n,t))return;let s=sr.dirname(t);return Ct.existsSync(s)||vy(s),su(i,n,t,e)}function su(n,t,e,r){let s=(r.dereference?Ct.statSync:Ct.lstatSync)(t);if(s.isDirectory())return Ay(s,n,t,e,r);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return Cy(s,n,t,e,r);if(s.isSymbolicLink())return Py(n,t,e,r);throw s.isSocket()?new Error(`Cannot copy a socket file: ${t}`):s.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}function Cy(n,t,e,r,i){return t?Ny(n,e,r,i):ou(n,e,r,i)}function Ny(n,t,e,r){if(r.overwrite)return Ct.unlinkSync(e),ou(n,t,e,r);if(r.errorOnExist)throw new Error(`'${e}' already exists`)}function ou(n,t,e,r){return Ct.copyFileSync(t,e),r.preserveTimestamps&&_y(n.mode,t,e),Vs(e,n.mode)}function _y(n,t,e){return Iy(n)&&Ty(e,n),Dy(t,e)}function Iy(n){return(n&128)===0}function Ty(n,t){return Vs(n,t|128)}function Vs(n,t){return Ct.chmodSync(n,t)}function Dy(n,t){let e=Ct.statSync(n);return xy(t,e.atime,e.mtime)}function Ay(n,t,e,r,i){return t?au(e,r,i):Ly(n.mode,e,r,i)}function Ly(n,t,e,r){return Ct.mkdirSync(e),au(t,e,r),Vs(e,n)}function au(n,t,e){Ct.readdirSync(n).forEach(r=>Ry(r,n,t,e))}function Ry(n,t,e,r){let i=sr.join(t,n),s=sr.join(e,n);if(r.filter&&!r.filter(i,s))return;let{destStat:o}=or.checkPathsSync(i,s,"copy",r);return su(o,i,s,r)}function Py(n,t,e,r){let i=Ct.readlinkSync(t);if(r.dereference&&(i=sr.resolve(process.cwd(),i)),n){let s;try{s=Ct.readlinkSync(e)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return Ct.symlinkSync(i,e);throw o}if(r.dereference&&(s=sr.resolve(process.cwd(),s)),or.isSrcSubdir(i,s))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${s}'.`);if(or.isSrcSubdir(s,i))throw new Error(`Cannot overwrite '${s}' with '${i}'.`);return Fy(i,e)}else return Ct.symlinkSync(i,e)}function Fy(n,t){return Ct.unlinkSync(t),Ct.symlinkSync(n,t)}cu.exports=Oy});var li=S((Rb,lu)=>{"use strict";var ky=Dt().fromCallback;lu.exports={copy:ky(iu()),copySync:uu()}});var ar=S((Pb,hu)=>{"use strict";var fu=At(),$y=Dt().fromCallback;function My(n,t){fu.rm(n,{recursive:!0,force:!0},t)}function jy(n){fu.rmSync(n,{recursive:!0,force:!0})}hu.exports={remove:$y(My),removeSync:jy}});var Su=S((Fb,wu)=>{"use strict";var Uy=Dt().fromPromise,mu=ze(),gu=require("path"),yu=Jt(),Eu=ar(),du=Uy(async function(t){let e;try{e=await mu.readdir(t)}catch{return yu.mkdirs(t)}return Promise.all(e.map(r=>Eu.remove(gu.join(t,r))))});function pu(n){let t;try{t=mu.readdirSync(n)}catch{return yu.mkdirsSync(n)}t.forEach(e=>{e=gu.join(n,e),Eu.removeSync(e)})}wu.exports={emptyDirSync:pu,emptydirSync:pu,emptyDir:du,emptydir:du}});var Ou=S((kb,xu)=>{"use strict";var By=Dt().fromCallback,bu=require("path"),_e=At(),vu=Jt();function qy(n,t){function e(){_e.writeFile(n,"",r=>{if(r)return t(r);t()})}_e.stat(n,(r,i)=>{if(!r&&i.isFile())return t();let s=bu.dirname(n);_e.stat(s,(o,a)=>{if(o)return o.code==="ENOENT"?vu.mkdirs(s,c=>{if(c)return t(c);e()}):t(o);a.isDirectory()?e():_e.readdir(s,c=>{if(c)return t(c)})})})}function Gy(n){let t;try{t=_e.statSync(n)}catch{}if(t&&t.isFile())return;let e=bu.dirname(n);try{_e.statSync(e).isDirectory()||_e.readdirSync(e)}catch(r){if(r&&r.code==="ENOENT")vu.mkdirsSync(e);else throw r}_e.writeFileSync(n,"")}xu.exports={createFile:By(qy),createFileSync:Gy}});var Tu=S(($b,Iu)=>{"use strict";var Wy=Dt().fromCallback,Cu=require("path"),Ie=At(),Nu=Jt(),zy=Ne().pathExists,{areIdentical:_u}=He();function Hy(n,t,e){function r(i,s){Ie.link(i,s,o=>{if(o)return e(o);e(null)})}Ie.lstat(t,(i,s)=>{Ie.lstat(n,(o,a)=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),e(o);if(s&&_u(a,s))return e(null);let c=Cu.dirname(t);zy(c,(f,u)=>{if(f)return e(f);if(u)return r(n,t);Nu.mkdirs(c,l=>{if(l)return e(l);r(n,t)})})})})}function Vy(n,t){let e;try{e=Ie.lstatSync(t)}catch{}try{let s=Ie.lstatSync(n);if(e&&_u(s,e))return}catch(s){throw s.message=s.message.replace("lstat","ensureLink"),s}let r=Cu.dirname(t);return Ie.existsSync(r)||Nu.mkdirsSync(r),Ie.linkSync(n,t)}Iu.exports={createLink:Wy(Hy),createLinkSync:Vy}});var Au=S((Mb,Du)=>{"use strict";var Te=require("path"),cr=At(),Zy=Ne().pathExists;function Jy(n,t,e){if(Te.isAbsolute(n))return cr.lstat(n,r=>r?(r.message=r.message.replace("lstat","ensureSymlink"),e(r)):e(null,{toCwd:n,toDst:n}));{let r=Te.dirname(t),i=Te.join(r,n);return Zy(i,(s,o)=>s?e(s):o?e(null,{toCwd:i,toDst:n}):cr.lstat(n,a=>a?(a.message=a.message.replace("lstat","ensureSymlink"),e(a)):e(null,{toCwd:n,toDst:Te.relative(r,n)})))}}function Ky(n,t){let e;if(Te.isAbsolute(n)){if(e=cr.existsSync(n),!e)throw new Error("absolute srcpath does not exist");return{toCwd:n,toDst:n}}else{let r=Te.dirname(t),i=Te.join(r,n);if(e=cr.existsSync(i),e)return{toCwd:i,toDst:n};if(e=cr.existsSync(n),!e)throw new Error("relative srcpath does not exist");return{toCwd:n,toDst:Te.relative(r,n)}}}Du.exports={symlinkPaths:Jy,symlinkPathsSync:Ky}});var Pu=S((jb,Ru)=>{"use strict";var Lu=At();function Xy(n,t,e){if(e=typeof t=="function"?t:e,t=typeof t=="function"?!1:t,t)return e(null,t);Lu.lstat(n,(r,i)=>{if(r)return e(null,"file");t=i&&i.isDirectory()?"dir":"file",e(null,t)})}function Yy(n,t){let e;if(t)return t;try{e=Lu.lstatSync(n)}catch{return"file"}return e&&e.isDirectory()?"dir":"file"}Ru.exports={symlinkType:Xy,symlinkTypeSync:Yy}});var qu=S((Ub,Bu)=>{"use strict";var Qy=Dt().fromCallback,ku=require("path"),Kt=ze(),$u=Jt(),tE=$u.mkdirs,eE=$u.mkdirsSync,Mu=Au(),nE=Mu.symlinkPaths,rE=Mu.symlinkPathsSync,ju=Pu(),iE=ju.symlinkType,sE=ju.symlinkTypeSync,oE=Ne().pathExists,{areIdentical:Uu}=He();function aE(n,t,e,r){r=typeof e=="function"?e:r,e=typeof e=="function"?!1:e,Kt.lstat(t,(i,s)=>{!i&&s.isSymbolicLink()?Promise.all([Kt.stat(n),Kt.stat(t)]).then(([o,a])=>{if(Uu(o,a))return r(null);Fu(n,t,e,r)}):Fu(n,t,e,r)})}function Fu(n,t,e,r){nE(n,t,(i,s)=>{if(i)return r(i);n=s.toDst,iE(s.toCwd,e,(o,a)=>{if(o)return r(o);let c=ku.dirname(t);oE(c,(f,u)=>{if(f)return r(f);if(u)return Kt.symlink(n,t,a,r);tE(c,l=>{if(l)return r(l);Kt.symlink(n,t,a,r)})})})})}function cE(n,t,e){let r;try{r=Kt.lstatSync(t)}catch{}if(r&&r.isSymbolicLink()){let a=Kt.statSync(n),c=Kt.statSync(t);if(Uu(a,c))return}let i=rE(n,t);n=i.toDst,e=sE(i.toCwd,e);let s=ku.dirname(t);return Kt.existsSync(s)||eE(s),Kt.symlinkSync(n,t,e)}Bu.exports={createSymlink:Qy(aE),createSymlinkSync:cE}});var Ku=S((Bb,Ju)=>{"use strict";var{createFile:Gu,createFileSync:Wu}=Ou(),{createLink:zu,createLinkSync:Hu}=Tu(),{createSymlink:Vu,createSymlinkSync:Zu}=qu();Ju.exports={createFile:Gu,createFileSync:Wu,ensureFile:Gu,ensureFileSync:Wu,createLink:zu,createLinkSync:Hu,ensureLink:zu,ensureLinkSync:Hu,createSymlink:Vu,createSymlinkSync:Zu,ensureSymlink:Vu,ensureSymlinkSync:Zu}});var fi=S((qb,Xu)=>{function uE(n,{EOL:t=`
`,finalEOL:e=!0,replacer:r=null,spaces:i}={}){let s=e?t:"";return JSON.stringify(n,r,i).replace(/\n/g,t)+s}function lE(n){return Buffer.isBuffer(n)&&(n=n.toString("utf8")),n.replace(/^\uFEFF/,"")}Xu.exports={stringify:uE,stripBom:lE}});var el=S((Gb,tl)=>{var dn;try{dn=At()}catch{dn=require("fs")}var hi=Dt(),{stringify:Yu,stripBom:Qu}=fi();async function fE(n,t={}){typeof t=="string"&&(t={encoding:t});let e=t.fs||dn,r="throws"in t?t.throws:!0,i=await hi.fromCallback(e.readFile)(n,t);i=Qu(i);let s;try{s=JSON.parse(i,t?t.reviver:null)}catch(o){if(r)throw o.message=`${n}: ${o.message}`,o;return null}return s}var hE=hi.fromPromise(fE);function dE(n,t={}){typeof t=="string"&&(t={encoding:t});let e=t.fs||dn,r="throws"in t?t.throws:!0;try{let i=e.readFileSync(n,t);return i=Qu(i),JSON.parse(i,t.reviver)}catch(i){if(r)throw i.message=`${n}: ${i.message}`,i;return null}}async function pE(n,t,e={}){let r=e.fs||dn,i=Yu(t,e);await hi.fromCallback(r.writeFile)(n,i,e)}var mE=hi.fromPromise(pE);function gE(n,t,e={}){let r=e.fs||dn,i=Yu(t,e);return r.writeFileSync(n,i,e)}var yE={readFile:hE,readFileSync:dE,writeFile:mE,writeFileSync:gE};tl.exports=yE});var rl=S((Wb,nl)=>{"use strict";var di=el();nl.exports={readJson:di.readFile,readJsonSync:di.readFileSync,writeJson:di.writeFile,writeJsonSync:di.writeFileSync}});var pi=S((zb,ol)=>{"use strict";var EE=Dt().fromCallback,ur=At(),il=require("path"),sl=Jt(),wE=Ne().pathExists;function SE(n,t,e,r){typeof e=="function"&&(r=e,e="utf8");let i=il.dirname(n);wE(i,(s,o)=>{if(s)return r(s);if(o)return ur.writeFile(n,t,e,r);sl.mkdirs(i,a=>{if(a)return r(a);ur.writeFile(n,t,e,r)})})}function bE(n,...t){let e=il.dirname(n);if(ur.existsSync(e))return ur.writeFileSync(n,...t);sl.mkdirsSync(e),ur.writeFileSync(n,...t)}ol.exports={outputFile:EE(SE),outputFileSync:bE}});var cl=S((Hb,al)=>{"use strict";var{stringify:vE}=fi(),{outputFile:xE}=pi();async function OE(n,t,e={}){let r=vE(t,e);await xE(n,r,e)}al.exports=OE});var ll=S((Vb,ul)=>{"use strict";var{stringify:CE}=fi(),{outputFileSync:NE}=pi();function _E(n,t,e){let r=CE(t,e);NE(n,r,e)}ul.exports=_E});var hl=S((Zb,fl)=>{"use strict";var IE=Dt().fromPromise,Nt=rl();Nt.outputJson=IE(cl());Nt.outputJsonSync=ll();Nt.outputJSON=Nt.outputJson;Nt.outputJSONSync=Nt.outputJsonSync;Nt.writeJSON=Nt.writeJson;Nt.writeJSONSync=Nt.writeJsonSync;Nt.readJSON=Nt.readJson;Nt.readJSONSync=Nt.readJsonSync;fl.exports=Nt});var yl=S((Jb,gl)=>{"use strict";var TE=At(),Js=require("path"),DE=li().copy,ml=ar().remove,AE=Jt().mkdirp,LE=Ne().pathExists,dl=He();function RE(n,t,e,r){typeof e=="function"&&(r=e,e={}),e=e||{};let i=e.overwrite||e.clobber||!1;dl.checkPaths(n,t,"move",e,(s,o)=>{if(s)return r(s);let{srcStat:a,isChangingCase:c=!1}=o;dl.checkParentPaths(n,a,t,"move",f=>{if(f)return r(f);if(PE(t))return pl(n,t,i,c,r);AE(Js.dirname(t),u=>u?r(u):pl(n,t,i,c,r))})})}function PE(n){let t=Js.dirname(n);return Js.parse(t).root===t}function pl(n,t,e,r,i){if(r)return Zs(n,t,e,i);if(e)return ml(t,s=>s?i(s):Zs(n,t,e,i));LE(t,(s,o)=>s?i(s):o?i(new Error("dest already exists.")):Zs(n,t,e,i))}function Zs(n,t,e,r){TE.rename(n,t,i=>i?i.code!=="EXDEV"?r(i):FE(n,t,e,r):r())}function FE(n,t,e,r){DE(n,t,{overwrite:e,errorOnExist:!0,preserveTimestamps:!0},s=>s?r(s):ml(n,r))}gl.exports=RE});var vl=S((Kb,bl)=>{"use strict";var wl=At(),Xs=require("path"),kE=li().copySync,Sl=ar().removeSync,$E=Jt().mkdirpSync,El=He();function ME(n,t,e){e=e||{};let r=e.overwrite||e.clobber||!1,{srcStat:i,isChangingCase:s=!1}=El.checkPathsSync(n,t,"move",e);return El.checkParentPathsSync(n,i,t,"move"),jE(t)||$E(Xs.dirname(t)),UE(n,t,r,s)}function jE(n){let t=Xs.dirname(n);return Xs.parse(t).root===t}function UE(n,t,e,r){if(r)return Ks(n,t,e);if(e)return Sl(t),Ks(n,t,e);if(wl.existsSync(t))throw new Error("dest already exists.");return Ks(n,t,e)}function Ks(n,t,e){try{wl.renameSync(n,t)}catch(r){if(r.code!=="EXDEV")throw r;return BE(n,t,e)}}function BE(n,t,e){return kE(n,t,{overwrite:e,errorOnExist:!0,preserveTimestamps:!0}),Sl(n)}bl.exports=ME});var Ol=S((Xb,xl)=>{"use strict";var qE=Dt().fromCallback;xl.exports={move:qE(yl()),moveSync:vl()}});var lr=S((Yb,Cl)=>{"use strict";Cl.exports={...ze(),...li(),...Su(),...Ku(),...hl(),...Jt(),...Ol(),...pi(),...Ne(),...ar()}});var Ll=S((nv,Al)=>{Al.exports=Dl;Dl.sync=WE;var Il=require("fs");function GE(n,t){var e=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!e||(e=e.split(";"),e.indexOf("")!==-1))return!0;for(var r=0;r<e.length;r++){var i=e[r].toLowerCase();if(i&&n.substr(-i.length).toLowerCase()===i)return!0}return!1}function Tl(n,t,e){return!n.isSymbolicLink()&&!n.isFile()?!1:GE(t,e)}function Dl(n,t,e){Il.stat(n,function(r,i){e(r,r?!1:Tl(i,n,t))})}function WE(n,t){return Tl(Il.statSync(n),n,t)}});var $l=S((rv,kl)=>{kl.exports=Pl;Pl.sync=zE;var Rl=require("fs");function Pl(n,t,e){Rl.stat(n,function(r,i){e(r,r?!1:Fl(i,t))})}function zE(n,t){return Fl(Rl.statSync(n),t)}function Fl(n,t){return n.isFile()&&HE(n,t)}function HE(n,t){var e=n.mode,r=n.uid,i=n.gid,s=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),o=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8),f=parseInt("001",8),u=a|c,l=e&f||e&c&&i===o||e&a&&r===s||e&u&&s===0;return l}});var jl=S((sv,Ml)=>{var iv=require("fs"),gi;process.platform==="win32"||global.TESTING_WINDOWS?gi=Ll():gi=$l();Ml.exports=Ys;Ys.sync=VE;function Ys(n,t,e){if(typeof t=="function"&&(e=t,t={}),!e){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(r,i){Ys(n,t||{},function(s,o){s?i(s):r(o)})})}gi(n,t||{},function(r,i){r&&(r.code==="EACCES"||t&&t.ignoreErrors)&&(r=null,i=!1),e(r,i)})}function VE(n,t){try{return gi.sync(n,t||{})}catch(e){if(t&&t.ignoreErrors||e.code==="EACCES")return!1;throw e}}});var Hl=S((ov,zl)=>{var pn=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Ul=require("path"),ZE=pn?";":":",Bl=jl(),ql=n=>Object.assign(new Error(`not found: ${n}`),{code:"ENOENT"}),Gl=(n,t)=>{let e=t.colon||ZE,r=n.match(/\//)||pn&&n.match(/\\/)?[""]:[...pn?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(e)],i=pn?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=pn?i.split(e):[""];return pn&&n.indexOf(".")!==-1&&s[0]!==""&&s.unshift(""),{pathEnv:r,pathExt:s,pathExtExe:i}},Wl=(n,t,e)=>{typeof t=="function"&&(e=t,t={}),t||(t={});let{pathEnv:r,pathExt:i,pathExtExe:s}=Gl(n,t),o=[],a=f=>new Promise((u,l)=>{if(f===r.length)return t.all&&o.length?u(o):l(ql(n));let h=r[f],d=/^".*"$/.test(h)?h.slice(1,-1):h,p=Ul.join(d,n),m=!d&&/^\.[\\\/]/.test(n)?n.slice(0,2)+p:p;u(c(m,f,0))}),c=(f,u,l)=>new Promise((h,d)=>{if(l===i.length)return h(a(u+1));let p=i[l];Bl(f+p,{pathExt:s},(m,y)=>{if(!m&&y)if(t.all)o.push(f+p);else return h(f+p);return h(c(f,u,l+1))})});return e?a(0).then(f=>e(null,f),e):a(0)},JE=(n,t)=>{t=t||{};let{pathEnv:e,pathExt:r,pathExtExe:i}=Gl(n,t),s=[];for(let o=0;o<e.length;o++){let a=e[o],c=/^".*"$/.test(a)?a.slice(1,-1):a,f=Ul.join(c,n),u=!c&&/^\.[\\\/]/.test(n)?n.slice(0,2)+f:f;for(let l=0;l<r.length;l++){let h=u+r[l];try{if(Bl.sync(h,{pathExt:i}))if(t.all)s.push(h);else return h}catch{}}}if(t.all&&s.length)return s;if(t.nothrow)return null;throw ql(n)};zl.exports=Wl;Wl.sync=JE});var Zl=S((av,Qs)=>{"use strict";var Vl=(n={})=>{let t=n.env||process.env;return(n.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(r=>r.toUpperCase()==="PATH")||"Path"};Qs.exports=Vl;Qs.exports.default=Vl});var Yl=S((cv,Xl)=>{"use strict";var Jl=require("path"),KE=Hl(),XE=Zl();function Kl(n,t){let e=n.options.env||process.env,r=process.cwd(),i=n.options.cwd!=null,s=i&&process.chdir!==void 0&&!process.chdir.disabled;if(s)try{process.chdir(n.options.cwd)}catch{}let o;try{o=KE.sync(n.command,{path:e[XE({env:e})],pathExt:t?Jl.delimiter:void 0})}catch{}finally{s&&process.chdir(r)}return o&&(o=Jl.resolve(i?n.options.cwd:"",o)),o}function YE(n){return Kl(n)||Kl(n,!0)}Xl.exports=YE});var Ql=S((uv,eo)=>{"use strict";var to=/([()\][%!^"`<>&|;, *?])/g;function QE(n){return n=n.replace(to,"^$1"),n}function tw(n,t){return n=`${n}`,n=n.replace(/(\\*)"/g,'$1$1\\"'),n=n.replace(/(\\*)$/,"$1$1"),n=`"${n}"`,n=n.replace(to,"^$1"),t&&(n=n.replace(to,"^$1")),n}eo.exports.command=QE;eo.exports.argument=tw});var ef=S((lv,tf)=>{"use strict";tf.exports=/^#!(.*)/});var rf=S((fv,nf)=>{"use strict";var ew=ef();nf.exports=(n="")=>{let t=n.match(ew);if(!t)return null;let[e,r]=t[0].replace(/#! ?/,"").split(" "),i=e.split("/").pop();return i==="env"?r:r?`${i} ${r}`:i}});var of=S((hv,sf)=>{"use strict";var no=require("fs"),nw=rf();function rw(n){let e=Buffer.alloc(150),r;try{r=no.openSync(n,"r"),no.readSync(r,e,0,150,0),no.closeSync(r)}catch{}return nw(e.toString())}sf.exports=rw});var lf=S((dv,uf)=>{"use strict";var iw=require("path"),af=Yl(),cf=Ql(),sw=of(),ow=process.platform==="win32",aw=/\.(?:com|exe)$/i,cw=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function uw(n){n.file=af(n);let t=n.file&&sw(n.file);return t?(n.args.unshift(n.file),n.command=t,af(n)):n.file}function lw(n){if(!ow)return n;let t=uw(n),e=!aw.test(t);if(n.options.forceShell||e){let r=cw.test(t);n.command=iw.normalize(n.command),n.command=cf.command(n.command),n.args=n.args.map(s=>cf.argument(s,r));let i=[n.command].concat(n.args).join(" ");n.args=["/d","/s","/c",`"${i}"`],n.command=process.env.comspec||"cmd.exe",n.options.windowsVerbatimArguments=!0}return n}function fw(n,t,e){t&&!Array.isArray(t)&&(e=t,t=null),t=t?t.slice(0):[],e=Object.assign({},e);let r={command:n,args:t,options:e,file:void 0,original:{command:n,args:t}};return e.shell?r:lw(r)}uf.exports=fw});var df=S((pv,hf)=>{"use strict";var ro=process.platform==="win32";function io(n,t){return Object.assign(new Error(`${t} ${n.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${n.command}`,path:n.command,spawnargs:n.args})}function hw(n,t){if(!ro)return;let e=n.emit;n.emit=function(r,i){if(r==="exit"){let s=ff(i,t,"spawn");if(s)return e.call(n,"error",s)}return e.apply(n,arguments)}}function ff(n,t){return ro&&n===1&&!t.file?io(t.original,"spawn"):null}function dw(n,t){return ro&&n===1&&!t.file?io(t.original,"spawnSync"):null}hf.exports={hookChildProcess:hw,verifyENOENT:ff,verifyENOENTSync:dw,notFoundError:io}});var gf=S((mv,mn)=>{"use strict";var pf=require("child_process"),so=lf(),oo=df();function mf(n,t,e){let r=so(n,t,e),i=pf.spawn(r.command,r.args,r.options);return oo.hookChildProcess(i,r),i}function pw(n,t,e){let r=so(n,t,e),i=pf.spawnSync(r.command,r.args,r.options);return i.error=i.error||oo.verifyENOENTSync(i.status,r),i}mn.exports=mf;mn.exports.spawn=mf;mn.exports.sync=pw;mn.exports._parse=so;mn.exports._enoent=oo});var Tf=S((Pv,Si)=>{Si.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&Si.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&Si.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var Pf=S((Fv,wn)=>{var q=global.process,Ve=function(n){return n&&typeof n=="object"&&typeof n.removeListener=="function"&&typeof n.emit=="function"&&typeof n.reallyExit=="function"&&typeof n.listeners=="function"&&typeof n.kill=="function"&&typeof n.pid=="number"&&typeof n.on=="function"};Ve(q)?(Df=require("assert"),yn=Tf(),Af=/^win/i.test(q.platform),dr=require("events"),typeof dr!="function"&&(dr=dr.EventEmitter),q.__signal_exit_emitter__?ot=q.__signal_exit_emitter__:(ot=q.__signal_exit_emitter__=new dr,ot.count=0,ot.emitted={}),ot.infinite||(ot.setMaxListeners(1/0),ot.infinite=!0),wn.exports=function(n,t){if(!Ve(global.process))return function(){};Df.equal(typeof n,"function","a callback must be provided for exit handler"),En===!1&&lo();var e="exit";t&&t.alwaysLast&&(e="afterexit");var r=function(){ot.removeListener(e,n),ot.listeners("exit").length===0&&ot.listeners("afterexit").length===0&&bi()};return ot.on(e,n),r},bi=function(){!En||!Ve(global.process)||(En=!1,yn.forEach(function(t){try{q.removeListener(t,vi[t])}catch{}}),q.emit=xi,q.reallyExit=fo,ot.count-=1)},wn.exports.unload=bi,Ze=function(t,e,r){ot.emitted[t]||(ot.emitted[t]=!0,ot.emit(t,e,r))},vi={},yn.forEach(function(n){vi[n]=function(){if(Ve(global.process)){var e=q.listeners(n);e.length===ot.count&&(bi(),Ze("exit",null,n),Ze("afterexit",null,n),Af&&n==="SIGHUP"&&(n="SIGINT"),q.kill(q.pid,n))}}}),wn.exports.signals=function(){return yn},En=!1,lo=function(){En||!Ve(global.process)||(En=!0,ot.count+=1,yn=yn.filter(function(t){try{return q.on(t,vi[t]),!0}catch{return!1}}),q.emit=Rf,q.reallyExit=Lf)},wn.exports.load=lo,fo=q.reallyExit,Lf=function(t){Ve(global.process)&&(q.exitCode=t||0,Ze("exit",q.exitCode,null),Ze("afterexit",q.exitCode,null),fo.call(q,q.exitCode))},xi=q.emit,Rf=function(t,e){if(t==="exit"&&Ve(global.process)){e!==void 0&&(q.exitCode=e);var r=xi.apply(this,arguments);return Ze("exit",q.exitCode,null),Ze("afterexit",q.exitCode,null),r}else return xi.apply(this,arguments)}):wn.exports=function(){return function(){}};var Df,yn,Af,dr,ot,bi,Ze,vi,En,lo,fo,Lf,xi,Rf});var Hf=S((Uv,zf)=>{"use strict";var{PassThrough:jw}=require("stream");zf.exports=n=>{n={...n};let{array:t}=n,{encoding:e}=n,r=e==="buffer",i=!1;t?i=!(e||r):e=e||"utf8",r&&(e=null);let s=new jw({objectMode:i});e&&s.setEncoding(e);let o=0,a=[];return s.on("data",c=>{a.push(c),i?o=a.length:o+=c.length}),s.getBufferedValue=()=>t?a:r?Buffer.concat(a,o):a.join(""),s.getBufferedLength=()=>o,s}});var Vf=S((Bv,pr)=>{"use strict";var{constants:Uw}=require("buffer"),Bw=require("stream"),{promisify:qw}=require("util"),Gw=Hf(),Ww=qw(Bw.pipeline),Ci=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function mo(n,t){if(!n)throw new Error("Expected a stream");t={maxBuffer:1/0,...t};let{maxBuffer:e}=t,r=Gw(t);return await new Promise((i,s)=>{let o=a=>{a&&r.getBufferedLength()<=Uw.MAX_LENGTH&&(a.bufferedData=r.getBufferedValue()),s(a)};(async()=>{try{await Ww(n,r),i()}catch(a){o(a)}})(),r.on("data",()=>{r.getBufferedLength()>e&&o(new Ci)})}),r.getBufferedValue()}pr.exports=mo;pr.exports.buffer=(n,t)=>mo(n,{...t,encoding:"buffer"});pr.exports.array=(n,t)=>mo(n,{...t,array:!0});pr.exports.MaxBufferError=Ci});var Jf=S((qv,Zf)=>{"use strict";var{PassThrough:zw}=require("stream");Zf.exports=function(){var n=[],t=new zw({objectMode:!0});return t.setMaxListeners(0),t.add=e,t.isEmpty=r,t.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(e),t;function e(s){return Array.isArray(s)?(s.forEach(e),this):(n.push(s),s.once("end",i.bind(null,s)),s.once("error",t.emit.bind(t,"error")),s.pipe(t,{end:!1}),this)}function r(){return n.length==0}function i(s){n=n.filter(function(o){return o!==s}),!n.length&&t.readable&&t.end()}}});var bh=S((hx,Sh)=>{"use strict";Sh.exports=Eh;function Eh(n,t,e){n instanceof RegExp&&(n=yh(n,e)),t instanceof RegExp&&(t=yh(t,e));var r=wh(n,t,e);return r&&{start:r[0],end:r[1],pre:e.slice(0,r[0]),body:e.slice(r[0]+n.length,r[1]),post:e.slice(r[1]+t.length)}}function yh(n,t){var e=t.match(n);return e?e[0]:null}Eh.range=wh;function wh(n,t,e){var r,i,s,o,a,c=e.indexOf(n),f=e.indexOf(t,c+1),u=c;if(c>=0&&f>0){if(n===t)return[c,f];for(r=[],s=e.length;u>=0&&!a;)u==c?(r.push(u),c=e.indexOf(n,u+1)):r.length==1?a=[r.pop(),f]:(i=r.pop(),i<s&&(s=i,o=f),f=e.indexOf(t,u+1)),u=c<f&&c>=0?c:f;r.length&&(a=[s,o])}return a}});var Th=S((dx,Ih)=>{var vh=bh();Ih.exports=u0;var xh="\0SLASH"+Math.random()+"\0",Oh="\0OPEN"+Math.random()+"\0",Co="\0CLOSE"+Math.random()+"\0",Ch="\0COMMA"+Math.random()+"\0",Nh="\0PERIOD"+Math.random()+"\0";function Oo(n){return parseInt(n,10)==n?parseInt(n,10):n.charCodeAt(0)}function a0(n){return n.split("\\\\").join(xh).split("\\{").join(Oh).split("\\}").join(Co).split("\\,").join(Ch).split("\\.").join(Nh)}function c0(n){return n.split(xh).join("\\").split(Oh).join("{").split(Co).join("}").split(Ch).join(",").split(Nh).join(".")}function _h(n){if(!n)return[""];var t=[],e=vh("{","}",n);if(!e)return n.split(",");var r=e.pre,i=e.body,s=e.post,o=r.split(",");o[o.length-1]+="{"+i+"}";var a=_h(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),t.push.apply(t,o),t}function u0(n){return n?(n.substr(0,2)==="{}"&&(n="\\{\\}"+n.substr(2)),yr(a0(n),!0).map(c0)):[]}function l0(n){return"{"+n+"}"}function f0(n){return/^-?0\d/.test(n)}function h0(n,t){return n<=t}function d0(n,t){return n>=t}function yr(n,t){var e=[],r=vh("{","}",n);if(!r)return[n];var i=r.pre,s=r.post.length?yr(r.post,!1):[""];if(/\$$/.test(r.pre))for(var o=0;o<s.length;o++){var a=i+"{"+r.body+"}"+s[o];e.push(a)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),f=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),u=c||f,l=r.body.indexOf(",")>=0;if(!u&&!l)return r.post.match(/,.*\}/)?(n=r.pre+"{"+r.body+Co+r.post,yr(n)):[n];var h;if(u)h=r.body.split(/\.\./);else if(h=_h(r.body),h.length===1&&(h=yr(h[0],!1).map(l0),h.length===1))return s.map(function(L){return r.pre+h[0]+L});var d;if(u){var p=Oo(h[0]),m=Oo(h[1]),y=Math.max(h[0].length,h[1].length),g=h.length==3?Math.abs(Oo(h[2])):1,E=h0,w=m<p;w&&(g*=-1,E=d0);var v=h.some(f0);d=[];for(var I=p;E(I,m);I+=g){var T;if(f)T=String.fromCharCode(I),T==="\\"&&(T="");else if(T=String(I),v){var A=y-T.length;if(A>0){var k=new Array(A+1).join("0");I<0?T="-"+k+T.slice(1):T=k+T}}d.push(T)}}else{d=[];for(var x=0;x<h.length;x++)d.push.apply(d,yr(h[x],!1))}for(var x=0;x<d.length;x++)for(var o=0;o<s.length;o++){var a=i+d[x]+s[o];(!t||u||a)&&e.push(a)}}return e}});var Qo=S(kd=>{kd.require=function(){if(typeof process=="object"&&process.versions&&process.versions.electron)try{let n=require("original-fs");if(Object.keys(n).length>0)return n}catch{}return require("fs")}});var ta=S((mC,$d)=>{$d.exports={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,END64HDR:20,END64SIG:117853008,END64START:4,END64OFF:8,END64NUMDISKS:16,ZIP64SIG:101075792,ZIP64HDR:56,ZIP64LEAD:12,ZIP64SIZE:4,ZIP64VEM:12,ZIP64VER:14,ZIP64DSK:16,ZIP64DSKDIR:20,ZIP64SUB:24,ZIP64TOT:32,ZIP64SIZB:40,ZIP64OFF:48,ZIP64EXTRA:56,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,AES_ENCRYPT:99,FLG_ENC:1,FLG_COMP1:2,FLG_COMP2:4,FLG_DESC:8,FLG_ENH:16,FLG_PATCH:32,FLG_STR:64,FLG_EFS:2048,FLG_MSK:4096,FILE:2,BUFFER:1,NONE:0,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24}});var ea=S((gC,Md)=>{Md.exports={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed",FILE_IN_THE_WAY:"There is a file in the way: %s",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:"File not found: %s",NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found"}});var qd=S((yC,Bd)=>{var SS=Qo().require(),It=require("path"),jd=ta(),bS=ea(),vS=typeof process=="object"&&process.platform==="win32",Ud=n=>n&&typeof n=="object",na=new Uint32Array(256).map((n,t)=>{for(let e=0;e<8;e++)t&1?t=3988292384^t>>>1:t>>>=1;return t>>>0});function yt(n){this.sep=It.sep,this.fs=SS,Ud(n)&&Ud(n.fs)&&typeof n.fs.statSync=="function"&&(this.fs=n.fs)}Bd.exports=yt;yt.prototype.makeDir=function(n){let t=this;function e(r){let i=r.split(t.sep)[0];r.split(t.sep).forEach(function(s){if(!(!s||s.substr(-1,1)===":")){i+=t.sep+s;var o;try{o=t.fs.statSync(i)}catch{t.fs.mkdirSync(i)}if(o&&o.isFile())throw bS.FILE_IN_THE_WAY.replace("%s",i)}})}e(n)};yt.prototype.writeFileTo=function(n,t,e,r){let i=this;if(i.fs.existsSync(n)){if(!e)return!1;var s=i.fs.statSync(n);if(s.isDirectory())return!1}var o=It.dirname(n);i.fs.existsSync(o)||i.makeDir(o);var a;try{a=i.fs.openSync(n,"w",438)}catch{i.fs.chmodSync(n,438),a=i.fs.openSync(n,"w",438)}if(a)try{i.fs.writeSync(a,t,0,t.length,0)}finally{i.fs.closeSync(a)}return i.fs.chmodSync(n,r||438),!0};yt.prototype.writeFileToAsync=function(n,t,e,r,i){typeof r=="function"&&(i=r,r=void 0);let s=this;s.fs.exists(n,function(o){if(o&&!e)return i(!1);s.fs.stat(n,function(a,c){if(o&&c.isDirectory())return i(!1);var f=It.dirname(n);s.fs.exists(f,function(u){u||s.makeDir(f),s.fs.open(n,"w",438,function(l,h){l?s.fs.chmod(n,438,function(){s.fs.open(n,"w",438,function(d,p){s.fs.write(p,t,0,t.length,0,function(){s.fs.close(p,function(){s.fs.chmod(n,r||438,function(){i(!0)})})})})}):h?s.fs.write(h,t,0,t.length,0,function(){s.fs.close(h,function(){s.fs.chmod(n,r||438,function(){i(!0)})})}):s.fs.chmod(n,r||438,function(){i(!0)})})})})})};yt.prototype.findFiles=function(n){let t=this;function e(r,i,s){typeof i=="boolean"&&(s=i,i=void 0);let o=[];return t.fs.readdirSync(r).forEach(function(a){var c=It.join(r,a);t.fs.statSync(c).isDirectory()&&s&&(o=o.concat(e(c,i,s))),(!i||i.test(c))&&o.push(It.normalize(c)+(t.fs.statSync(c).isDirectory()?t.sep:""))}),o}return e(n,void 0,!0)};yt.prototype.getAttributes=function(){};yt.prototype.setAttributes=function(){};yt.crc32update=function(n,t){return na[(n^t)&255]^n>>>8};yt.crc32=function(n){typeof n=="string"&&(n=Buffer.from(n,"utf8")),na.length||genCRCTable();let t=n.length,e=-1;for(let r=0;r<t;)e=yt.crc32update(e,n[r++]);return~e>>>0};yt.methodToString=function(n){switch(n){case jd.STORED:return"STORED ("+n+")";case jd.DEFLATED:return"DEFLATED ("+n+")";default:return"UNSUPPORTED ("+n+")"}};yt.canonical=function(n){if(!n)return"";var t=It.posix.normalize("/"+n.split("\\").join("/"));return It.join(".",t)};yt.sanitize=function(n,t){n=It.resolve(It.normalize(n));for(var e=t.split("/"),r=0,i=e.length;r<i;r++){var s=It.normalize(It.join(n,e.slice(r,i).join(It.sep)));if(s.indexOf(n)===0)return s}return It.normalize(It.join(n,It.basename(t)))};yt.toBuffer=function(t){return Buffer.isBuffer(t)?t:t instanceof Uint8Array?Buffer.from(t):typeof t=="string"?Buffer.from(t,"utf8"):Buffer.alloc(0)};yt.readBigUInt64LE=function(n,t){var e=Buffer.from(n.slice(t,t+8));return e.swap64(),parseInt(`0x${e.toString("hex")}`)};yt.isWin=vS;yt.crcTable=na});var zd=S((EC,Wd)=>{var ns=Qo().require(),Gd=require("path");ns.existsSync=ns.existsSync||Gd.existsSync;Wd.exports=function(n){var t=n||"",e=i(),r=null;function i(){return{directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0}}return t&&ns.existsSync(t)?(r=ns.statSync(t),e.directory=r.isDirectory(),e.mtime=r.mtime,e.atime=r.atime,e.executable=(73&r.mode)!==0,e.readonly=(128&r.mode)===0,e.hidden=Gd.basename(t)[0]==="."):console.warn("Invalid path: "+t),{get directory(){return e.directory},get readOnly(){return e.readonly},get hidden(){return e.hidden},get mtime(){return e.mtime},get atime(){return e.atime},get executable(){return e.executable},decodeAttributes:function(){},encodeAttributes:function(){},toJSON:function(){return{path:t,isDirectory:e.directory,isReadOnly:e.readonly,isHidden:e.hidden,isExecutable:e.executable,mTime:e.mtime,aTime:e.atime}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var Un=S((wC,Mr)=>{Mr.exports=qd();Mr.exports.Constants=ta();Mr.exports.Errors=ea();Mr.exports.FileAttr=zd()});var Vd=S((SC,Hd)=>{var jr=Un(),O=jr.Constants;Hd.exports=function(){var n=20,t=10,e=0,r=0,i=0,s=0,o=0,a=0,c=0,f=0,u=0,l=0,h=0,d=0,p=0;n|=jr.isWin?2560:768,e|=O.FLG_EFS;var m={};function y(g){g=new Date(g),i=(g.getFullYear()-1980&127)<<25|g.getMonth()+1<<21|g.getDate()<<16|g.getHours()<<11|g.getMinutes()<<5|g.getSeconds()>>1}return y(+new Date),{get made(){return n},set made(g){n=g},get version(){return t},set version(g){t=g},get flags(){return e},set flags(g){e=g},get method(){return r},set method(g){switch(g){case O.STORED:this.version=10;case O.DEFLATED:default:this.version=20}r=g},get time(){return new Date((i>>25&127)+1980,(i>>21&15)-1,i>>16&31,i>>11&31,i>>5&63,(i&31)<<1)},set time(g){y(g)},get crc(){return s},set crc(g){s=Math.max(0,g)>>>0},get compressedSize(){return o},set compressedSize(g){o=Math.max(0,g)>>>0},get size(){return a},set size(g){a=Math.max(0,g)>>>0},get fileNameLength(){return c},set fileNameLength(g){c=g},get extraLength(){return f},set extraLength(g){f=g},get commentLength(){return u},set commentLength(g){u=g},get diskNumStart(){return l},set diskNumStart(g){l=Math.max(0,g)>>>0},get inAttr(){return h},set inAttr(g){h=Math.max(0,g)>>>0},get attr(){return d},set attr(g){d=Math.max(0,g)>>>0},get fileAttr(){return d?(d>>>0|0)>>16&4095:0},get offset(){return p},set offset(g){p=Math.max(0,g)>>>0},get encripted(){return(e&1)===1},get entryHeaderSize(){return O.CENHDR+c+f+u},get realDataOffset(){return p+O.LOCHDR+m.fnameLen+m.extraLen},get dataHeader(){return m},loadDataHeaderFromBinary:function(g){var E=g.slice(p,p+O.LOCHDR);if(E.readUInt32LE(0)!==O.LOCSIG)throw new Error(jr.Errors.INVALID_LOC);m={version:E.readUInt16LE(O.LOCVER),flags:E.readUInt16LE(O.LOCFLG),method:E.readUInt16LE(O.LOCHOW),time:E.readUInt32LE(O.LOCTIM),crc:E.readUInt32LE(O.LOCCRC),compressedSize:E.readUInt32LE(O.LOCSIZ),size:E.readUInt32LE(O.LOCLEN),fnameLen:E.readUInt16LE(O.LOCNAM),extraLen:E.readUInt16LE(O.LOCEXT)}},loadFromBinary:function(g){if(g.length!==O.CENHDR||g.readUInt32LE(0)!==O.CENSIG)throw new Error(jr.Errors.INVALID_CEN);n=g.readUInt16LE(O.CENVEM),t=g.readUInt16LE(O.CENVER),e=g.readUInt16LE(O.CENFLG),r=g.readUInt16LE(O.CENHOW),i=g.readUInt32LE(O.CENTIM),s=g.readUInt32LE(O.CENCRC),o=g.readUInt32LE(O.CENSIZ),a=g.readUInt32LE(O.CENLEN),c=g.readUInt16LE(O.CENNAM),f=g.readUInt16LE(O.CENEXT),u=g.readUInt16LE(O.CENCOM),l=g.readUInt16LE(O.CENDSK),h=g.readUInt16LE(O.CENATT),d=g.readUInt32LE(O.CENATX),p=g.readUInt32LE(O.CENOFF)},dataHeaderToBinary:function(){var g=Buffer.alloc(O.LOCHDR);return g.writeUInt32LE(O.LOCSIG,0),g.writeUInt16LE(t,O.LOCVER),g.writeUInt16LE(e,O.LOCFLG),g.writeUInt16LE(r,O.LOCHOW),g.writeUInt32LE(i,O.LOCTIM),g.writeUInt32LE(s,O.LOCCRC),g.writeUInt32LE(o,O.LOCSIZ),g.writeUInt32LE(a,O.LOCLEN),g.writeUInt16LE(c,O.LOCNAM),g.writeUInt16LE(f,O.LOCEXT),g},entryHeaderToBinary:function(){var g=Buffer.alloc(O.CENHDR+c+f+u);return g.writeUInt32LE(O.CENSIG,0),g.writeUInt16LE(n,O.CENVEM),g.writeUInt16LE(t,O.CENVER),g.writeUInt16LE(e,O.CENFLG),g.writeUInt16LE(r,O.CENHOW),g.writeUInt32LE(i,O.CENTIM),g.writeUInt32LE(s,O.CENCRC),g.writeUInt32LE(o,O.CENSIZ),g.writeUInt32LE(a,O.CENLEN),g.writeUInt16LE(c,O.CENNAM),g.writeUInt16LE(f,O.CENEXT),g.writeUInt16LE(u,O.CENCOM),g.writeUInt16LE(l,O.CENDSK),g.writeUInt16LE(h,O.CENATT),g.writeUInt32LE(d,O.CENATX),g.writeUInt32LE(p,O.CENOFF),g.fill(0,O.CENHDR),g},toJSON:function(){let g=function(E){return E+" bytes"};return{made:n,version:t,flags:e,method:jr.methodToString(r),time:this.time,crc:"0x"+s.toString(16).toUpperCase(),compressedSize:g(o),size:g(a),fileNameLength:g(c),extraLength:g(f),commentLength:g(u),diskNumStart:l,inAttr:h,attr:d,offset:p,entryHeaderSize:g(O.CENHDR+c+f+u)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var Jd=S((bC,Zd)=>{var Bn=Un(),H=Bn.Constants;Zd.exports=function(){var n=0,t=0,e=0,r=0,i=0;return{get diskEntries(){return n},set diskEntries(s){n=t=s},get totalEntries(){return t},set totalEntries(s){t=n=s},get size(){return e},set size(s){e=s},get offset(){return r},set offset(s){r=s},get commentLength(){return i},set commentLength(s){i=s},get mainHeaderSize(){return H.ENDHDR+i},loadFromBinary:function(s){if((s.length!==H.ENDHDR||s.readUInt32LE(0)!==H.ENDSIG)&&(s.length<H.ZIP64HDR||s.readUInt32LE(0)!==H.ZIP64SIG))throw new Error(Bn.Errors.INVALID_END);s.readUInt32LE(0)===H.ENDSIG?(n=s.readUInt16LE(H.ENDSUB),t=s.readUInt16LE(H.ENDTOT),e=s.readUInt32LE(H.ENDSIZ),r=s.readUInt32LE(H.ENDOFF),i=s.readUInt16LE(H.ENDCOM)):(n=Bn.readBigUInt64LE(s,H.ZIP64SUB),t=Bn.readBigUInt64LE(s,H.ZIP64TOT),e=Bn.readBigUInt64LE(s,H.ZIP64SIZE),r=Bn.readBigUInt64LE(s,H.ZIP64OFF),i=0)},toBinary:function(){var s=Buffer.alloc(H.ENDHDR+i);return s.writeUInt32LE(H.ENDSIG,0),s.writeUInt32LE(0,4),s.writeUInt16LE(n,H.ENDSUB),s.writeUInt16LE(t,H.ENDTOT),s.writeUInt32LE(e,H.ENDSIZ),s.writeUInt32LE(r,H.ENDOFF),s.writeUInt16LE(i,H.ENDCOM),s.fill(" ",H.ENDHDR),s},toJSON:function(){let s=function(o,a){let c=o.toString(16).toUpperCase();for(;c.length<a;)c="0"+c;return"0x"+c};return{diskEntries:n,totalEntries:t,size:e+" bytes",offset:s(r,4),commentLength:i}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var ia=S(ra=>{ra.EntryHeader=Vd();ra.MainHeader=Jd()});var Xd=S((xC,Kd)=>{Kd.exports=function(n){var t=require("zlib"),e={chunkSize:(parseInt(n.length/1024)+1)*1024};return{deflate:function(){return t.deflateRawSync(n,e)},deflateAsync:function(r){var i=t.createDeflateRaw(e),s=[],o=0;i.on("data",function(a){s.push(a),o+=a.length}),i.on("end",function(){var a=Buffer.alloc(o),c=0;a.fill(0);for(var f=0;f<s.length;f++){var u=s[f];u.copy(a,c),c+=u.length}r&&r(a)}),i.end(n)}}}});var Qd=S((OC,Yd)=>{Yd.exports=function(n){var t=require("zlib");return{inflate:function(){return t.inflateRawSync(n)},inflateAsync:function(e){var r=t.createInflateRaw(),i=[],s=0;r.on("data",function(o){i.push(o),s+=o.length}),r.on("end",function(){var o=Buffer.alloc(s),a=0;o.fill(0);for(var c=0;c<i.length;c++){var f=i[c];f.copy(o,a),a+=f.length}e&&e(o)}),r.end(n)}}}});var ip=S((CC,rp)=>{"use strict";var{randomFillSync:tp}=require("crypto"),xS=new Uint32Array(256).map((n,t)=>{for(let e=0;e<8;e++)t&1?t=t>>>1^3988292384:t>>>=1;return t>>>0}),np=(n,t)=>Math.imul(n,t)>>>0,ep=(n,t)=>xS[(n^t)&255]^n>>>8,Ur=()=>typeof tp=="function"?tp(Buffer.alloc(12)):Ur.node();Ur.node=()=>{let n=Buffer.alloc(12),t=n.length;for(let e=0;e<t;e++)n[e]=Math.random()*256&255;return n};var rs={genSalt:Ur};function is(n){let t=Buffer.isBuffer(n)?n:Buffer.from(n);this.keys=new Uint32Array([305419896,591751049,878082192]);for(let e=0;e<t.length;e++)this.updateKeys(t[e])}is.prototype.updateKeys=function(n){let t=this.keys;return t[0]=ep(t[0],n),t[1]+=t[0]&255,t[1]=np(t[1],134775813)+1,t[2]=ep(t[2],t[1]>>>24),n};is.prototype.next=function(){let n=(this.keys[2]|2)>>>0;return np(n,n^1)>>8&255};function OS(n){let t=new is(n);return function(e){let r=Buffer.alloc(e.length),i=0;for(let s of e)r[i++]=t.updateKeys(s^t.next());return r}}function CS(n){let t=new is(n);return function(e,r,i=0){r||(r=Buffer.alloc(e.length));for(let s of e){let o=t.next();r[i++]=s^o,t.updateKeys(s)}return r}}function NS(n,t,e){if(!n||!Buffer.isBuffer(n)||n.length<12)return Buffer.alloc(0);let r=OS(e);if(r(n.slice(0,12))[11]!==t.crc>>>24)throw"ADM-ZIP: Wrong Password";return r(n.slice(12))}function _S(n){Buffer.isBuffer(n)&&n.length>=12?rs.genSalt=function(){return n.slice(0,12)}:n==="node"?rs.genSalt=Ur.node:rs.genSalt=Ur}function IS(n,t,e,r=!1){n==null&&(n=Buffer.alloc(0)),Buffer.isBuffer(n)||(n=Buffer.from(n.toString()));let i=CS(e),s=rs.genSalt();s[11]=t.crc>>>24&255,r&&(s[10]=t.crc>>>16&255);let o=Buffer.alloc(n.length+12);return i(s,o),i(n,o,12)}rp.exports={decrypt:NS,encrypt:IS,_salter:_S}});var sp=S(ss=>{ss.Deflater=Xd();ss.Inflater=Qd();ss.ZipCrypto=ip()});var oa=S((_C,op)=>{var et=Un(),TS=ia(),jt=et.Constants,sa=sp();op.exports=function(n){var t=new TS.EntryHeader,e=Buffer.alloc(0),r=Buffer.alloc(0),i=!1,s=null,o=Buffer.alloc(0);function a(){return!n||!Buffer.isBuffer(n)?Buffer.alloc(0):(t.loadDataHeaderFromBinary(n),n.slice(t.realDataOffset,t.realDataOffset+t.compressedSize))}function c(p){return!((t.flags&8)!==8&&et.crc32(p)!==t.dataHeader.crc)}function f(p,m,y){if(typeof m>"u"&&typeof p=="string"&&(y=p,p=void 0),i)return p&&m&&m(Buffer.alloc(0),et.Errors.DIRECTORY_CONTENT_ERROR),Buffer.alloc(0);var g=a();if(g.length===0)return p&&m&&m(g),g;if(t.encripted){if(typeof y!="string"&&!Buffer.isBuffer(y))throw new Error("ADM-ZIP: Incompatible password parameter");g=sa.ZipCrypto.decrypt(g,t,y)}var E=Buffer.alloc(t.size);switch(t.method){case et.Constants.STORED:if(g.copy(E),c(E))return p&&m&&m(E),E;throw p&&m&&m(E,et.Errors.BAD_CRC),new Error(et.Errors.BAD_CRC);case et.Constants.DEFLATED:var w=new sa.Inflater(g);if(p)w.inflateAsync(function(v){v.copy(v,0),m&&(c(v)?m(v):m(v,et.Errors.BAD_CRC))});else{if(w.inflate(E).copy(E,0),!c(E))throw new Error(et.Errors.BAD_CRC+" "+e.toString());return E}break;default:throw p&&m&&m(Buffer.alloc(0),et.Errors.UNKNOWN_METHOD),new Error(et.Errors.UNKNOWN_METHOD)}}function u(p,m){if((!s||!s.length)&&Buffer.isBuffer(n))return p&&m&&m(a()),a();if(s.length&&!i){var y;switch(t.method){case et.Constants.STORED:return t.compressedSize=t.size,y=Buffer.alloc(s.length),s.copy(y),p&&m&&m(y),y;default:case et.Constants.DEFLATED:var g=new sa.Deflater(s);if(p)g.deflateAsync(function(w){y=Buffer.alloc(w.length),t.compressedSize=w.length,w.copy(y),m&&m(y)});else{var E=g.deflate();return t.compressedSize=E.length,E}g=null;break}}else if(p&&m)m(Buffer.alloc(0));else return Buffer.alloc(0)}function l(p,m){return(p.readUInt32LE(m+4)<<4)+p.readUInt32LE(m)}function h(p){for(var m=0,y,g,E;m<p.length;)y=p.readUInt16LE(m),m+=2,g=p.readUInt16LE(m),m+=2,E=p.slice(m,m+g),m+=g,jt.ID_ZIP64===y&&d(E)}function d(p){var m,y,g,E;p.length>=jt.EF_ZIP64_SCOMP&&(m=l(p,jt.EF_ZIP64_SUNCOMP),t.size===jt.EF_ZIP64_OR_32&&(t.size=m)),p.length>=jt.EF_ZIP64_RHO&&(y=l(p,jt.EF_ZIP64_SCOMP),t.compressedSize===jt.EF_ZIP64_OR_32&&(t.compressedSize=y)),p.length>=jt.EF_ZIP64_DSN&&(g=l(p,jt.EF_ZIP64_RHO),t.offset===jt.EF_ZIP64_OR_32&&(t.offset=g)),p.length>=jt.EF_ZIP64_DSN+4&&(E=p.readUInt32LE(jt.EF_ZIP64_DSN),t.diskNumStart===jt.EF_ZIP64_OR_16&&(t.diskNumStart=E))}return{get entryName(){return e.toString()},get rawEntryName(){return e},set entryName(p){e=et.toBuffer(p);var m=e[e.length-1];i=m===47||m===92,t.fileNameLength=e.length},get extra(){return o},set extra(p){o=p,t.extraLength=p.length,h(p)},get comment(){return r.toString()},set comment(p){r=et.toBuffer(p),t.commentLength=r.length},get name(){var p=e.toString();return i?p.substr(p.length-1).split("/").pop():p.split("/").pop()},get isDirectory(){return i},getCompressedData:function(){return u(!1,null)},getCompressedDataAsync:function(p){u(!0,p)},setData:function(p){s=et.toBuffer(p),!i&&s.length?(t.size=s.length,t.method=et.Constants.DEFLATED,t.crc=et.crc32(p),t.changed=!0):t.method=et.Constants.STORED},getData:function(p){return t.changed?s:f(!1,null,p)},getDataAsync:function(p,m){t.changed?p(s):f(!0,p,m)},set attr(p){t.attr=p},get attr(){return t.attr},set header(p){t.loadFromBinary(p)},get header(){return t},packHeader:function(){var p=t.entryHeaderToBinary(),m=et.Constants.CENHDR;return e.copy(p,m),m+=e.length,t.extraLength&&(o.copy(p,m),m+=t.extraLength),t.commentLength&&r.copy(p,m),p},toJSON:function(){let p=function(m){return"<"+(m&&m.length+" bytes buffer"||"null")+">"};return{entryName:this.entryName,name:this.name,comment:this.comment,isDirectory:this.isDirectory,header:t.toJSON(),compressedData:p(n),data:p(s)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var up=S((IC,cp)=>{var ap=oa(),DS=ia(),bt=Un();cp.exports=function(n,t){var e=[],r={},i=Buffer.alloc(0),s=new DS.MainHeader,o=!1;let a=Object.assign(Object.create(null),t),{noSort:c}=a;n?l(a.readEntries):o=!0;function f(d){let p=s.diskEntries,m=s.offset;for(let y=0;y<p;y++){let g=m,E=new ap(n);E.header=n.slice(g,g+=bt.Constants.CENHDR),E.entryName=n.slice(g,g+=E.header.fileNameLength),m+=E.header.entryHeaderSize,d(E)}}function u(){o=!0,r={},e=new Array(s.diskEntries);for(var d=s.offset,p=0;p<e.length;p++){var m=d,y=new ap(n);y.header=n.slice(m,m+=bt.Constants.CENHDR),y.entryName=n.slice(m,m+=y.header.fileNameLength),y.header.extraLength&&(y.extra=n.slice(m,m+=y.header.extraLength)),y.header.commentLength&&(y.comment=n.slice(m,m+y.header.commentLength)),d+=y.header.entryHeaderSize,e[p]=y,r[y.entryName]=y}}function l(d){var p=n.length-bt.Constants.ENDHDR,m=Math.max(0,p-65535),y=m,g=n.length,E=-1,w=0;for(p;p>=y;p--)if(n[p]===80){if(n.readUInt32LE(p)===bt.Constants.ENDSIG){E=p,w=p,g=p+bt.Constants.ENDHDR,y=p-bt.Constants.END64HDR;continue}if(n.readUInt32LE(p)===bt.Constants.END64SIG){y=m;continue}if(n.readUInt32LE(p)===bt.Constants.ZIP64SIG){E=p,g=p+bt.readBigUInt64LE(n,p+bt.Constants.ZIP64SIZE)+bt.Constants.ZIP64LEAD;break}}if(!~E)throw new Error(bt.Errors.INVALID_FORMAT);s.loadFromBinary(n.slice(E,g)),s.commentLength&&(i=n.slice(w+bt.Constants.ENDHDR)),d&&u()}function h(){e.length>1&&!c&&e.sort((d,p)=>d.entryName.toLowerCase().localeCompare(p.entryName.toLowerCase()))}return{get entries(){return o||u(),e},get comment(){return i.toString()},set comment(d){i=bt.toBuffer(d),s.commentLength=i.length},getEntryCount:function(){return o?e.length:s.diskEntries},forEach:function(d){if(!o){f(d);return}e.forEach(d)},getEntry:function(d){return o||u(),r[d]||null},setEntry:function(d){o||u(),e.push(d),r[d.entryName]=d,s.totalEntries=e.length},deleteEntry:function(d){o||u();var p=r[d];if(p&&p.isDirectory){var m=this;this.getEntryChildren(p).forEach(function(y){y.entryName!==d&&m.deleteEntry(y.entryName)})}e.splice(e.indexOf(p),1),delete r[d],s.totalEntries=e.length},getEntryChildren:function(d){if(o||u(),d&&d.isDirectory){let p=[],m=d.entryName,y=m.length;return e.forEach(function(g){g.entryName.substr(0,y)===m&&p.push(g)}),p}return[]},compressToBuffer:function(){o||u(),h();let d=[],p=[],m=0,y=0;s.size=0,s.offset=0;for(let w of e){let v=w.getCompressedData();w.header.offset=y;let I=w.header.dataHeaderToBinary(),T=w.rawEntryName.length,A=Buffer.alloc(T+w.extra.length);w.rawEntryName.copy(A,0),A.copy(w.extra,T);let k=I.length+A.length+v.length;y+=k,d.push(I),d.push(A),d.push(v);let x=w.packHeader();p.push(x),s.size+=x.length,m+=k+x.length}m+=s.mainHeaderSize,s.offset=y,y=0;let g=Buffer.alloc(m);for(let w of d)w.copy(g,y),y+=w.length;for(let w of p)w.copy(g,y),y+=w.length;let E=s.toBinary();return i&&i.copy(E,bt.Constants.ENDHDR),E.copy(g,y),g},toAsyncBuffer:function(d,p,m,y){try{o||u(),h();let g=[],E=[],w=0,v=0;s.size=0,s.offset=0;let I=function(T){if(T.length){let A=T.pop(),k=A.entryName+A.extra.toString();m&&m(k),A.getCompressedDataAsync(function(x){y&&y(k),A.header.offset=v;let L=A.header.dataHeaderToBinary(),P=Buffer.alloc(k.length,k),Q=L.length+P.length+x.length;v+=Q,g.push(L),g.push(P),g.push(x);let Z=A.packHeader();E.push(Z),s.size+=Z.length,w+=Q+Z.length,I(T)})}else{w+=s.mainHeaderSize,s.offset=v,v=0;let A=Buffer.alloc(w);g.forEach(function(x){x.copy(A,v),v+=x.length}),E.forEach(function(x){x.copy(A,v),v+=x.length});let k=s.toBinary();i&&i.copy(k,bt.Constants.ENDHDR),k.copy(A,v),d(A)}};I(e)}catch(g){p(g)}}}}});var fp=S((TC,lp)=>{var lt=Un(),ue=require("path"),AS=oa(),LS=up(),sn=(n,t)=>typeof n=="boolean"?n:t,aa=(n,t)=>typeof n=="string"?n:t,RS={noSort:!1,readEntries:!1,method:lt.Constants.NONE,fs:null};lp.exports=function(n,t){let e=null,r=Object.assign(Object.create(null),RS);n&&typeof n=="object"&&(n instanceof Uint8Array||(Object.assign(r,n),n=r.input?r.input:void 0,r.input&&delete r.input),Buffer.isBuffer(n)&&(e=n,r.method=lt.Constants.BUFFER,n=void 0)),Object.assign(r,t);let i=new lt(r);if(n&&typeof n=="string")if(i.fs.existsSync(n))r.method=lt.Constants.FILE,r.filename=n,e=i.fs.readFileSync(n);else throw new Error(lt.Errors.INVALID_FILENAME);let s=new LS(e,r),{canonical:o,sanitize:a}=lt;function c(u){if(u&&s){var l;if(typeof u=="string"&&(l=s.getEntry(u)),typeof u=="object"&&typeof u.entryName<"u"&&typeof u.header<"u"&&(l=s.getEntry(u.entryName)),l)return l}return null}function f(u){let{join:l,normalize:h,sep:d}=ue.posix;return l(".",h(d+u.split("\\").join(d)+d))}return{readFile:function(u,l){var h=c(u);return h&&h.getData(l)||null},readFileAsync:function(u,l){var h=c(u);h?h.getDataAsync(l):l(null,"getEntry failed for:"+u)},readAsText:function(u,l){var h=c(u);if(h){var d=h.getData();if(d&&d.length)return d.toString(l||"utf8")}return""},readAsTextAsync:function(u,l,h){var d=c(u);d?d.getDataAsync(function(p,m){if(m){l(p,m);return}p&&p.length?l(p.toString(h||"utf8")):l("")}):l("")},deleteFile:function(u){var l=c(u);l&&s.deleteEntry(l.entryName)},addZipComment:function(u){s.comment=u},getZipComment:function(){return s.comment||""},addZipEntryComment:function(u,l){var h=c(u);h&&(h.comment=l)},getZipEntryComment:function(u){var l=c(u);return l&&l.comment||""},updateFile:function(u,l){var h=c(u);h&&h.setData(l)},addLocalFile:function(u,l,h,d){if(i.fs.existsSync(u)){l=l?f(l):"";var p=u.split("\\").join("/").split("/").pop();l+=h||p;let m=i.fs.statSync(u);this.addFile(l,i.fs.readFileSync(u),d,m)}else throw new Error(lt.Errors.FILE_NOT_FOUND.replace("%s",u))},addLocalFolder:function(u,l,h,d){if(h instanceof RegExp?h=function(p){return function(m){return p.test(m)}}(h):typeof h!="function"&&(h=function(){return!0}),l=l?f(l):"",u=ue.normalize(u),i.fs.existsSync(u)){let p=i.findFiles(u),m=this;p.length&&p.forEach(function(y){var g=ue.relative(u,y).split("\\").join("/");if(h(g)){var E=i.fs.statSync(y);E.isFile()?m.addFile(l+g,i.fs.readFileSync(y),"",d||E):m.addFile(l+g+"/",Buffer.alloc(0),"",d||E)}})}else throw new Error(lt.Errors.FILE_NOT_FOUND.replace("%s",u))},addLocalFolderAsync:function(u,l,h,d){d instanceof RegExp?d=function(m){return function(y){return m.test(y)}}(d):typeof d!="function"&&(d=function(){return!0}),h=h?f(h):"",u=ue.normalize(u);var p=this;i.fs.open(u,"r",function(m){if(m&&m.code==="ENOENT")l(void 0,lt.Errors.FILE_NOT_FOUND.replace("%s",u));else if(m)l(void 0,m);else{var y=i.findFiles(u),g=-1,E=function(){if(g+=1,g<y.length){var w=y[g],v=ue.relative(u,w).split("\\").join("/");v=v.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,""),d(v)?i.fs.stat(w,function(I,T){I&&l(void 0,I),T.isFile()?i.fs.readFile(w,function(A,k){A?l(void 0,A):(p.addFile(h+v,k,"",T),E())}):(p.addFile(h+v+"/",Buffer.alloc(0),"",T),E())}):process.nextTick(()=>{E()})}else l(!0,void 0)};E()}})},addLocalFolderPromise:function(u,l){return new Promise((h,d)=>{let{filter:p,zipPath:m}=Object.assign({},l);this.addLocalFolderAsync(u,(y,g)=>{g&&d(g),y&&h(this)},m,p)})},addFile:function(u,l,h,d){let p=c(u),m=p!=null;m||(p=new AS,p.entryName=u),p.comment=h||"";let y=typeof d=="object"&&d instanceof i.fs.Stats;y&&(p.header.time=d.mtime);var g=p.isDirectory?16:0;let E=p.isDirectory?16384:32768;y?E|=4095&d.mode:typeof d=="number"?E|=4095&d:E|=p.isDirectory?493:420,g=(g|E<<16)>>>0,p.attr=g,p.setData(l),m||s.setEntry(p)},getEntries:function(){return s?s.entries:[]},getEntry:function(u){return c(u)},getEntryCount:function(){return s.getEntryCount()},forEach:function(u){return s.forEach(u)},extractEntryTo:function(u,l,h,d,p,m){d=sn(d,!1),p=sn(p,!1),h=sn(h,!0),m=aa(m,aa(p,void 0));var y=c(u);if(!y)throw new Error(lt.Errors.NO_ENTRY);var g=o(y.entryName),E=a(l,m&&!y.isDirectory?m:h?g:ue.basename(g));if(y.isDirectory){var w=s.getEntryChildren(y);return w.forEach(function(T){if(T.isDirectory)return;var A=T.getData();if(!A)throw new Error(lt.Errors.CANT_EXTRACT_FILE);var k=o(T.entryName),x=a(l,h?k:ue.basename(k));let L=p?T.header.fileAttr:void 0;i.writeFileTo(x,A,d,L)}),!0}var v=y.getData();if(!v)throw new Error(lt.Errors.CANT_EXTRACT_FILE);if(i.fs.existsSync(E)&&!d)throw new Error(lt.Errors.CANT_OVERRIDE);let I=p?u.header.fileAttr:void 0;return i.writeFileTo(E,v,d,I),!0},test:function(u){if(!s)return!1;for(var l in s.entries)try{if(l.isDirectory)continue;var h=s.entries[l].getData(u);if(!h)return!1}catch{return!1}return!0},extractAllTo:function(u,l,h,d){if(l=sn(l,!1),d=aa(h,d),h=sn(h,!1),!s)throw new Error(lt.Errors.NO_ZIP);s.entries.forEach(function(p){var m=a(u,o(p.entryName.toString()));if(p.isDirectory){i.makeDir(m);return}var y=p.getData(d);if(!y)throw new Error(lt.Errors.CANT_EXTRACT_FILE);let g=h?p.header.fileAttr:void 0;i.writeFileTo(m,y,l,g);try{i.fs.utimesSync(m,p.header.time,p.header.time)}catch{throw new Error(lt.Errors.CANT_EXTRACT_FILE)}})},extractAllToAsync:function(u,l,h,d){if(l=sn(l,!1),typeof h=="function"&&!d&&(d=h),h=sn(h,!1),d||(d=function(w){throw new Error(w)}),!s){d(new Error(lt.Errors.NO_ZIP));return}u=ue.resolve(u);let p=w=>a(u,ue.normalize(o(w.entryName.toString()))),m=(w,v)=>new Error(w+': "'+v+'"'),y=[],g=new Set;s.entries.forEach(w=>{w.isDirectory?y.push(w):g.add(w)});for(let w of y){let v=p(w),I=h?w.header.fileAttr:void 0;try{i.makeDir(v),I&&i.fs.chmodSync(v,I),i.fs.utimesSync(v,w.header.time,w.header.time)}catch{d(m("Unable to create folder",v))}}let E=()=>{g.size===0&&d()};for(let w of g.values()){let v=ue.normalize(o(w.entryName.toString())),I=a(u,v);w.getDataAsync(function(T,A){if(A){d(new Error(A));return}if(!T)d(new Error(lt.Errors.CANT_EXTRACT_FILE));else{let k=h?w.header.fileAttr:void 0;i.writeFileToAsync(I,T,l,k,function(x){if(!x){d(m("Unable to write file",I));return}i.fs.utimes(I,w.header.time,w.header.time,function(L){if(L){d(m("Unable to set times",I));return}g.delete(w),E()})})}})}E()},writeZip:function(u,l){if(arguments.length===1&&typeof u=="function"&&(l=u,u=""),!u&&r.filename&&(u=r.filename),!!u){var h=s.compressToBuffer();if(h){var d=i.writeFileTo(u,h,!0);typeof l=="function"&&l(d?null:new Error("failed"),"")}}},writeZipPromise:function(u,l){let{overwrite:h,perm:d}=Object.assign({overwrite:!0},l);return new Promise((p,m)=>{!u&&r.filename&&(u=r.filename),u||m("ADM-ZIP: ZIP File Name Missing"),this.toBufferPromise().then(y=>{let g=E=>E?p(E):m("ADM-ZIP: Wasn't able to write zip file");i.writeFileToAsync(u,y,h,d,g)},m)})},toBufferPromise:function(){return new Promise((u,l)=>{s.toAsyncBuffer(u,l)})},toBuffer:function(u,l,h,d){return this.valueOf=2,typeof u=="function"?(s.toAsyncBuffer(u,l,h,d),null):s.compressToBuffer()}}}});var FS={};Sp(FS,{main:()=>PS});module.exports=bp(FS);var FC=F(Ma()),dp=F(er());var Me=F(er()),ce=F(lr()),je=require("path");var mi=require("path"),_l=(0,mi.join)(__dirname,"../../"),Nl=(0,mi.join)(_l,".cli"),re={REPO:_l,PROJECT:Nl,METADATA_FILE:(0,mi.join)(Nl,".metadata.json")};var hh=require("node:buffer"),dh=F(require("node:path"),1),Ii=F(require("node:child_process"),1),mr=F(require("node:process"),1),ph=F(gf(),1);function ao(n){let t=typeof n=="string"?`
`:`
`.charCodeAt(),e=typeof n=="string"?"\r":"\r".charCodeAt();return n[n.length-1]===t&&(n=n.slice(0,-1)),n[n.length-1]===e&&(n=n.slice(0,-1)),n}var fr=F(require("node:process"),1),gn=F(require("node:path"),1),yf=F(require("node:url"),1);function yi(n={}){let{env:t=process.env,platform:e=process.platform}=n;return e!=="win32"?"PATH":Object.keys(t).reverse().find(r=>r.toUpperCase()==="PATH")||"Path"}function mw(n={}){let{cwd:t=fr.default.cwd(),path:e=fr.default.env[yi()],execPath:r=fr.default.execPath}=n,i,s=t instanceof URL?yf.default.fileURLToPath(t):t,o=gn.default.resolve(s),a=[];for(;i!==o;)a.push(gn.default.join(o,"node_modules/.bin")),i=o,o=gn.default.resolve(o,"..");return a.push(gn.default.resolve(s,r,"..")),[...a,e].join(gn.default.delimiter)}function Ef({env:n=fr.default.env,...t}={}){n={...n};let e=yi({env:n});return t.path=n[e],n[e]=mw(t),n}var gw=(n,t,e,r)=>{if(e==="length"||e==="prototype"||e==="arguments"||e==="caller")return;let i=Object.getOwnPropertyDescriptor(n,e),s=Object.getOwnPropertyDescriptor(t,e);!yw(i,s)&&r||Object.defineProperty(n,e,s)},yw=function(n,t){return n===void 0||n.configurable||n.writable===t.writable&&n.enumerable===t.enumerable&&n.configurable===t.configurable&&(n.writable||n.value===t.value)},Ew=(n,t)=>{let e=Object.getPrototypeOf(t);e!==Object.getPrototypeOf(n)&&Object.setPrototypeOf(n,e)},ww=(n,t)=>`/* Wrapped ${n}*/
${t}`,Sw=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),bw=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),vw=(n,t,e)=>{let r=e===""?"":`with ${e.trim()}() `,i=ww.bind(null,r,t.toString());Object.defineProperty(i,"name",bw),Object.defineProperty(n,"toString",{...Sw,value:i})};function co(n,t,{ignoreNonConfigurable:e=!1}={}){let{name:r}=n;for(let i of Reflect.ownKeys(t))gw(n,t,i,e);return Ew(n,t),vw(n,t,r),n}var Ei=new WeakMap,wf=(n,t={})=>{if(typeof n!="function")throw new TypeError("Expected a function");let e,r=0,i=n.displayName||n.name||"<anonymous>",s=function(...o){if(Ei.set(s,++r),r===1)e=n.apply(this,o),n=null;else if(t.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return e};return co(s,n),Ei.set(s,r),s};wf.callCount=n=>{if(!Ei.has(n))throw new Error(`The given function \`${n.name}\` is not wrapped by the \`onetime\` package`);return Ei.get(n)};var Sf=wf;var Nf=require("node:os");var bf=()=>{let n=xf-vf+1;return Array.from({length:n},xw)},xw=(n,t)=>({name:`SIGRT${t+1}`,number:vf+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}),vf=34,xf=64;var Cf=require("node:os");var Of=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];var uo=()=>{let n=bf();return[...Of,...n].map(Ow)},Ow=({name:n,number:t,description:e,action:r,forced:i=!1,standard:s})=>{let{signals:{[n]:o}}=Cf.constants,a=o!==void 0;return{name:n,number:a?o:t,description:e,supported:a,action:r,forced:i,standard:s}};var Cw=()=>{let n=uo();return Object.fromEntries(n.map(Nw))},Nw=({name:n,number:t,description:e,supported:r,action:i,forced:s,standard:o})=>[n,{name:n,number:t,description:e,supported:r,action:i,forced:s,standard:o}],_f=Cw(),_w=()=>{let n=uo(),t=64+1,e=Array.from({length:t},(r,i)=>Iw(i,n));return Object.assign({},...e)},Iw=(n,t)=>{let e=Tw(n,t);if(e===void 0)return{};let{name:r,description:i,supported:s,action:o,forced:a,standard:c}=e;return{[n]:{name:r,number:n,description:i,supported:s,action:o,forced:a,standard:c}}},Tw=(n,t)=>{let e=t.find(({name:r})=>Nf.constants.signals[r]===n);return e!==void 0?e:t.find(r=>r.number===n)},Tv=_w();var Dw=({timedOut:n,timeout:t,errorCode:e,signal:r,signalDescription:i,exitCode:s,isCanceled:o})=>n?`timed out after ${t} milliseconds`:o?"was canceled":e!==void 0?`failed with ${e}`:r!==void 0?`was killed with ${r} (${i})`:s!==void 0?`failed with exit code ${s}`:"failed",hr=({stdout:n,stderr:t,all:e,error:r,signal:i,exitCode:s,command:o,escapedCommand:a,timedOut:c,isCanceled:f,killed:u,parsed:{options:{timeout:l}}})=>{s=s===null?void 0:s,i=i===null?void 0:i;let h=i===void 0?void 0:_f[i].description,d=r&&r.code,m=`Command ${Dw({timedOut:c,timeout:l,errorCode:d,signal:i,signalDescription:h,exitCode:s,isCanceled:f})}: ${o}`,y=Object.prototype.toString.call(r)==="[object Error]",g=y?`${m}
${r.message}`:m,E=[g,t,n].filter(Boolean).join(`
`);return y?(r.originalMessage=r.message,r.message=E):r=new Error(E),r.shortMessage=g,r.command=o,r.escapedCommand=a,r.exitCode=s,r.signal=i,r.signalDescription=h,r.stdout=n,r.stderr=t,e!==void 0&&(r.all=e),"bufferedData"in r&&delete r.bufferedData,r.failed=!0,r.timedOut=!!c,r.isCanceled=f,r.killed=u&&!c,r};var wi=["stdin","stdout","stderr"],Aw=n=>wi.some(t=>n[t]!==void 0),If=n=>{if(!n)return;let{stdio:t}=n;if(t===void 0)return wi.map(r=>n[r]);if(Aw(n))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${wi.map(r=>`\`${r}\``).join(", ")}`);if(typeof t=="string")return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);let e=Math.max(t.length,wi.length);return Array.from({length:e},(r,i)=>t[i])};var Ff=F(require("node:os"),1),kf=F(Pf(),1),Lw=1e3*5,$f=(n,t="SIGTERM",e={})=>{let r=n(t);return Rw(n,t,e,r),r},Rw=(n,t,e,r)=>{if(!Pw(t,e,r))return;let i=kw(e),s=setTimeout(()=>{n("SIGKILL")},i);s.unref&&s.unref()},Pw=(n,{forceKillAfterTimeout:t},e)=>Fw(n)&&t!==!1&&e,Fw=n=>n===Ff.default.constants.signals.SIGTERM||typeof n=="string"&&n.toUpperCase()==="SIGTERM",kw=({forceKillAfterTimeout:n=!0})=>{if(n===!0)return Lw;if(!Number.isFinite(n)||n<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${n}\` (${typeof n})`);return n},Mf=(n,t)=>{n.kill()&&(t.isCanceled=!0)},$w=(n,t,e)=>{n.kill(t),e(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))},jf=(n,{timeout:t,killSignal:e="SIGTERM"},r)=>{if(t===0||t===void 0)return r;let i,s=new Promise((a,c)=>{i=setTimeout(()=>{$w(n,e,c)},t)}),o=r.finally(()=>{clearTimeout(i)});return Promise.race([s,o])},Uf=({timeout:n})=>{if(n!==void 0&&(!Number.isFinite(n)||n<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${n}\` (${typeof n})`)},Bf=async(n,{cleanup:t,detached:e},r)=>{if(!t||e)return r;let i=(0,kf.default)(()=>{n.kill()});return r.finally(()=>{i()})};var qf=require("node:fs"),Gf=require("node:child_process");function Oi(n){return n!==null&&typeof n=="object"&&typeof n.pipe=="function"}function ho(n){return Oi(n)&&n.writable!==!1&&typeof n._write=="function"&&typeof n._writableState=="object"}var Mw=n=>n instanceof Gf.ChildProcess&&typeof n.then=="function",po=(n,t,e)=>{if(typeof e=="string")return n[t].pipe((0,qf.createWriteStream)(e)),n;if(ho(e))return n[t].pipe(e),n;if(!Mw(e))throw new TypeError("The second argument must be a string, a stream or an Execa child process.");if(!ho(e.stdin))throw new TypeError("The target child process's stdin must be available.");return n[t].pipe(e.stdin),e},Wf=n=>{n.stdout!==null&&(n.pipeStdout=po.bind(void 0,n,"stdout")),n.stderr!==null&&(n.pipeStderr=po.bind(void 0,n,"stderr")),n.all!==void 0&&(n.pipeAll=po.bind(void 0,n,"all"))};var Ni=require("node:fs");var Eo=F(Vf(),1),Kf=F(Jf(),1),Xf=n=>{if(n!==void 0)throw new TypeError("The `input` and `inputFile` options cannot be both set.")},Hw=({input:n,inputFile:t})=>typeof t!="string"?n:(Xf(n),(0,Ni.readFileSync)(t)),Yf=n=>{let t=Hw(n);if(Oi(t))throw new TypeError("The `input` option cannot be a stream in sync mode");return t},Vw=({input:n,inputFile:t})=>typeof t!="string"?n:(Xf(n),(0,Ni.createReadStream)(t)),Qf=(n,t)=>{let e=Vw(t);e!==void 0&&(Oi(e)?e.pipe(n.stdin):n.stdin.end(e))},th=(n,{all:t})=>{if(!t||!n.stdout&&!n.stderr)return;let e=(0,Kf.default)();return n.stdout&&e.add(n.stdout),n.stderr&&e.add(n.stderr),e},go=async(n,t)=>{if(!(!n||t===void 0)){n.destroy();try{return await t}catch(e){return e.bufferedData}}},yo=(n,{encoding:t,buffer:e,maxBuffer:r})=>{if(!(!n||!e))return t?(0,Eo.default)(n,{encoding:t,maxBuffer:r}):Eo.default.buffer(n,{maxBuffer:r})},eh=async({stdout:n,stderr:t,all:e},{encoding:r,buffer:i,maxBuffer:s},o)=>{let a=yo(n,{encoding:r,buffer:i,maxBuffer:s}),c=yo(t,{encoding:r,buffer:i,maxBuffer:s}),f=yo(e,{encoding:r,buffer:i,maxBuffer:s*2});try{return await Promise.all([o,a,c,f])}catch(u){return Promise.all([{error:u,signal:u.signal,timedOut:u.timedOut},go(n,a),go(t,c),go(e,f)])}};var Zw=(async()=>{})().constructor.prototype,Jw=["then","catch","finally"].map(n=>[n,Reflect.getOwnPropertyDescriptor(Zw,n)]),wo=(n,t)=>{for(let[e,r]of Jw){let i=typeof t=="function"?(...s)=>Reflect.apply(r.value,t(),s):r.value.bind(t);Reflect.defineProperty(n,e,{...r,value:i})}},nh=n=>new Promise((t,e)=>{n.on("exit",(r,i)=>{t({exitCode:r,signal:i})}),n.on("error",r=>{e(r)}),n.stdin&&n.stdin.on("error",r=>{e(r)})});var sh=require("node:buffer"),oh=require("node:child_process"),ah=(n,t=[])=>Array.isArray(t)?[n,...t]:[n],Kw=/^[\w.-]+$/,Xw=/"/g,Yw=n=>typeof n!="string"||Kw.test(n)?n:`"${n.replace(Xw,'\\"')}"`,So=(n,t)=>ah(n,t).join(" "),bo=(n,t)=>ah(n,t).map(e=>Yw(e)).join(" "),Qw=/ +/g;var rh=n=>{let t=typeof n;if(t==="string")return n;if(t==="number")return String(n);if(t==="object"&&n!==null&&!(n instanceof oh.ChildProcess)&&"stdout"in n){let e=typeof n.stdout;if(e==="string")return n.stdout;if(sh.Buffer.isBuffer(n.stdout))return n.stdout.toString();throw new TypeError(`Unexpected "${e}" stdout in template expression`)}throw new TypeError(`Unexpected "${t}" in template expression`)},ih=(n,t,e)=>e||n.length===0||t.length===0?[...n,...t]:[...n.slice(0,-1),`${n[n.length-1]}${t[0]}`,...t.slice(1)],t0=({templates:n,expressions:t,tokens:e,index:r,template:i})=>{let s=i??n.raw[r],o=s.split(Qw).filter(Boolean),a=ih(e,o,s.startsWith(" "));if(r===t.length)return a;let c=t[r],f=Array.isArray(c)?c.map(u=>rh(u)):[rh(c)];return ih(a,f,s.endsWith(" "))},vo=(n,t)=>{let e=[];for(let[r,i]of n.entries())e=t0({templates:n,expressions:t,tokens:e,index:r,template:i});return e};var ch=require("node:util"),uh=F(require("node:process"),1),lh=(0,ch.debuglog)("execa").enabled,_i=(n,t)=>String(n).padStart(t,"0"),e0=()=>{let n=new Date;return`${_i(n.getHours(),2)}:${_i(n.getMinutes(),2)}:${_i(n.getSeconds(),2)}.${_i(n.getMilliseconds(),3)}`},xo=(n,{verbose:t})=>{t&&uh.default.stderr.write(`[${e0()}] ${n}
`)};var n0=1e3*1e3*100,r0=({env:n,extendEnv:t,preferLocal:e,localDir:r,execPath:i})=>{let s=t?{...mr.default.env,...n}:n;return e?Ef({env:s,cwd:r,execPath:i}):s},mh=(n,t,e={})=>{let r=ph.default._parse(n,t,e);return n=r.command,t=r.args,e=r.options,e={maxBuffer:n0,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:e.cwd||mr.default.cwd(),execPath:mr.default.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,verbose:lh,...e},e.env=r0(e),e.stdio=If(e),mr.default.platform==="win32"&&dh.default.basename(n,".exe")==="cmd"&&t.unshift("/q"),{file:n,args:t,options:e,parsed:r}},gr=(n,t,e)=>typeof t!="string"&&!hh.Buffer.isBuffer(t)?e===void 0?void 0:"":n.stripFinalNewline?ao(t):t;function i0(n,t,e){let r=mh(n,t,e),i=So(n,t),s=bo(n,t);xo(s,r.options),Uf(r.options);let o;try{o=Ii.default.spawn(r.file,r.args,r.options)}catch(d){let p=new Ii.default.ChildProcess,m=Promise.reject(hr({error:d,stdout:"",stderr:"",all:"",command:i,escapedCommand:s,parsed:r,timedOut:!1,isCanceled:!1,killed:!1}));return wo(p,m),p}let a=nh(o),c=jf(o,r.options,a),f=Bf(o,r.options,c),u={isCanceled:!1};o.kill=$f.bind(null,o.kill.bind(o)),o.cancel=Mf.bind(null,o,u);let h=Sf(async()=>{let[{error:d,exitCode:p,signal:m,timedOut:y},g,E,w]=await eh(o,r.options,f),v=gr(r.options,g),I=gr(r.options,E),T=gr(r.options,w);if(d||p!==0||m!==null){let A=hr({error:d,exitCode:p,signal:m,stdout:v,stderr:I,all:T,command:i,escapedCommand:s,parsed:r,timedOut:y,isCanceled:u.isCanceled||(r.options.signal?r.options.signal.aborted:!1),killed:o.killed});if(!r.options.reject)return A;throw A}return{command:i,escapedCommand:s,exitCode:0,stdout:v,stderr:I,all:T,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return Qf(o,r.options),o.all=th(o,r.options),Wf(o),wo(o,h),o}function s0(n,t,e){let r=mh(n,t,e),i=So(n,t),s=bo(n,t);xo(s,r.options);let o=Yf(r.options),a;try{a=Ii.default.spawnSync(r.file,r.args,{...r.options,input:o})}catch(u){throw hr({error:u,stdout:"",stderr:"",all:"",command:i,escapedCommand:s,parsed:r,timedOut:!1,isCanceled:!1,killed:!1})}let c=gr(r.options,a.stdout,a.error),f=gr(r.options,a.stderr,a.error);if(a.error||a.status!==0||a.signal!==null){let u=hr({stdout:c,stderr:f,error:a.error,signal:a.signal,exitCode:a.status,command:i,escapedCommand:s,parsed:r,timedOut:a.error&&a.error.code==="ETIMEDOUT",isCanceled:!1,killed:a.signal!==null});if(!r.options.reject)return u;throw u}return{command:i,escapedCommand:s,exitCode:0,stdout:c,stderr:f,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}}var o0=({input:n,inputFile:t,stdio:e})=>n===void 0&&t===void 0&&e===void 0?{stdin:"inherit"}:{},fh=(n={})=>({preferLocal:!0,...o0(n),...n});function gh(n){function t(e,...r){if(!Array.isArray(e))return gh({...n,...e});let[i,...s]=vo(e,r);return i0(i,s,fh(n))}return t.sync=(e,...r)=>{if(!Array.isArray(e))throw new TypeError("Please use $(options).sync`command` instead of $.sync(options)`command`.");let[i,...s]=vo(e,r);return s0(i,s,fh(n))},t}var Je=gh();var Bt=Je({stdio:"inherit"});var jh=F(Th(),1);var Er=n=>{if(typeof n!="string")throw new TypeError("invalid pattern");if(n.length>65536)throw new TypeError("pattern is too long")};var p0={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},wr=n=>n.replace(/[[\]\\-]/g,"\\$&"),m0=n=>n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Dh=n=>n.join(""),Ah=(n,t)=>{let e=t;if(n.charAt(e)!=="[")throw new Error("not in a brace expression");let r=[],i=[],s=e+1,o=!1,a=!1,c=!1,f=!1,u=e,l="";t:for(;s<n.length;){let m=n.charAt(s);if((m==="!"||m==="^")&&s===e+1){f=!0,s++;continue}if(m==="]"&&o&&!c){u=s+1;break}if(o=!0,m==="\\"&&!c){c=!0,s++;continue}if(m==="["&&!c){for(let[y,[g,E,w]]of Object.entries(p0))if(n.startsWith(y,s)){if(l)return["$.",!1,n.length-e,!0];s+=y.length,w?i.push(g):r.push(g),a=a||E;continue t}}if(c=!1,l){m>l?r.push(wr(l)+"-"+wr(m)):m===l&&r.push(wr(m)),l="",s++;continue}if(n.startsWith("-]",s+1)){r.push(wr(m+"-")),s+=2;continue}if(n.startsWith("-",s+1)){l=m,s+=2;continue}r.push(wr(m)),s++}if(u<s)return["",!1,0,!1];if(!r.length&&!i.length)return["$.",!1,n.length-e,!0];if(i.length===0&&r.length===1&&/^\\?.$/.test(r[0])&&!f){let m=r[0].length===2?r[0].slice(-1):r[0];return[m0(m),!1,u-e,!1]}let h="["+(f?"^":"")+Dh(r)+"]",d="["+(f?"":"^")+Dh(i)+"]";return[r.length&&i.length?"("+h+"|"+d+")":r.length?h:d,a,u-e,!0]};var Xt=(n,{windowsPathsNoEscape:t=!1}={})=>t?n.replace(/\[([^\/\\])\]/g,"$1"):n.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");var g0=new Set(["!","?","+","*","@"]),Lh=n=>g0.has(n),y0="(?!\\.\\.?(?:$|/))",No="(?!\\.)",E0=new Set(["[","."]),w0=new Set(["..","."]),S0=new Set("().*{}+?[]^$\\!"),b0=n=>n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),_o="[^/]",Rh=_o+"*?",Ph=_o+"+?",rt,at,de,G,tt,De,Ke,Ae,qt,Xe,Sr,Di,Fh,Sn,Ti,Ai,kh,Rt=class{constructor(t,e,r={}){ht(this,Di);ua(this,"type");ht(this,rt,void 0);ht(this,at,void 0);ht(this,de,!1);ht(this,G,[]);ht(this,tt,void 0);ht(this,De,void 0);ht(this,Ke,void 0);ht(this,Ae,!1);ht(this,qt,void 0);ht(this,Xe,void 0);ht(this,Sr,!1);this.type=t,t&&B(this,at,!0),B(this,tt,e),B(this,rt,b(this,tt)?b(b(this,tt),rt):this),B(this,qt,b(this,rt)===this?r:b(b(this,rt),qt)),B(this,Ke,b(this,rt)===this?[]:b(b(this,rt),Ke)),t==="!"&&!b(b(this,rt),Ae)&&b(this,Ke).push(this),B(this,De,b(this,tt)?b(b(this,tt),G).length:0)}get hasMagic(){if(b(this,at)!==void 0)return b(this,at);for(let t of b(this,G))if(typeof t!="string"&&(t.type||t.hasMagic))return B(this,at,!0);return b(this,at)}toString(){return b(this,Xe)!==void 0?b(this,Xe):this.type?B(this,Xe,this.type+"("+b(this,G).map(t=>String(t)).join("|")+")"):B(this,Xe,b(this,G).map(t=>String(t)).join(""))}push(...t){for(let e of t)if(e!==""){if(typeof e!="string"&&!(e instanceof Rt&&b(e,tt)===this))throw new Error("invalid part: "+e);b(this,G).push(e)}}toJSON(){let t=this.type===null?b(this,G).slice().map(e=>typeof e=="string"?e:e.toJSON()):[this.type,...b(this,G).map(e=>e.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===b(this,rt)||b(b(this,rt),Ae)&&b(this,tt)?.type==="!")&&t.push({}),t}isStart(){if(b(this,rt)===this)return!0;if(!b(this,tt)?.isStart())return!1;if(b(this,De)===0)return!0;let t=b(this,tt);for(let e=0;e<b(this,De);e++){let r=b(t,G)[e];if(!(r instanceof Rt&&r.type==="!"))return!1}return!0}isEnd(){if(b(this,rt)===this||b(this,tt)?.type==="!")return!0;if(!b(this,tt)?.isEnd())return!1;if(!this.type)return b(this,tt)?.isEnd();let t=b(this,tt)?b(b(this,tt),G).length:0;return b(this,De)===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let e=new Rt(this.type,t);for(let r of b(this,G))e.copyIn(r);return e}static fromGlob(t,e={}){var i;let r=new Rt(null,void 0,e);return on(i=Rt,Sn,Ti).call(i,t,r,0,e),r}toMMPattern(){if(this!==b(this,rt))return b(this,rt).toMMPattern();let t=this.toString(),[e,r,i,s]=this.toRegExpSource();if(!(i||b(this,at)||b(this,qt).nocase&&!b(this,qt).nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return r;let a=(b(this,qt).nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${e}$`,a),{_src:e,_glob:t})}toRegExpSource(){if(b(this,rt)===this&&on(this,Di,Fh).call(this),!this.type){let i=this.isStart()&&this.isEnd(),s=b(this,G).map(f=>{var p;let[u,l,h,d]=typeof f=="string"?on(p=Rt,Ai,kh).call(p,f,b(this,at),i):f.toRegExpSource();return B(this,at,b(this,at)||h),B(this,de,b(this,de)||d),u}).join(""),o="";if(this.isStart()&&typeof b(this,G)[0]=="string"&&!(b(this,G).length===1&&w0.has(b(this,G)[0]))){let u=E0,l=b(this,qt).dot&&u.has(s.charAt(0))||s.startsWith("\\.")&&u.has(s.charAt(2))||s.startsWith("\\.\\.")&&u.has(s.charAt(4)),h=!b(this,qt).dot&&u.has(s.charAt(0));o=l?y0:h?No:""}let a="";return this.isEnd()&&b(b(this,rt),Ae)&&b(this,tt)?.type==="!"&&(a="(?:$|\\/)"),[o+s+a,Xt(s),B(this,at,!!b(this,at)),b(this,de)]}let t=this.type==="!"?"(?:(?!(?:":"(?:",e=b(this,G).map(i=>{if(typeof i=="string")throw new Error("string type in extglob ast??");let[s,o,a,c]=i.toRegExpSource();return B(this,de,b(this,de)||c),s}).filter(i=>!(this.isStart()&&this.isEnd())||!!i).join("|");if(this.isStart()&&this.isEnd()&&!e&&this.type!=="!"){let i=this.toString();return B(this,G,[i]),this.type=null,B(this,at,void 0),[i,Xt(this.toString()),!1,!1]}let r="";if(this.type==="!"&&b(this,Sr))r=(this.isStart()&&!b(this,qt).dot?No:"")+Ph;else{let i=this.type==="!"?"))"+(this.isStart()&&!b(this,qt).dot?No:"")+Rh+")":this.type==="@"?")":`)${this.type}`;r=t+e+i}return[r,Xt(e),B(this,at,!!b(this,at)),b(this,de)]}},Le=Rt;rt=new WeakMap,at=new WeakMap,de=new WeakMap,G=new WeakMap,tt=new WeakMap,De=new WeakMap,Ke=new WeakMap,Ae=new WeakMap,qt=new WeakMap,Xe=new WeakMap,Sr=new WeakMap,Di=new WeakSet,Fh=function(){if(this!==b(this,rt))throw new Error("should only call on root");if(b(this,Ae))return this;this.toString(),B(this,Ae,!0);let t;for(;t=b(this,Ke).pop();){if(t.type!=="!")continue;let e=t,r=b(e,tt);for(;r;){for(let i=b(e,De)+1;!r.type&&i<b(r,G).length;i++)for(let s of b(t,G)){if(typeof s=="string")throw new Error("string part in extglob AST??");s.copyIn(b(r,G)[i])}e=r,r=b(e,tt)}}return this},Sn=new WeakSet,Ti=function(t,e,r,i){var d,p;let s=!1,o=!1,a=-1,c=!1;if(e.type===null){let m=r,y="";for(;m<t.length;){let g=t.charAt(m++);if(s||g==="\\"){s=!s,y+=g;continue}if(o){m===a+1?(g==="^"||g==="!")&&(c=!0):g==="]"&&!(m===a+2&&c)&&(o=!1),y+=g;continue}else if(g==="["){o=!0,a=m,c=!1,y+=g;continue}if(!i.noext&&Lh(g)&&t.charAt(m)==="("){e.push(y),y="";let E=new Rt(g,e);m=on(d=Rt,Sn,Ti).call(d,t,E,m,i),e.push(E);continue}y+=g}return e.push(y),m}let f=r+1,u=new Rt(null,e),l=[],h="";for(;f<t.length;){let m=t.charAt(f++);if(s||m==="\\"){s=!s,h+=m;continue}if(o){f===a+1?(m==="^"||m==="!")&&(c=!0):m==="]"&&!(f===a+2&&c)&&(o=!1),h+=m;continue}else if(m==="["){o=!0,a=f,c=!1,h+=m;continue}if(Lh(m)&&t.charAt(f)==="("){u.push(h),h="";let y=new Rt(m,u);u.push(y),f=on(p=Rt,Sn,Ti).call(p,t,y,f,i);continue}if(m==="|"){u.push(h),h="",l.push(u),u=new Rt(null,e);continue}if(m===")")return h===""&&b(e,G).length===0&&B(e,Sr,!0),u.push(h),h="",e.push(...l,u),f;h+=m}return e.type=null,B(e,at,void 0),B(e,G,[t.substring(r-1)]),f},Ai=new WeakSet,kh=function(t,e,r=!1){let i=!1,s="",o=!1;for(let a=0;a<t.length;a++){let c=t.charAt(a);if(i){i=!1,s+=(S0.has(c)?"\\":"")+c;continue}if(c==="\\"){a===t.length-1?s+="\\\\":i=!0;continue}if(c==="["){let[f,u,l,h]=Ah(t,a);if(l){s+=f,o=o||u,a+=l-1,e=e||h;continue}}if(c==="*"){r&&t==="*"?s+=Ph:s+=Rh,e=!0;continue}if(c==="?"){s+=_o,e=!0;continue}s+=b0(c)}return[s,Xt(t),!!e,o]},ht(Le,Sn),ht(Le,Ai);var bn=(n,{windowsPathsNoEscape:t=!1}={})=>t?n.replace(/[?*()[\]]/g,"[$&]"):n.replace(/[?*()[\]\\]/g,"\\$&");var _t=(n,t,e={})=>(Er(t),!e.nocomment&&t.charAt(0)==="#"?!1:new Mt(t,e).match(n)),v0=/^\*+([^+@!?\*\[\(]*)$/,x0=n=>t=>!t.startsWith(".")&&t.endsWith(n),O0=n=>t=>t.endsWith(n),C0=n=>(n=n.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(n)),N0=n=>(n=n.toLowerCase(),t=>t.toLowerCase().endsWith(n)),_0=/^\*+\.\*+$/,I0=n=>!n.startsWith(".")&&n.includes("."),T0=n=>n!=="."&&n!==".."&&n.includes("."),D0=/^\.\*+$/,A0=n=>n!=="."&&n!==".."&&n.startsWith("."),L0=/^\*+$/,R0=n=>n.length!==0&&!n.startsWith("."),P0=n=>n.length!==0&&n!=="."&&n!=="..",F0=/^\?+([^+@!?\*\[\(]*)?$/,k0=([n,t=""])=>{let e=Uh([n]);return t?(t=t.toLowerCase(),r=>e(r)&&r.toLowerCase().endsWith(t)):e},$0=([n,t=""])=>{let e=Bh([n]);return t?(t=t.toLowerCase(),r=>e(r)&&r.toLowerCase().endsWith(t)):e},M0=([n,t=""])=>{let e=Bh([n]);return t?r=>e(r)&&r.endsWith(t):e},j0=([n,t=""])=>{let e=Uh([n]);return t?r=>e(r)&&r.endsWith(t):e},Uh=([n])=>{let t=n.length;return e=>e.length===t&&!e.startsWith(".")},Bh=([n])=>{let t=n.length;return e=>e.length===t&&e!=="."&&e!==".."},qh=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",$h={win32:{sep:"\\"},posix:{sep:"/"}},U0=qh==="win32"?$h.win32.sep:$h.posix.sep;_t.sep=U0;var pt=Symbol("globstar **");_t.GLOBSTAR=pt;var B0="[^/]",q0=B0+"*?",G0="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",W0="(?:(?!(?:\\/|^)\\.).)*?",z0=(n,t={})=>e=>_t(e,n,t);_t.filter=z0;var Gt=(n,t={})=>Object.assign({},n,t),H0=n=>{if(!n||typeof n!="object"||!Object.keys(n).length)return _t;let t=_t;return Object.assign((r,i,s={})=>t(r,i,Gt(n,s)),{Minimatch:class extends t.Minimatch{constructor(i,s={}){super(i,Gt(n,s))}static defaults(i){return t.defaults(Gt(n,i)).Minimatch}},AST:class extends t.AST{constructor(i,s,o={}){super(i,s,Gt(n,o))}static fromGlob(i,s={}){return t.AST.fromGlob(i,Gt(n,s))}},unescape:(r,i={})=>t.unescape(r,Gt(n,i)),escape:(r,i={})=>t.escape(r,Gt(n,i)),filter:(r,i={})=>t.filter(r,Gt(n,i)),defaults:r=>t.defaults(Gt(n,r)),makeRe:(r,i={})=>t.makeRe(r,Gt(n,i)),braceExpand:(r,i={})=>t.braceExpand(r,Gt(n,i)),match:(r,i,s={})=>t.match(r,i,Gt(n,s)),sep:t.sep,GLOBSTAR:pt})};_t.defaults=H0;var Gh=(n,t={})=>(Er(n),t.nobrace||!/\{(?:(?!\{).)*\}/.test(n)?[n]:(0,jh.default)(n));_t.braceExpand=Gh;var V0=(n,t={})=>new Mt(n,t).makeRe();_t.makeRe=V0;var Z0=(n,t,e={})=>{let r=new Mt(t,e);return n=n.filter(i=>r.match(i)),r.options.nonull&&!n.length&&n.push(t),n};_t.match=Z0;var Mh=/[?*]|[+@!]\(.*?\)|\[|\]/,J0=n=>n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Mt=class{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,e={}){Er(t),e=e||{},this.options=e,this.pattern=t,this.platform=e.platform||qh,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!e.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!e.nonegate,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=e.windowsNoMagicRoot!==void 0?e.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let e of t)if(typeof e!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],e.debug&&(this.debug=(...s)=>console.error(...s)),this.debug(this.pattern,this.globSet);let r=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(r),this.debug(this.pattern,this.globParts);let i=this.globParts.map((s,o,a)=>{if(this.isWindows&&this.windowsNoMagicRoot){let c=s[0]===""&&s[1]===""&&(s[2]==="?"||!Mh.test(s[2]))&&!Mh.test(s[3]),f=/^[a-z]:/i.test(s[0]);if(c)return[...s.slice(0,4),...s.slice(4).map(u=>this.parse(u))];if(f)return[s[0],...s.slice(1).map(u=>this.parse(u))]}return s.map(c=>this.parse(c))});if(this.debug(this.pattern,i),this.set=i.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let s=0;s<this.set.length;s++){let o=this.set[s];o[0]===""&&o[1]===""&&this.globParts[s][2]==="?"&&typeof o[3]=="string"&&/^[a-z]:$/i.test(o[3])&&(o[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let r=0;r<t.length;r++)for(let i=0;i<t[r].length;i++)t[r][i]==="**"&&(t[r][i]="*");let{optimizationLevel:e=1}=this.options;return e>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):e>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(e=>{let r=-1;for(;(r=e.indexOf("**",r+1))!==-1;){let i=r;for(;e[i+1]==="**";)i++;i!==r&&e.splice(r,i-r)}return e})}levelOneOptimize(t){return t.map(e=>(e=e.reduce((r,i)=>{let s=r[r.length-1];return i==="**"&&s==="**"?r:i===".."&&s&&s!==".."&&s!=="."&&s!=="**"?(r.pop(),r):(r.push(i),r)},[]),e.length===0?[""]:e))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let e=!1;do{if(e=!1,!this.preserveMultipleSlashes){for(let i=1;i<t.length-1;i++){let s=t[i];i===1&&s===""&&t[0]===""||(s==="."||s==="")&&(e=!0,t.splice(i,1),i--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(e=!0,t.pop())}let r=0;for(;(r=t.indexOf("..",r+1))!==-1;){let i=t[r-1];i&&i!=="."&&i!==".."&&i!=="**"&&(e=!0,t.splice(r-1,2),r-=2)}}while(e);return t.length===0?[""]:t}firstPhasePreProcess(t){let e=!1;do{e=!1;for(let r of t){let i=-1;for(;(i=r.indexOf("**",i+1))!==-1;){let o=i;for(;r[o+1]==="**";)o++;o>i&&r.splice(i+1,o-i);let a=r[i+1],c=r[i+2],f=r[i+3];if(a!==".."||!c||c==="."||c===".."||!f||f==="."||f==="..")continue;e=!0,r.splice(i,1);let u=r.slice(0);u[i]="**",t.push(u),i--}if(!this.preserveMultipleSlashes){for(let o=1;o<r.length-1;o++){let a=r[o];o===1&&a===""&&r[0]===""||(a==="."||a==="")&&(e=!0,r.splice(o,1),o--)}r[0]==="."&&r.length===2&&(r[1]==="."||r[1]==="")&&(e=!0,r.pop())}let s=0;for(;(s=r.indexOf("..",s+1))!==-1;){let o=r[s-1];if(o&&o!=="."&&o!==".."&&o!=="**"){e=!0;let c=s===1&&r[s+1]==="**"?["."]:[];r.splice(s-1,2,...c),r.length===0&&r.push(""),s-=2}}}}while(e);return t}secondPhasePreProcess(t){for(let e=0;e<t.length-1;e++)for(let r=e+1;r<t.length;r++){let i=this.partsMatch(t[e],t[r],!this.preserveMultipleSlashes);i&&(t[e]=i,t[r]=[])}return t.filter(e=>e.length)}partsMatch(t,e,r=!1){let i=0,s=0,o=[],a="";for(;i<t.length&&s<e.length;)if(t[i]===e[s])o.push(a==="b"?e[s]:t[i]),i++,s++;else if(r&&t[i]==="**"&&e[s]===t[i+1])o.push(t[i]),i++;else if(r&&e[s]==="**"&&t[i]===e[s+1])o.push(e[s]),s++;else if(t[i]==="*"&&e[s]&&(this.options.dot||!e[s].startsWith("."))&&e[s]!=="**"){if(a==="b")return!1;a="a",o.push(t[i]),i++,s++}else if(e[s]==="*"&&t[i]&&(this.options.dot||!t[i].startsWith("."))&&t[i]!=="**"){if(a==="a")return!1;a="b",o.push(e[s]),i++,s++}else return!1;return t.length===e.length&&o}parseNegate(){if(this.nonegate)return;let t=this.pattern,e=!1,r=0;for(let i=0;i<t.length&&t.charAt(i)==="!";i++)e=!e,r++;r&&(this.pattern=t.slice(r)),this.negate=e}matchOne(t,e,r=!1){let i=this.options;if(this.isWindows){let m=t[0]===""&&t[1]===""&&t[2]==="?"&&typeof t[3]=="string"&&/^[a-z]:$/i.test(t[3]),y=e[0]===""&&e[1]===""&&e[2]==="?"&&typeof e[3]=="string"&&/^[a-z]:$/i.test(e[3]);if(m&&y){let g=t[3],E=e[3];g.toLowerCase()===E.toLowerCase()&&(t[3]=E)}else if(y&&typeof t[0]=="string"){let g=e[3],E=t[0];g.toLowerCase()===E.toLowerCase()&&(e[3]=E,e=e.slice(3))}else if(m&&typeof e[0]=="string"){let g=t[3];g.toLowerCase()===e[0].toLowerCase()&&(e[0]=g,t=t.slice(3))}}let{optimizationLevel:s=1}=this.options;s>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var o=0,a=0,c=t.length,f=e.length;o<c&&a<f;o++,a++){this.debug("matchOne loop");var u=e[a],l=t[o];if(this.debug(e,u,l),u===!1)return!1;if(u===pt){this.debug("GLOBSTAR",[e,u,l]);var h=o,d=a+1;if(d===f){for(this.debug("** at the end");o<c;o++)if(t[o]==="."||t[o]===".."||!i.dot&&t[o].charAt(0)===".")return!1;return!0}for(;h<c;){var p=t[h];if(this.debug(`
globstar while`,t,h,e,d,p),this.matchOne(t.slice(h),e.slice(d),r))return this.debug("globstar found match!",h,c,p),!0;if(p==="."||p===".."||!i.dot&&p.charAt(0)==="."){this.debug("dot detected!",t,h,e,d);break}this.debug("globstar swallow a segment, and continue"),h++}return!!(r&&(this.debug(`
>>> no match, partial?`,t,h,e,d),h===c))}let m;if(typeof u=="string"?(m=l===u,this.debug("string match",u,l,m)):(m=u.test(l),this.debug("pattern match",u,l,m)),!m)return!1}if(o===c&&a===f)return!0;if(o===c)return r;if(a===f)return o===c-1&&t[o]==="";throw new Error("wtf?")}braceExpand(){return Gh(this.pattern,this.options)}parse(t){Er(t);let e=this.options;if(t==="**")return pt;if(t==="")return"";let r,i=null;(r=t.match(L0))?i=e.dot?P0:R0:(r=t.match(v0))?i=(e.nocase?e.dot?N0:C0:e.dot?O0:x0)(r[1]):(r=t.match(F0))?i=(e.nocase?e.dot?$0:k0:e.dot?M0:j0)(r):(r=t.match(_0))?i=e.dot?T0:I0:(r=t.match(D0))&&(i=A0);let s=Le.fromGlob(t,this.options).toMMPattern();return i?Object.assign(s,{test:i}):s}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let e=this.options,r=e.noglobstar?q0:e.dot?G0:W0,i=new Set(e.nocase?["i"]:[]),s=t.map(c=>{let f=c.map(u=>{if(u instanceof RegExp)for(let l of u.flags.split(""))i.add(l);return typeof u=="string"?J0(u):u===pt?pt:u._src});return f.forEach((u,l)=>{let h=f[l+1],d=f[l-1];u!==pt||d===pt||(d===void 0?h!==void 0&&h!==pt?f[l+1]="(?:\\/|"+r+"\\/)?"+h:f[l]=r:h===void 0?f[l-1]=d+"(?:\\/|"+r+")?":h!==pt&&(f[l-1]=d+"(?:\\/|\\/"+r+"\\/)"+h,f[l+1]=pt))}),f.filter(u=>u!==pt).join("/")}).join("|"),[o,a]=t.length>1?["(?:",")"]:["",""];s="^"+o+s+a+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&e)return!0;let r=this.options;this.isWindows&&(t=t.split("\\").join("/"));let i=this.slashSplit(t);this.debug(this.pattern,"split",i);let s=this.set;this.debug(this.pattern,"set",s);let o=i[i.length-1];if(!o)for(let a=i.length-2;!o&&a>=0;a--)o=i[a];for(let a=0;a<s.length;a++){let c=s[a],f=i;if(r.matchBase&&c.length===1&&(f=[o]),this.matchOne(f,c,e))return r.flipNegate?!0:!this.negate}return r.flipNegate?!1:this.negate}static defaults(t){return _t.defaults(t).Minimatch}};_t.AST=Le;_t.Minimatch=Mt;_t.escape=bn;_t.unescape=Xt;var br=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,zh=new Set,Io=typeof process=="object"&&process?process:{},Hh=(n,t,e,r)=>{typeof Io.emitWarning=="function"?Io.emitWarning(n,t,e,r):console.error(`[${e}] ${t}: ${n}`)},Ri=globalThis.AbortController,Wh=globalThis.AbortSignal;if(typeof Ri>"u"){Wh=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(r,i){this._onabort.push(i)}},Ri=class{constructor(){t()}signal=new Wh;abort(r){if(!this.signal.aborted){this.signal.reason=r,this.signal.aborted=!0;for(let i of this.signal._onabort)i(r);this.signal.onabort?.(r)}}};let n=Io.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",t=()=>{n&&(n=!1,Hh("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}var K0=n=>!zh.has(n),Px=Symbol("type"),Re=n=>n&&n===Math.floor(n)&&n>0&&isFinite(n),Vh=n=>Re(n)?n<=Math.pow(2,8)?Uint8Array:n<=Math.pow(2,16)?Uint16Array:n<=Math.pow(2,32)?Uint32Array:n<=Number.MAX_SAFE_INTEGER?xn:null:null,xn=class extends Array{constructor(t){super(t),this.fill(0)}},On,vn=class{heap;length;static create(t){let e=Vh(t);if(!e)return[];B(vn,On,!0);let r=new vn(t,e);return B(vn,On,!1),r}constructor(t,e){if(!b(vn,On))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}},Li=vn;On=new WeakMap,ht(Li,On,!1);var Ye=class{#e;#i;#r;#o;#f;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#u;#d;#c;#s;#t;#g;#E;#m;#h;#x;#p;#I;#T;#O;#w;#N;#l;static unsafeExposeInternals(t){return{starts:t.#T,ttls:t.#O,sizes:t.#I,keyMap:t.#c,keyList:t.#s,valList:t.#t,next:t.#g,prev:t.#E,get head(){return t.#m},get tail(){return t.#h},free:t.#x,isBackgroundFetch:e=>t.#a(e),backgroundFetch:(e,r,i,s)=>t.#P(e,r,i,s),moveToTail:e=>t.#R(e),indexes:e=>t.#v(e),rindexes:e=>t.#_(e),isStale:e=>t.#y(e)}}get max(){return this.#e}get maxSize(){return this.#i}get calculatedSize(){return this.#d}get size(){return this.#u}get fetchMethod(){return this.#f}get dispose(){return this.#r}get disposeAfter(){return this.#o}constructor(t){let{max:e=0,ttl:r,ttlResolution:i=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:c,dispose:f,disposeAfter:u,noDisposeOnSet:l,noUpdateTTL:h,maxSize:d=0,maxEntrySize:p=0,sizeCalculation:m,fetchMethod:y,noDeleteOnFetchRejection:g,noDeleteOnStaleGet:E,allowStaleOnFetchRejection:w,allowStaleOnFetchAbort:v,ignoreFetchAbort:I}=t;if(e!==0&&!Re(e))throw new TypeError("max option must be a nonnegative integer");let T=e?Vh(e):Array;if(!T)throw new Error("invalid max value: "+e);if(this.#e=e,this.#i=d,this.maxEntrySize=p||this.#i,this.sizeCalculation=m,this.sizeCalculation){if(!this.#i&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(y!==void 0&&typeof y!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#f=y,this.#N=!!y,this.#c=new Map,this.#s=new Array(e).fill(void 0),this.#t=new Array(e).fill(void 0),this.#g=new T(e),this.#E=new T(e),this.#m=0,this.#h=0,this.#x=Li.create(e),this.#u=0,this.#d=0,typeof f=="function"&&(this.#r=f),typeof u=="function"?(this.#o=u,this.#p=[]):(this.#o=void 0,this.#p=void 0),this.#w=!!this.#r,this.#l=!!this.#o,this.noDisposeOnSet=!!l,this.noUpdateTTL=!!h,this.noDeleteOnFetchRejection=!!g,this.allowStaleOnFetchRejection=!!w,this.allowStaleOnFetchAbort=!!v,this.ignoreFetchAbort=!!I,this.maxEntrySize!==0){if(this.#i!==0&&!Re(this.#i))throw new TypeError("maxSize must be a positive integer if specified");if(!Re(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#A()}if(this.allowStale=!!c,this.noDeleteOnStaleGet=!!E,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=Re(i)||i===0?i:1,this.ttlAutopurge=!!s,this.ttl=r||0,this.ttl){if(!Re(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#D()}if(this.#e===0&&this.ttl===0&&this.#i===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#i){let A="LRU_CACHE_UNBOUNDED";K0(A)&&(zh.add(A),Hh("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",A,Ye))}}getRemainingTTL(t){return this.#c.has(t)?1/0:0}#D(){let t=new xn(this.#e),e=new xn(this.#e);this.#O=t,this.#T=e,this.#n=(s,o,a=br.now())=>{if(e[s]=o!==0?a:0,t[s]=o,o!==0&&this.ttlAutopurge){let c=setTimeout(()=>{this.#y(s)&&this.delete(this.#s[s])},o+1);c.unref&&c.unref()}},this.#C=s=>{e[s]=t[s]!==0?br.now():0},this.#S=(s,o)=>{if(t[o]){let a=t[o],c=e[o];s.ttl=a,s.start=c,s.now=r||i();let f=s.now-c;s.remainingTTL=a-f}};let r=0,i=()=>{let s=br.now();if(this.ttlResolution>0){r=s;let o=setTimeout(()=>r=0,this.ttlResolution);o.unref&&o.unref()}return s};this.getRemainingTTL=s=>{let o=this.#c.get(s);if(o===void 0)return 0;let a=t[o],c=e[o];if(a===0||c===0)return 1/0;let f=(r||i())-c;return a-f},this.#y=s=>t[s]!==0&&e[s]!==0&&(r||i())-e[s]>t[s]}#C=()=>{};#S=()=>{};#n=()=>{};#y=()=>!1;#A(){let t=new xn(this.#e);this.#d=0,this.#I=t,this.#b=e=>{this.#d-=t[e],t[e]=0},this.#k=(e,r,i,s)=>{if(this.#a(r))return 0;if(!Re(i))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(i=s(r,e),!Re(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i},this.#F=(e,r,i)=>{if(t[e]=r,this.#i){let s=this.#i-t[e];for(;this.#d>s;)this.#L(!0)}this.#d+=t[e],i&&(i.entrySize=r,i.totalCalculatedSize=this.#d)}}#b=t=>{};#F=(t,e,r)=>{};#k=(t,e,r,i)=>{if(r||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#v({allowStale:t=this.allowStale}={}){if(this.#u)for(let e=this.#h;!(!this.#$(e)||((t||!this.#y(e))&&(yield e),e===this.#m));)e=this.#E[e]}*#_({allowStale:t=this.allowStale}={}){if(this.#u)for(let e=this.#m;!(!this.#$(e)||((t||!this.#y(e))&&(yield e),e===this.#h));)e=this.#g[e]}#$(t){return t!==void 0&&this.#c.get(this.#s[t])===t}*entries(){for(let t of this.#v())this.#t[t]!==void 0&&this.#s[t]!==void 0&&!this.#a(this.#t[t])&&(yield[this.#s[t],this.#t[t]])}*rentries(){for(let t of this.#_())this.#t[t]!==void 0&&this.#s[t]!==void 0&&!this.#a(this.#t[t])&&(yield[this.#s[t],this.#t[t]])}*keys(){for(let t of this.#v()){let e=this.#s[t];e!==void 0&&!this.#a(this.#t[t])&&(yield e)}}*rkeys(){for(let t of this.#_()){let e=this.#s[t];e!==void 0&&!this.#a(this.#t[t])&&(yield e)}}*values(){for(let t of this.#v())this.#t[t]!==void 0&&!this.#a(this.#t[t])&&(yield this.#t[t])}*rvalues(){for(let t of this.#_())this.#t[t]!==void 0&&!this.#a(this.#t[t])&&(yield this.#t[t])}[Symbol.iterator](){return this.entries()}find(t,e={}){for(let r of this.#v()){let i=this.#t[r],s=this.#a(i)?i.__staleWhileFetching:i;if(s!==void 0&&t(s,this.#s[r],this))return this.get(this.#s[r],e)}}forEach(t,e=this){for(let r of this.#v()){let i=this.#t[r],s=this.#a(i)?i.__staleWhileFetching:i;s!==void 0&&t.call(e,s,this.#s[r],this)}}rforEach(t,e=this){for(let r of this.#_()){let i=this.#t[r],s=this.#a(i)?i.__staleWhileFetching:i;s!==void 0&&t.call(e,s,this.#s[r],this)}}purgeStale(){let t=!1;for(let e of this.#_({allowStale:!0}))this.#y(e)&&(this.delete(this.#s[e]),t=!0);return t}dump(){let t=[];for(let e of this.#v({allowStale:!0})){let r=this.#s[e],i=this.#t[e],s=this.#a(i)?i.__staleWhileFetching:i;if(s===void 0||r===void 0)continue;let o={value:s};if(this.#O&&this.#T){o.ttl=this.#O[e];let a=br.now()-this.#T[e];o.start=Math.floor(Date.now()-a)}this.#I&&(o.size=this.#I[e]),t.unshift([r,o])}return t}load(t){this.clear();for(let[e,r]of t){if(r.start){let i=Date.now()-r.start;r.start=br.now()-i}this.set(e,r.value,r)}}set(t,e,r={}){if(e===void 0)return this.delete(t),this;let{ttl:i=this.ttl,start:s,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:c}=r,{noUpdateTTL:f=this.noUpdateTTL}=r,u=this.#k(t,e,r.size||0,a);if(this.maxEntrySize&&u>this.maxEntrySize)return c&&(c.set="miss",c.maxEntrySizeExceeded=!0),this.delete(t),this;let l=this.#u===0?void 0:this.#c.get(t);if(l===void 0)l=this.#u===0?this.#h:this.#x.length!==0?this.#x.pop():this.#u===this.#e?this.#L(!1):this.#u,this.#s[l]=t,this.#t[l]=e,this.#c.set(t,l),this.#g[this.#h]=l,this.#E[l]=this.#h,this.#h=l,this.#u++,this.#F(l,u,c),c&&(c.set="add"),f=!1;else{this.#R(l);let h=this.#t[l];if(e!==h){if(this.#N&&this.#a(h)?h.__abortController.abort(new Error("replaced")):o||(this.#w&&this.#r?.(h,t,"set"),this.#l&&this.#p?.push([h,t,"set"])),this.#b(l),this.#F(l,u,c),this.#t[l]=e,c){c.set="replace";let d=h&&this.#a(h)?h.__staleWhileFetching:h;d!==void 0&&(c.oldValue=d)}}else c&&(c.set="update")}if(i!==0&&!this.#O&&this.#D(),this.#O&&(f||this.#n(l,i,s),c&&this.#S(c,l)),!o&&this.#l&&this.#p){let h=this.#p,d;for(;d=h?.shift();)this.#o?.(...d)}return this}pop(){try{for(;this.#u;){let t=this.#t[this.#m];if(this.#L(!0),this.#a(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(this.#l&&this.#p){let t=this.#p,e;for(;e=t?.shift();)this.#o?.(...e)}}}#L(t){let e=this.#m,r=this.#s[e],i=this.#t[e];return this.#N&&this.#a(i)?i.__abortController.abort(new Error("evicted")):(this.#w||this.#l)&&(this.#w&&this.#r?.(i,r,"evict"),this.#l&&this.#p?.push([i,r,"evict"])),this.#b(e),t&&(this.#s[e]=void 0,this.#t[e]=void 0,this.#x.push(e)),this.#u===1?(this.#m=this.#h=0,this.#x.length=0):this.#m=this.#g[e],this.#c.delete(r),this.#u--,e}has(t,e={}){let{updateAgeOnHas:r=this.updateAgeOnHas,status:i}=e,s=this.#c.get(t);if(s!==void 0){let o=this.#t[s];if(this.#a(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#y(s))i&&(i.has="stale",this.#S(i,s));else return r&&this.#C(s),i&&(i.has="hit",this.#S(i,s)),!0}else i&&(i.has="miss");return!1}peek(t,e={}){let{allowStale:r=this.allowStale}=e,i=this.#c.get(t);if(i!==void 0&&(r||!this.#y(i))){let s=this.#t[i];return this.#a(s)?s.__staleWhileFetching:s}}#P(t,e,r,i){let s=e===void 0?void 0:this.#t[e];if(this.#a(s))return s;let o=new Ri,{signal:a}=r;a?.addEventListener("abort",()=>o.abort(a.reason),{signal:o.signal});let c={signal:o.signal,options:r,context:i},f=(m,y=!1)=>{let{aborted:g}=o.signal,E=r.ignoreFetchAbort&&m!==void 0;if(r.status&&(g&&!y?(r.status.fetchAborted=!0,r.status.fetchError=o.signal.reason,E&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),g&&!E&&!y)return l(o.signal.reason);let w=d;return this.#t[e]===d&&(m===void 0?w.__staleWhileFetching?this.#t[e]=w.__staleWhileFetching:this.delete(t):(r.status&&(r.status.fetchUpdated=!0),this.set(t,m,c.options))),m},u=m=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=m),l(m)),l=m=>{let{aborted:y}=o.signal,g=y&&r.allowStaleOnFetchAbort,E=g||r.allowStaleOnFetchRejection,w=E||r.noDeleteOnFetchRejection,v=d;if(this.#t[e]===d&&(!w||v.__staleWhileFetching===void 0?this.delete(t):g||(this.#t[e]=v.__staleWhileFetching)),E)return r.status&&v.__staleWhileFetching!==void 0&&(r.status.returnedStale=!0),v.__staleWhileFetching;if(v.__returned===v)throw m},h=(m,y)=>{let g=this.#f?.(t,s,c);g&&g instanceof Promise&&g.then(E=>m(E),y),o.signal.addEventListener("abort",()=>{(!r.ignoreFetchAbort||r.allowStaleOnFetchAbort)&&(m(),r.allowStaleOnFetchAbort&&(m=E=>f(E,!0)))})};r.status&&(r.status.fetchDispatched=!0);let d=new Promise(h).then(f,u),p=Object.assign(d,{__abortController:o,__staleWhileFetching:s,__returned:void 0});return e===void 0?(this.set(t,p,{...c.options,status:void 0}),e=this.#c.get(t)):this.#t[e]=p,p}#a(t){if(!this.#N)return!1;let e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof Ri}async fetch(t,e={}){let{allowStale:r=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:c=0,sizeCalculation:f=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:l=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:h=this.allowStaleOnFetchRejection,ignoreFetchAbort:d=this.ignoreFetchAbort,allowStaleOnFetchAbort:p=this.allowStaleOnFetchAbort,context:m,forceRefresh:y=!1,status:g,signal:E}=e;if(!this.#N)return g&&(g.fetch="get"),this.get(t,{allowStale:r,updateAgeOnGet:i,noDeleteOnStaleGet:s,status:g});let w={allowStale:r,updateAgeOnGet:i,noDeleteOnStaleGet:s,ttl:o,noDisposeOnSet:a,size:c,sizeCalculation:f,noUpdateTTL:u,noDeleteOnFetchRejection:l,allowStaleOnFetchRejection:h,allowStaleOnFetchAbort:p,ignoreFetchAbort:d,status:g,signal:E},v=this.#c.get(t);if(v===void 0){g&&(g.fetch="miss");let I=this.#P(t,v,w,m);return I.__returned=I}else{let I=this.#t[v];if(this.#a(I)){let L=r&&I.__staleWhileFetching!==void 0;return g&&(g.fetch="inflight",L&&(g.returnedStale=!0)),L?I.__staleWhileFetching:I.__returned=I}let T=this.#y(v);if(!y&&!T)return g&&(g.fetch="hit"),this.#R(v),i&&this.#C(v),g&&this.#S(g,v),I;let A=this.#P(t,v,w,m),x=A.__staleWhileFetching!==void 0&&r;return g&&(g.fetch=T?"stale":"refresh",x&&T&&(g.returnedStale=!0)),x?A.__staleWhileFetching:A.__returned=A}}get(t,e={}){let{allowStale:r=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:o}=e,a=this.#c.get(t);if(a!==void 0){let c=this.#t[a],f=this.#a(c);return o&&this.#S(o,a),this.#y(a)?(o&&(o.get="stale"),f?(o&&r&&c.__staleWhileFetching!==void 0&&(o.returnedStale=!0),r?c.__staleWhileFetching:void 0):(s||this.delete(t),o&&r&&(o.returnedStale=!0),r?c:void 0)):(o&&(o.get="hit"),f?c.__staleWhileFetching:(this.#R(a),i&&this.#C(a),c))}else o&&(o.get="miss")}#M(t,e){this.#E[e]=t,this.#g[t]=e}#R(t){t!==this.#h&&(t===this.#m?this.#m=this.#g[t]:this.#M(this.#E[t],this.#g[t]),this.#M(this.#h,t),this.#h=t)}delete(t){let e=!1;if(this.#u!==0){let r=this.#c.get(t);if(r!==void 0)if(e=!0,this.#u===1)this.clear();else{this.#b(r);let i=this.#t[r];this.#a(i)?i.__abortController.abort(new Error("deleted")):(this.#w||this.#l)&&(this.#w&&this.#r?.(i,t,"delete"),this.#l&&this.#p?.push([i,t,"delete"])),this.#c.delete(t),this.#s[r]=void 0,this.#t[r]=void 0,r===this.#h?this.#h=this.#E[r]:r===this.#m?this.#m=this.#g[r]:(this.#g[this.#E[r]]=this.#g[r],this.#E[this.#g[r]]=this.#E[r]),this.#u--,this.#x.push(r)}}if(this.#l&&this.#p?.length){let r=this.#p,i;for(;i=r?.shift();)this.#o?.(...i)}return e}clear(){for(let t of this.#_({allowStale:!0})){let e=this.#t[t];if(this.#a(e))e.__abortController.abort(new Error("deleted"));else{let r=this.#s[t];this.#w&&this.#r?.(e,r,"delete"),this.#l&&this.#p?.push([e,r,"delete"])}}if(this.#c.clear(),this.#t.fill(void 0),this.#s.fill(void 0),this.#O&&this.#T&&(this.#O.fill(0),this.#T.fill(0)),this.#I&&this.#I.fill(0),this.#m=0,this.#h=0,this.#x.length=0,this.#d=0,this.#u=0,this.#l&&this.#p){let t=this.#p,e;for(;e=t?.shift();)this.#o?.(...e)}}};var Nn=require("path"),cd=require("url"),tS=F(require("fs"),1),oe=require("fs"),Fe=require("fs/promises");var ed=F(require("events"),1),Fo=F(require("stream"),1),nd=F(require("string_decoder"),1),Zh=typeof process=="object"&&process?process:{stdout:null,stderr:null},Jh=nd.default.StringDecoder,pe=Symbol("EOF"),me=Symbol("maybeEmitEnd"),Pe=Symbol("emittedEnd"),Pi=Symbol("emittingEnd"),vr=Symbol("emittedError"),Fi=Symbol("closed"),Kh=Symbol("read"),ki=Symbol("flush"),Xh=Symbol("flushChunk"),Pt=Symbol("encoding"),ge=Symbol("decoder"),$i=Symbol("flowing"),xr=Symbol("paused"),Cn=Symbol("resume"),J=Symbol("buffer"),ie=Symbol("pipes"),ct=Symbol("bufferLength"),To=Symbol("bufferPush"),Do=Symbol("bufferShift"),mt=Symbol("objectMode"),K=Symbol("destroyed"),Ao=Symbol("error"),Lo=Symbol("emitData"),Yh=Symbol("emitEnd"),Ro=Symbol("emitEnd2"),ye=Symbol("async"),Po=Symbol("abort"),Mi=Symbol("aborted"),Qe=Symbol("signal"),Or=n=>Promise.resolve().then(n),rd=global._MP_NO_ITERATOR_SYMBOLS_!=="1",Qh=rd&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),td=rd&&Symbol.iterator||Symbol("iterator not implemented"),X0=n=>n==="end"||n==="finish"||n==="prefinish",Y0=n=>n instanceof ArrayBuffer||typeof n=="object"&&n.constructor&&n.constructor.name==="ArrayBuffer"&&n.byteLength>=0,Q0=n=>!Buffer.isBuffer(n)&&ArrayBuffer.isView(n),ji=class{constructor(t,e,r){this.src=t,this.dest=e,this.opts=r,this.ondrain=()=>t[Cn](),e.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},ko=class extends ji{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,r){super(t,e,r),this.proxyErrors=i=>e.emit("error",i),t.on("error",this.proxyErrors)}},tn=class extends Fo.default{constructor(t){super(),this[$i]=!1,this[xr]=!1,this[ie]=[],this[J]=[],this[mt]=t&&t.objectMode||!1,this[mt]?this[Pt]=null:this[Pt]=t&&t.encoding||null,this[Pt]==="buffer"&&(this[Pt]=null),this[ye]=t&&!!t.async||!1,this[ge]=this[Pt]?new Jh(this[Pt]):null,this[pe]=!1,this[Pe]=!1,this[Pi]=!1,this[Fi]=!1,this[vr]=null,this.writable=!0,this.readable=!0,this[ct]=0,this[K]=!1,t&&t.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[J]}),t&&t.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[ie]}),this[Qe]=t&&t.signal,this[Mi]=!1,this[Qe]&&(this[Qe].addEventListener("abort",()=>this[Po]()),this[Qe].aborted&&this[Po]())}get bufferLength(){return this[ct]}get encoding(){return this[Pt]}set encoding(t){if(this[mt])throw new Error("cannot set encoding in objectMode");if(this[Pt]&&t!==this[Pt]&&(this[ge]&&this[ge].lastNeed||this[ct]))throw new Error("cannot change encoding");this[Pt]!==t&&(this[ge]=t?new Jh(t):null,this[J].length&&(this[J]=this[J].map(e=>this[ge].write(e)))),this[Pt]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[mt]}set objectMode(t){this[mt]=this[mt]||!!t}get async(){return this[ye]}set async(t){this[ye]=this[ye]||!!t}[Po](){this[Mi]=!0,this.emit("abort",this[Qe].reason),this.destroy(this[Qe].reason)}get aborted(){return this[Mi]}set aborted(t){}write(t,e,r){if(this[Mi])return!1;if(this[pe])throw new Error("write after end");if(this[K])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof e=="function"&&(r=e,e="utf8"),e||(e="utf8");let i=this[ye]?Or:s=>s();return!this[mt]&&!Buffer.isBuffer(t)&&(Q0(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):Y0(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[mt]?(this.flowing&&this[ct]!==0&&this[ki](!0),this.flowing?this.emit("data",t):this[To](t),this[ct]!==0&&this.emit("readable"),r&&i(r),this.flowing):t.length?(typeof t=="string"&&!(e===this[Pt]&&!this[ge].lastNeed)&&(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[Pt]&&(t=this[ge].write(t)),this.flowing&&this[ct]!==0&&this[ki](!0),this.flowing?this.emit("data",t):this[To](t),this[ct]!==0&&this.emit("readable"),r&&i(r),this.flowing):(this[ct]!==0&&this.emit("readable"),r&&i(r),this.flowing)}read(t){if(this[K])return null;if(this[ct]===0||t===0||t>this[ct])return this[me](),null;this[mt]&&(t=null),this[J].length>1&&!this[mt]&&(this.encoding?this[J]=[this[J].join("")]:this[J]=[Buffer.concat(this[J],this[ct])]);let e=this[Kh](t||null,this[J][0]);return this[me](),e}[Kh](t,e){return t===e.length||t===null?this[Do]():(this[J][0]=e.slice(t),e=e.slice(0,t),this[ct]-=t),this.emit("data",e),!this[J].length&&!this[pe]&&this.emit("drain"),e}end(t,e,r){return typeof t=="function"&&(r=t,t=null),typeof e=="function"&&(r=e,e="utf8"),t&&this.write(t,e),r&&this.once("end",r),this[pe]=!0,this.writable=!1,(this.flowing||!this[xr])&&this[me](),this}[Cn](){this[K]||(this[xr]=!1,this[$i]=!0,this.emit("resume"),this[J].length?this[ki]():this[pe]?this[me]():this.emit("drain"))}resume(){return this[Cn]()}pause(){this[$i]=!1,this[xr]=!0}get destroyed(){return this[K]}get flowing(){return this[$i]}get paused(){return this[xr]}[To](t){this[mt]?this[ct]+=1:this[ct]+=t.length,this[J].push(t)}[Do](){return this[mt]?this[ct]-=1:this[ct]-=this[J][0].length,this[J].shift()}[ki](t){do;while(this[Xh](this[Do]())&&this[J].length);!t&&!this[J].length&&!this[pe]&&this.emit("drain")}[Xh](t){return this.emit("data",t),this.flowing}pipe(t,e){if(this[K])return;let r=this[Pe];return e=e||{},t===Zh.stdout||t===Zh.stderr?e.end=!1:e.end=e.end!==!1,e.proxyErrors=!!e.proxyErrors,r?e.end&&t.end():(this[ie].push(e.proxyErrors?new ko(this,t,e):new ji(this,t,e)),this[ye]?Or(()=>this[Cn]()):this[Cn]()),t}unpipe(t){let e=this[ie].find(r=>r.dest===t);e&&(this[ie].splice(this[ie].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){let r=super.on(t,e);return t==="data"&&!this[ie].length&&!this.flowing?this[Cn]():t==="readable"&&this[ct]!==0?super.emit("readable"):X0(t)&&this[Pe]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[vr]&&(this[ye]?Or(()=>e.call(this,this[vr])):e.call(this,this[vr])),r}get emittedEnd(){return this[Pe]}[me](){!this[Pi]&&!this[Pe]&&!this[K]&&this[J].length===0&&this[pe]&&(this[Pi]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Fi]&&this.emit("close"),this[Pi]=!1)}emit(t,e,...r){if(t!=="error"&&t!=="close"&&t!==K&&this[K])return;if(t==="data")return!this[mt]&&!e?!1:this[ye]?Or(()=>this[Lo](e)):this[Lo](e);if(t==="end")return this[Yh]();if(t==="close"){if(this[Fi]=!0,!this[Pe]&&!this[K])return;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(t==="error"){this[vr]=e,super.emit(Ao,e);let s=!this[Qe]||this.listeners("error").length?super.emit("error",e):!1;return this[me](),s}else if(t==="resume"){let s=super.emit("resume");return this[me](),s}else if(t==="finish"||t==="prefinish"){let s=super.emit(t);return this.removeAllListeners(t),s}let i=super.emit(t,e,...r);return this[me](),i}[Lo](t){for(let r of this[ie])r.dest.write(t)===!1&&this.pause();let e=super.emit("data",t);return this[me](),e}[Yh](){this[Pe]||(this[Pe]=!0,this.readable=!1,this[ye]?Or(()=>this[Ro]()):this[Ro]())}[Ro](){if(this[ge]){let e=this[ge].end();if(e){for(let r of this[ie])r.dest.write(e);super.emit("data",e)}}for(let e of this[ie])e.end();let t=super.emit("end");return this.removeAllListeners("end"),t}collect(){let t=[];this[mt]||(t.dataLength=0);let e=this.promise();return this.on("data",r=>{t.push(r),this[mt]||(t.dataLength+=r.length)}),e.then(()=>t)}concat(){return this[mt]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[mt]?Promise.reject(new Error("cannot concat in objectMode")):this[Pt]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,e)=>{this.on(K,()=>e(new Error("stream destroyed"))),this.on("error",r=>e(r)),this.on("end",()=>t())})}[Qh](){let t=!1,e=()=>(this.pause(),t=!0,Promise.resolve({done:!0}));return{next:()=>{if(t)return e();let i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[pe])return e();let s=null,o=null,a=l=>{this.removeListener("data",c),this.removeListener("end",f),this.removeListener(K,u),e(),o(l)},c=l=>{this.removeListener("error",a),this.removeListener("end",f),this.removeListener(K,u),this.pause(),s({value:l,done:!!this[pe]})},f=()=>{this.removeListener("error",a),this.removeListener("data",c),this.removeListener(K,u),e(),s({done:!0})},u=()=>a(new Error("stream destroyed"));return new Promise((l,h)=>{o=h,s=l,this.once(K,u),this.once("error",a),this.once("end",f),this.once("data",c)})},throw:e,return:e,[Qh](){return this}}}[td](){let t=!1,e=()=>(this.pause(),this.removeListener(Ao,e),this.removeListener(K,e),this.removeListener("end",e),t=!0,{done:!0}),r=()=>{if(t)return e();let i=this.read();return i===null?e():{value:i}};return this.once("end",e),this.once(Ao,e),this.once(K,e),{next:r,throw:e,return:e,[td](){return this}}}destroy(t){return this[K]?(t?this.emit("error",t):this.emit(K),this):(this[K]=!0,this[J].length=0,this[ct]=0,typeof this.close=="function"&&!this[Fi]&&this.close(),t?this.emit("error",t):this.emit(K),this)}static isStream(t){return!!t&&(t instanceof tn||t instanceof Fo.default||t instanceof ed.default&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}};var eS=oe.realpathSync.native,Nr={lstatSync:oe.lstatSync,readdir:oe.readdir,readdirSync:oe.readdirSync,readlinkSync:oe.readlinkSync,realpathSync:eS,promises:{lstat:Fe.lstat,readdir:Fe.readdir,readlink:Fe.readlink,realpath:Fe.realpath}},ud=n=>!n||n===Nr||n===tS?Nr:{...Nr,...n,promises:{...Nr.promises,...n.promises||{}}},ld=/^\\\\\?\\([a-z]:)\\?$/i,nS=n=>n.replace(/\//g,"\\").replace(ld,"$1\\"),rS=/[\\\/]/,zt=0,fd=1,hd=2,se=4,dd=6,pd=8,en=10,md=12,Wt=15,Cr=~Wt,$o=16,id=32,_r=64,Yt=128,Ui=256,qi=512,sd=_r|Yt|qi,iS=1023,Mo=n=>n.isFile()?pd:n.isDirectory()?se:n.isSymbolicLink()?en:n.isCharacterDevice()?hd:n.isBlockDevice()?dd:n.isSocket()?md:n.isFIFO()?fd:zt,od=new Map,Ir=n=>{let t=od.get(n);if(t)return t;let e=n.normalize("NFKD");return od.set(n,e),e},ad=new Map,Bi=n=>{let t=ad.get(n);if(t)return t;let e=Ir(n.toLowerCase());return ad.set(n,e),e},Gi=class extends Ye{constructor(){super({max:256})}},jo=class extends Ye{constructor(t=16*1024){super({maxSize:t,sizeCalculation:e=>e.length+1})}},gd=Symbol("PathScurry setAsCwd"),St=class{name;root;roots;parent;nocase;#e;#i;get dev(){return this.#i}#r;get mode(){return this.#r}#o;get nlink(){return this.#o}#f;get uid(){return this.#f}#u;get gid(){return this.#u}#d;get rdev(){return this.#d}#c;get blksize(){return this.#c}#s;get ino(){return this.#s}#t;get size(){return this.#t}#g;get blocks(){return this.#g}#E;get atimeMs(){return this.#E}#m;get mtimeMs(){return this.#m}#h;get ctimeMs(){return this.#h}#x;get birthtimeMs(){return this.#x}#p;get atime(){return this.#p}#I;get mtime(){return this.#I}#T;get ctime(){return this.#T}#O;get birthtime(){return this.#O}#w;#N;#l;#D;#C;#S;#n;#y;#A;#b;get path(){return(this.parent||this).fullpath()}constructor(t,e=zt,r,i,s,o,a){this.name=t,this.#w=s?Bi(t):Ir(t),this.#n=e&iS,this.nocase=s,this.roots=i,this.root=r||this,this.#y=o,this.#l=a.fullpath,this.#C=a.relative,this.#S=a.relativePosix,this.parent=a.parent,this.parent?this.#e=this.parent.#e:this.#e=ud(a.fs)}depth(){return this.#N!==void 0?this.#N:this.parent?this.#N=this.parent.depth()+1:this.#N=0}childrenCache(){return this.#y}resolve(t){if(!t)return this;let e=this.getRootString(t),i=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#F(i):this.#F(i)}#F(t){let e=this;for(let r of t)e=e.child(r);return e}children(){let t=this.#y.get(this);if(t)return t;let e=Object.assign([],{provisional:0});return this.#y.set(this,e),this.#n&=~$o,e}child(t,e){if(t===""||t===".")return this;if(t==="..")return this.parent||this;let r=this.children(),i=this.nocase?Bi(t):Ir(t);for(let c of r)if(c.#w===i)return c;let s=this.parent?this.sep:"",o=this.#l?this.#l+s+t:void 0,a=this.newChild(t,zt,{...e,parent:this,fullpath:o});return this.canReaddir()||(a.#n|=Yt),r.push(a),a}relative(){if(this.#C!==void 0)return this.#C;let t=this.name,e=this.parent;if(!e)return this.#C=this.name;let r=e.relative();return r+(!r||!e.parent?"":this.sep)+t}relativePosix(){if(this.sep==="/")return this.relative();if(this.#S!==void 0)return this.#S;let t=this.name,e=this.parent;if(!e)return this.#S=this.fullpathPosix();let r=e.relativePosix();return r+(!r||!e.parent?"":"/")+t}fullpath(){if(this.#l!==void 0)return this.#l;let t=this.name,e=this.parent;if(!e)return this.#l=this.name;let i=e.fullpath()+(e.parent?this.sep:"")+t;return this.#l=i}fullpathPosix(){if(this.#D!==void 0)return this.#D;if(this.sep==="/")return this.#D=this.fullpath();if(!this.parent){let i=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(i)?this.#D=`//?/${i}`:this.#D=i}let t=this.parent,e=t.fullpathPosix(),r=e+(!e||!t.parent?"":"/")+this.name;return this.#D=r}isUnknown(){return(this.#n&Wt)===zt}isFile(){return(this.#n&Wt)===pd}isDirectory(){return(this.#n&Wt)===se}isCharacterDevice(){return(this.#n&Wt)===hd}isBlockDevice(){return(this.#n&Wt)===dd}isFIFO(){return(this.#n&Wt)===fd}isSocket(){return(this.#n&Wt)===md}isSymbolicLink(){return(this.#n&en)===en}lstatCached(){return this.#n&id?this:void 0}readlinkCached(){return this.#A}realpathCached(){return this.#b}readdirCached(){let t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#A)return!0;if(!this.parent)return!1;let t=this.#n&Wt;return!(t!==zt&&t!==en||this.#n&Ui||this.#n&Yt)}calledReaddir(){return!!(this.#n&$o)}isENOENT(){return!!(this.#n&Yt)}isNamed(t){return this.nocase?this.#w===Bi(t):this.#w===Ir(t)}async readlink(){let t=this.#A;if(t)return t;if(this.canReadlink()&&this.parent)try{let e=await this.#e.promises.readlink(this.fullpath()),r=this.parent.resolve(e);if(r)return this.#A=r}catch(e){this.#M(e.code);return}}readlinkSync(){let t=this.#A;if(t)return t;if(this.canReadlink()&&this.parent)try{let e=this.#e.readlinkSync(this.fullpath()),r=this.parent.resolve(e);if(r)return this.#A=r}catch(e){this.#M(e.code);return}}#k(t){this.#n|=$o;for(let e=t.provisional;e<t.length;e++)t[e].#v()}#v(){this.#n&Yt||(this.#n=(this.#n|Yt)&Cr,this.#_())}#_(){let t=this.children();t.provisional=0;for(let e of t)e.#v()}#$(){this.#n|=qi,this.#L()}#L(){if(this.#n&_r)return;let t=this.#n;(t&Wt)===se&&(t&=Cr),this.#n=t|_r,this.#_()}#P(t=""){t==="ENOTDIR"||t==="EPERM"?this.#L():t==="ENOENT"?this.#v():this.children().provisional=0}#a(t=""){t==="ENOTDIR"?this.parent.#L():t==="ENOENT"&&this.#v()}#M(t=""){let e=this.#n;e|=Ui,t==="ENOENT"&&(e|=Yt),(t==="EINVAL"||t==="UNKNOWN")&&(e&=Cr),this.#n=e,t==="ENOTDIR"&&this.parent&&this.parent.#L()}#R(t,e){return this.#W(t,e)||this.#G(t,e)}#G(t,e){let r=Mo(t),i=this.newChild(t.name,r,{parent:this}),s=i.#n&Wt;return s!==se&&s!==en&&s!==zt&&(i.#n|=_r),e.unshift(i),e.provisional++,i}#W(t,e){for(let r=e.provisional;r<e.length;r++){let i=e[r];if((this.nocase?Bi(t.name):Ir(t.name))===i.#w)return this.#z(t,i,r,e)}}#z(t,e,r,i){let s=e.name;return e.#n=e.#n&Cr|Mo(t),s!==t.name&&(e.name=t.name),r!==i.provisional&&(r===i.length-1?i.pop():i.splice(r,1),i.unshift(e)),i.provisional++,e}async lstat(){if(!(this.#n&Yt))try{return this.#q(await this.#e.promises.lstat(this.fullpath())),this}catch(t){this.#a(t.code)}}lstatSync(){if(!(this.#n&Yt))try{return this.#q(this.#e.lstatSync(this.fullpath())),this}catch(t){this.#a(t.code)}}#q(t){let{atime:e,atimeMs:r,birthtime:i,birthtimeMs:s,blksize:o,blocks:a,ctime:c,ctimeMs:f,dev:u,gid:l,ino:h,mode:d,mtime:p,mtimeMs:m,nlink:y,rdev:g,size:E,uid:w}=t;this.#p=e,this.#E=r,this.#O=i,this.#x=s,this.#c=o,this.#g=a,this.#T=c,this.#h=f,this.#i=u,this.#u=l,this.#s=h,this.#r=d,this.#I=p,this.#m=m,this.#o=y,this.#d=g,this.#t=E,this.#f=w;let v=Mo(t);this.#n=this.#n&Cr|v|id,v!==zt&&v!==se&&v!==en&&(this.#n|=_r)}#U=[];#B=!1;#H(t){this.#B=!1;let e=this.#U.slice();this.#U.length=0,e.forEach(r=>r(null,t))}readdirCB(t,e=!1){if(!this.canReaddir()){e?t(null,[]):queueMicrotask(()=>t(null,[]));return}let r=this.children();if(this.calledReaddir()){let s=r.slice(0,r.provisional);e?t(null,s):queueMicrotask(()=>t(null,s));return}if(this.#U.push(t),this.#B)return;this.#B=!0;let i=this.fullpath();this.#e.readdir(i,{withFileTypes:!0},(s,o)=>{if(s)this.#P(s.code),r.provisional=0;else{for(let a of o)this.#R(a,r);this.#k(r)}this.#H(r.slice(0,r.provisional))})}#j;async readdir(){if(!this.canReaddir())return[];let t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);let e=this.fullpath();if(this.#j)await this.#j;else{let r=()=>{};this.#j=new Promise(i=>r=i);try{for(let i of await this.#e.promises.readdir(e,{withFileTypes:!0}))this.#R(i,t);this.#k(t)}catch(i){this.#P(i.code),t.provisional=0}this.#j=void 0,r()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];let t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);let e=this.fullpath();try{for(let r of this.#e.readdirSync(e,{withFileTypes:!0}))this.#R(r,t);this.#k(t)}catch(r){this.#P(r.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(this.#n&sd)return!1;let t=Wt&this.#n;return t===zt||t===se||t===en}shouldWalk(t,e){return(this.#n&se)===se&&!(this.#n&sd)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#b)return this.#b;if(!((qi|Ui|Yt)&this.#n))try{let t=await this.#e.promises.realpath(this.fullpath());return this.#b=this.resolve(t)}catch{this.#$()}}realpathSync(){if(this.#b)return this.#b;if(!((qi|Ui|Yt)&this.#n))try{let t=this.#e.realpathSync(this.fullpath());return this.#b=this.resolve(t)}catch{this.#$()}}[gd](t){if(t===this)return;let e=new Set([]),r=[],i=this;for(;i&&i.parent;)e.add(i),i.#C=r.join(this.sep),i.#S=r.join("/"),i=i.parent,r.push("..");for(i=t;i&&i.parent&&!e.has(i);)i.#C=void 0,i.#S=void 0,i=i.parent}},_n=class extends St{sep="\\";splitSep=rS;constructor(t,e=zt,r,i,s,o,a){super(t,e,r,i,s,o,a)}newChild(t,e=zt,r={}){return new _n(t,e,this.root,this.roots,this.nocase,this.childrenCache(),r)}getRootString(t){return Nn.win32.parse(t).root}getRoot(t){if(t=nS(t.toUpperCase()),t===this.root.name)return this.root;for(let[e,r]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=r;return this.roots[t]=new Tn(t,this).root}sameRoot(t,e=this.root.name){return t=t.toUpperCase().replace(/\//g,"\\").replace(ld,"$1\\"),t===e}},In=class extends St{splitSep="/";sep="/";constructor(t,e=zt,r,i,s,o,a){super(t,e,r,i,s,o,a)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=zt,r={}){return new In(t,e,this.root,this.roots,this.nocase,this.childrenCache(),r)}},Wi=class{root;rootPath;roots;cwd;#e;#i;#r;nocase;#o;constructor(t=process.cwd(),e,r,{nocase:i,childrenCacheSize:s=16*1024,fs:o=Nr}={}){this.#o=ud(o),(t instanceof URL||t.startsWith("file://"))&&(t=(0,cd.fileURLToPath)(t));let a=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(a),this.#e=new Gi,this.#i=new Gi,this.#r=new jo(s);let c=a.substring(this.rootPath.length).split(r);if(c.length===1&&!c[0]&&c.pop(),i===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=i,this.root=this.newRoot(this.#o),this.roots[this.rootPath]=this.root;let f=this.root,u=c.length-1,l=e.sep,h=this.rootPath,d=!1;for(let p of c){let m=u--;f=f.child(p,{relative:new Array(m).fill("..").join(l),relativePosix:new Array(m).fill("..").join("/"),fullpath:h+=(d?"":l)+p}),d=!0}this.cwd=f}depth(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#r}resolve(...t){let e="";for(let s=t.length-1;s>=0;s--){let o=t[s];if(!(!o||o===".")&&(e=e?`${o}/${e}`:o,this.isAbsolute(o)))break}let r=this.#e.get(e);if(r!==void 0)return r;let i=this.cwd.resolve(e).fullpath();return this.#e.set(e,i),i}resolvePosix(...t){let e="";for(let s=t.length-1;s>=0;s--){let o=t[s];if(!(!o||o===".")&&(e=e?`${o}/${e}`:o,this.isAbsolute(o)))break}let r=this.#i.get(e);if(r!==void 0)return r;let i=this.cwd.resolve(e).fullpathPosix();return this.#i.set(e,i),i}relative(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof St||(e=t,t=this.cwd);let{withFileTypes:r}=e;if(t.canReaddir()){let i=await t.readdir();return r?i:i.map(s=>s.name)}else return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof St||(e=t,t=this.cwd);let{withFileTypes:r=!0}=e;return t.canReaddir()?r?t.readdirSync():t.readdirSync().map(i=>i.name):[]}async lstat(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof St||(e=t.withFileTypes,t=this.cwd);let r=await t.readlink();return e?r:r?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof St||(e=t.withFileTypes,t=this.cwd);let r=t.readlinkSync();return e?r:r?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof St||(e=t.withFileTypes,t=this.cwd);let r=await t.realpath();return e?r:r?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof St||(e=t.withFileTypes,t=this.cwd);let r=t.realpathSync();return e?r:r?.fullpath()}async walk(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof St||(e=t,t=this.cwd);let{withFileTypes:r=!0,follow:i=!1,filter:s,walkFilter:o}=e,a=[];(!s||s(t))&&a.push(r?t:t.fullpath());let c=new Set,f=(l,h)=>{c.add(l),l.readdirCB((d,p)=>{if(d)return h(d);let m=p.length;if(!m)return h();let y=()=>{--m===0&&h()};for(let g of p)(!s||s(g))&&a.push(r?g:g.fullpath()),i&&g.isSymbolicLink()?g.realpath().then(E=>E?.isUnknown()?E.lstat():E).then(E=>E?.shouldWalk(c,o)?f(E,y):y()):g.shouldWalk(c,o)?f(g,y):y()},!0)},u=t;return new Promise((l,h)=>{f(u,d=>{if(d)return h(d);l(a)})})}walkSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof St||(e=t,t=this.cwd);let{withFileTypes:r=!0,follow:i=!1,filter:s,walkFilter:o}=e,a=[];(!s||s(t))&&a.push(r?t:t.fullpath());let c=new Set([t]);for(let f of c){let u=f.readdirSync();for(let l of u){(!s||s(l))&&a.push(r?l:l.fullpath());let h=l;if(l.isSymbolicLink()){if(!(i&&(h=l.realpathSync())))continue;h.isUnknown()&&h.lstatSync()}h.shouldWalk(c,o)&&c.add(h)}}return a}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return typeof t=="string"?t=this.cwd.resolve(t):t instanceof St||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof St||(e=t,t=this.cwd);let{withFileTypes:r=!0,follow:i=!1,filter:s,walkFilter:o}=e;(!s||s(t))&&(yield r?t:t.fullpath());let a=new Set([t]);for(let c of a){let f=c.readdirSync();for(let u of f){(!s||s(u))&&(yield r?u:u.fullpath());let l=u;if(u.isSymbolicLink()){if(!(i&&(l=u.realpathSync())))continue;l.isUnknown()&&l.lstatSync()}l.shouldWalk(a,o)&&a.add(l)}}}stream(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof St||(e=t,t=this.cwd);let{withFileTypes:r=!0,follow:i=!1,filter:s,walkFilter:o}=e,a=new tn({objectMode:!0});(!s||s(t))&&a.write(r?t:t.fullpath());let c=new Set,f=[t],u=0,l=()=>{let h=!1;for(;!h;){let d=f.shift();if(!d){u===0&&a.end();return}u++,c.add(d);let p=(y,g,E=!1)=>{if(y)return a.emit("error",y);if(i&&!E){let w=[];for(let v of g)v.isSymbolicLink()&&w.push(v.realpath().then(I=>I?.isUnknown()?I.lstat():I));if(w.length){Promise.all(w).then(()=>p(null,g,!0));return}}for(let w of g)w&&(!s||s(w))&&(a.write(r?w:w.fullpath())||(h=!0));u--;for(let w of g){let v=w.realpathCached()||w;v.shouldWalk(c,o)&&f.push(v)}h&&!a.flowing?a.once("drain",l):m||l()},m=!0;d.readdirCB(p,!0),m=!1}};return l(),a}streamSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof St||(e=t,t=this.cwd);let{withFileTypes:r=!0,follow:i=!1,filter:s,walkFilter:o}=e,a=new tn({objectMode:!0}),c=new Set;(!s||s(t))&&a.write(r?t:t.fullpath());let f=[t],u=0,l=()=>{let h=!1;for(;!h;){let d=f.shift();if(!d){u===0&&a.end();return}u++,c.add(d);let p=d.readdirSync();for(let m of p)(!s||s(m))&&(a.write(r?m:m.fullpath())||(h=!0));u--;for(let m of p){let y=m;if(m.isSymbolicLink()){if(!(i&&(y=m.realpathSync())))continue;y.isUnknown()&&y.lstatSync()}y.shouldWalk(c,o)&&f.push(y)}}h&&!a.flowing&&a.once("drain",l)};return l(),a}chdir(t=this.cwd){let e=this.cwd;this.cwd=typeof t=="string"?this.cwd.resolve(t):t,this.cwd[gd](e)}},Tn=class extends Wi{sep="\\";constructor(t=process.cwd(),e={}){let{nocase:r=!0}=e;super(t,Nn.win32,"\\",{...e,nocase:r}),this.nocase=r;for(let i=this.cwd;i;i=i.parent)i.nocase=this.nocase}parseRootPath(t){return Nn.win32.parse(t).root.toUpperCase()}newRoot(t){return new _n(this.rootPath,se,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}},Dn=class extends Wi{sep="/";constructor(t=process.cwd(),e={}){let{nocase:r=!1}=e;super(t,Nn.posix,"/",{...e,nocase:r}),this.nocase=r}parseRootPath(t){return"/"}newRoot(t){return new In(this.rootPath,se,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}},Tr=class extends Dn{constructor(t=process.cwd(),e={}){let{nocase:r=!0}=e;super(t,{...e,nocase:r})}},Ux=process.platform==="win32"?_n:In,yd=process.platform==="win32"?Tn:process.platform==="darwin"?Tr:Dn;var Id=require("url");var sS=n=>n.length>=1,oS=n=>n.length>=1,ke=class{#e;#i;#r;length;#o;#f;#u;#d;#c;#s;#t=!0;constructor(t,e,r,i){if(!sS(t))throw new TypeError("empty pattern list");if(!oS(e))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,r<0||r>=this.length)throw new TypeError("index out of range");if(this.#e=t,this.#i=e,this.#r=r,this.#o=i,this.#r===0){if(this.isUNC()){let[s,o,a,c,...f]=this.#e,[u,l,h,d,...p]=this.#i;f[0]===""&&(f.shift(),p.shift());let m=[s,o,a,c,""].join("/"),y=[u,l,h,d,""].join("/");this.#e=[m,...f],this.#i=[y,...p],this.length=this.#e.length}else if(this.isDrive()||this.isAbsolute()){let[s,...o]=this.#e,[a,...c]=this.#i;o[0]===""&&(o.shift(),c.shift());let f=s+"/",u=a+"/";this.#e=[f,...o],this.#i=[u,...c],this.length=this.#e.length}}}pattern(){return this.#e[this.#r]}isString(){return typeof this.#e[this.#r]=="string"}isGlobstar(){return this.#e[this.#r]===pt}isRegExp(){return this.#e[this.#r]instanceof RegExp}globString(){return this.#u=this.#u||(this.#r===0?this.isAbsolute()?this.#i[0]+this.#i.slice(1).join("/"):this.#i.join("/"):this.#i.slice(this.#r).join("/"))}hasMore(){return this.length>this.#r+1}rest(){return this.#f!==void 0?this.#f:this.hasMore()?(this.#f=new ke(this.#e,this.#i,this.#r+1,this.#o),this.#f.#s=this.#s,this.#f.#c=this.#c,this.#f.#d=this.#d,this.#f):this.#f=null}isUNC(){let t=this.#e;return this.#c!==void 0?this.#c:this.#c=this.#o==="win32"&&this.#r===0&&t[0]===""&&t[1]===""&&typeof t[2]=="string"&&!!t[2]&&typeof t[3]=="string"&&!!t[3]}isDrive(){let t=this.#e;return this.#d!==void 0?this.#d:this.#d=this.#o==="win32"&&this.#r===0&&this.length>1&&typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0])}isAbsolute(){let t=this.#e;return this.#s!==void 0?this.#s:this.#s=t[0]===""&&t.length>1||this.isDrive()||this.isUNC()}root(){let t=this.#e[0];return typeof t=="string"&&this.isAbsolute()&&this.#r===0?t:""}checkFollowGlobstar(){return!(this.#r===0||!this.isGlobstar()||!this.#t)}markFollowGlobstar(){return this.#r===0||!this.isGlobstar()||!this.#t?!1:(this.#t=!1,!0)}};var Cd=F(require("events"),1),Ho=F(require("stream"),1),Nd=F(require("string_decoder"),1),Ed=typeof process=="object"&&process?process:{stdout:null,stderr:null},wd=Nd.default.StringDecoder,Ee=Symbol("EOF"),we=Symbol("maybeEmitEnd"),$e=Symbol("emittedEnd"),zi=Symbol("emittingEnd"),Dr=Symbol("emittedError"),Hi=Symbol("closed"),Sd=Symbol("read"),Vi=Symbol("flush"),bd=Symbol("flushChunk"),Ft=Symbol("encoding"),Se=Symbol("decoder"),Zi=Symbol("flowing"),Ar=Symbol("paused"),An=Symbol("resume"),X=Symbol("buffer"),ae=Symbol("pipes"),ut=Symbol("bufferLength"),Uo=Symbol("bufferPush"),Bo=Symbol("bufferShift"),gt=Symbol("objectMode"),Y=Symbol("destroyed"),qo=Symbol("error"),Go=Symbol("emitData"),vd=Symbol("emitEnd"),Wo=Symbol("emitEnd2"),be=Symbol("async"),zo=Symbol("abort"),Ji=Symbol("aborted"),nn=Symbol("signal"),Lr=n=>Promise.resolve().then(n),_d=global._MP_NO_ITERATOR_SYMBOLS_!=="1",xd=_d&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),Od=_d&&Symbol.iterator||Symbol("iterator not implemented"),aS=n=>n==="end"||n==="finish"||n==="prefinish",cS=n=>n instanceof ArrayBuffer||typeof n=="object"&&n.constructor&&n.constructor.name==="ArrayBuffer"&&n.byteLength>=0,uS=n=>!Buffer.isBuffer(n)&&ArrayBuffer.isView(n),Ki=class{constructor(t,e,r){this.src=t,this.dest=e,this.opts=r,this.ondrain=()=>t[An](),e.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},Vo=class extends Ki{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,r){super(t,e,r),this.proxyErrors=i=>e.emit("error",i),t.on("error",this.proxyErrors)}},Ln=class extends Ho.default{constructor(t){super(),this[Zi]=!1,this[Ar]=!1,this[ae]=[],this[X]=[],this[gt]=t&&t.objectMode||!1,this[gt]?this[Ft]=null:this[Ft]=t&&t.encoding||null,this[Ft]==="buffer"&&(this[Ft]=null),this[be]=t&&!!t.async||!1,this[Se]=this[Ft]?new wd(this[Ft]):null,this[Ee]=!1,this[$e]=!1,this[zi]=!1,this[Hi]=!1,this[Dr]=null,this.writable=!0,this.readable=!0,this[ut]=0,this[Y]=!1,t&&t.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[X]}),t&&t.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[ae]}),this[nn]=t&&t.signal,this[Ji]=!1,this[nn]&&(this[nn].addEventListener("abort",()=>this[zo]()),this[nn].aborted&&this[zo]())}get bufferLength(){return this[ut]}get encoding(){return this[Ft]}set encoding(t){if(this[gt])throw new Error("cannot set encoding in objectMode");if(this[Ft]&&t!==this[Ft]&&(this[Se]&&this[Se].lastNeed||this[ut]))throw new Error("cannot change encoding");this[Ft]!==t&&(this[Se]=t?new wd(t):null,this[X].length&&(this[X]=this[X].map(e=>this[Se].write(e)))),this[Ft]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[gt]}set objectMode(t){this[gt]=this[gt]||!!t}get async(){return this[be]}set async(t){this[be]=this[be]||!!t}[zo](){this[Ji]=!0,this.emit("abort",this[nn].reason),this.destroy(this[nn].reason)}get aborted(){return this[Ji]}set aborted(t){}write(t,e,r){if(this[Ji])return!1;if(this[Ee])throw new Error("write after end");if(this[Y])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof e=="function"&&(r=e,e="utf8"),e||(e="utf8");let i=this[be]?Lr:s=>s();return!this[gt]&&!Buffer.isBuffer(t)&&(uS(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):cS(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[gt]?(this.flowing&&this[ut]!==0&&this[Vi](!0),this.flowing?this.emit("data",t):this[Uo](t),this[ut]!==0&&this.emit("readable"),r&&i(r),this.flowing):t.length?(typeof t=="string"&&!(e===this[Ft]&&!this[Se].lastNeed)&&(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[Ft]&&(t=this[Se].write(t)),this.flowing&&this[ut]!==0&&this[Vi](!0),this.flowing?this.emit("data",t):this[Uo](t),this[ut]!==0&&this.emit("readable"),r&&i(r),this.flowing):(this[ut]!==0&&this.emit("readable"),r&&i(r),this.flowing)}read(t){if(this[Y])return null;if(this[ut]===0||t===0||t>this[ut])return this[we](),null;this[gt]&&(t=null),this[X].length>1&&!this[gt]&&(this.encoding?this[X]=[this[X].join("")]:this[X]=[Buffer.concat(this[X],this[ut])]);let e=this[Sd](t||null,this[X][0]);return this[we](),e}[Sd](t,e){return t===e.length||t===null?this[Bo]():(this[X][0]=e.slice(t),e=e.slice(0,t),this[ut]-=t),this.emit("data",e),!this[X].length&&!this[Ee]&&this.emit("drain"),e}end(t,e,r){return typeof t=="function"&&(r=t,t=null),typeof e=="function"&&(r=e,e="utf8"),t&&this.write(t,e),r&&this.once("end",r),this[Ee]=!0,this.writable=!1,(this.flowing||!this[Ar])&&this[we](),this}[An](){this[Y]||(this[Ar]=!1,this[Zi]=!0,this.emit("resume"),this[X].length?this[Vi]():this[Ee]?this[we]():this.emit("drain"))}resume(){return this[An]()}pause(){this[Zi]=!1,this[Ar]=!0}get destroyed(){return this[Y]}get flowing(){return this[Zi]}get paused(){return this[Ar]}[Uo](t){this[gt]?this[ut]+=1:this[ut]+=t.length,this[X].push(t)}[Bo](){return this[gt]?this[ut]-=1:this[ut]-=this[X][0].length,this[X].shift()}[Vi](t){do;while(this[bd](this[Bo]())&&this[X].length);!t&&!this[X].length&&!this[Ee]&&this.emit("drain")}[bd](t){return this.emit("data",t),this.flowing}pipe(t,e){if(this[Y])return;let r=this[$e];return e=e||{},t===Ed.stdout||t===Ed.stderr?e.end=!1:e.end=e.end!==!1,e.proxyErrors=!!e.proxyErrors,r?e.end&&t.end():(this[ae].push(e.proxyErrors?new Vo(this,t,e):new Ki(this,t,e)),this[be]?Lr(()=>this[An]()):this[An]()),t}unpipe(t){let e=this[ae].find(r=>r.dest===t);e&&(this[ae].splice(this[ae].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){let r=super.on(t,e);return t==="data"&&!this[ae].length&&!this.flowing?this[An]():t==="readable"&&this[ut]!==0?super.emit("readable"):aS(t)&&this[$e]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[Dr]&&(this[be]?Lr(()=>e.call(this,this[Dr])):e.call(this,this[Dr])),r}get emittedEnd(){return this[$e]}[we](){!this[zi]&&!this[$e]&&!this[Y]&&this[X].length===0&&this[Ee]&&(this[zi]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Hi]&&this.emit("close"),this[zi]=!1)}emit(t,e,...r){if(t!=="error"&&t!=="close"&&t!==Y&&this[Y])return;if(t==="data")return!this[gt]&&!e?!1:this[be]?Lr(()=>this[Go](e)):this[Go](e);if(t==="end")return this[vd]();if(t==="close"){if(this[Hi]=!0,!this[$e]&&!this[Y])return;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(t==="error"){this[Dr]=e,super.emit(qo,e);let s=!this[nn]||this.listeners("error").length?super.emit("error",e):!1;return this[we](),s}else if(t==="resume"){let s=super.emit("resume");return this[we](),s}else if(t==="finish"||t==="prefinish"){let s=super.emit(t);return this.removeAllListeners(t),s}let i=super.emit(t,e,...r);return this[we](),i}[Go](t){for(let r of this[ae])r.dest.write(t)===!1&&this.pause();let e=super.emit("data",t);return this[we](),e}[vd](){this[$e]||(this[$e]=!0,this.readable=!1,this[be]?Lr(()=>this[Wo]()):this[Wo]())}[Wo](){if(this[Se]){let e=this[Se].end();if(e){for(let r of this[ae])r.dest.write(e);super.emit("data",e)}}for(let e of this[ae])e.end();let t=super.emit("end");return this.removeAllListeners("end"),t}collect(){let t=[];this[gt]||(t.dataLength=0);let e=this.promise();return this.on("data",r=>{t.push(r),this[gt]||(t.dataLength+=r.length)}),e.then(()=>t)}concat(){return this[gt]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[gt]?Promise.reject(new Error("cannot concat in objectMode")):this[Ft]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,e)=>{this.on(Y,()=>e(new Error("stream destroyed"))),this.on("error",r=>e(r)),this.on("end",()=>t())})}[xd](){let t=!1,e=()=>(this.pause(),t=!0,Promise.resolve({done:!0}));return{next:()=>{if(t)return e();let i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[Ee])return e();let s=null,o=null,a=l=>{this.removeListener("data",c),this.removeListener("end",f),this.removeListener(Y,u),e(),o(l)},c=l=>{this.removeListener("error",a),this.removeListener("end",f),this.removeListener(Y,u),this.pause(),s({value:l,done:!!this[Ee]})},f=()=>{this.removeListener("error",a),this.removeListener("data",c),this.removeListener(Y,u),e(),s({done:!0})},u=()=>a(new Error("stream destroyed"));return new Promise((l,h)=>{o=h,s=l,this.once(Y,u),this.once("error",a),this.once("end",f),this.once("data",c)})},throw:e,return:e,[xd](){return this}}}[Od](){let t=!1,e=()=>(this.pause(),this.removeListener(qo,e),this.removeListener(Y,e),this.removeListener("end",e),t=!0,{done:!0}),r=()=>{if(t)return e();let i=this.read();return i===null?e():{value:i}};return this.once("end",e),this.once(qo,e),this.once(Y,e),{next:r,throw:e,return:e,[Od](){return this}}}destroy(t){return this[Y]?(t?this.emit("error",t):this.emit(Y),this):(this[Y]=!0,this[X].length=0,this[ut]=0,typeof this.close=="function"&&!this[Hi]&&this.close(),t?this.emit("error",t):this.emit(Y),this)}static isStream(t){return!!t&&(t instanceof Ln||t instanceof Ho.default||t instanceof Cd.default&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}};var lS=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",Rr=class{relative;relativeChildren;absolute;absoluteChildren;constructor(t,{nobrace:e,nocase:r,noext:i,noglobstar:s,platform:o=lS}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[];let a={dot:!0,nobrace:e,nocase:r,noext:i,noglobstar:s,optimizationLevel:2,platform:o,nocomment:!0,nonegate:!0};for(let c of t){let f=new Mt(c,a);for(let u=0;u<f.set.length;u++){let l=f.set[u],h=f.globParts[u],d=new ke(l,h,0,o),p=new Mt(d.globString(),a),m=h[h.length-1]==="**",y=d.isAbsolute();y?this.absolute.push(p):this.relative.push(p),m&&(y?this.absoluteChildren.push(p):this.relativeChildren.push(p))}}}ignored(t){let e=t.fullpath(),r=`${e}/`,i=t.relative()||".",s=`${i}/`;for(let o of this.relative)if(o.match(i)||o.match(s))return!0;for(let o of this.absolute)if(o.match(e)||o.match(r))return!0;return!1}childrenIgnored(t){let e=t.fullpath()+"/",r=(t.relative()||".")+"/";for(let i of this.relativeChildren)if(i.match(r))return!0;for(let i of this.absoluteChildren)i.match(e);return!1}};var Pr=class{store;constructor(t=new Map){this.store=t}copy(){return new Pr(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){let r=t.fullpath(),i=this.store.get(r);i?i.add(e.globString()):this.store.set(r,new Set([e.globString()]))}},Zo=class{store=new Map;add(t,e,r){let i=(e?2:0)|(r?1:0),s=this.store.get(t);this.store.set(t,s===void 0?i:i&s)}entries(){return[...this.store.entries()].map(([t,e])=>[t,!!(e&2),!!(e&1)])}},Jo=class{store=new Map;add(t,e){if(!t.canReaddir())return;let r=this.store.get(t);r?r.find(i=>i.globString()===e.globString())||r.push(e):this.store.set(t,[e])}get(t){let e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map(t=>[t,this.store.get(t)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}},rn=class{hasWalkedCache;matches=new Zo;subwalks=new Jo;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new Pr}processPatterns(t,e){this.patterns=e;let r=e.map(i=>[t,i]);for(let[i,s]of r){this.hasWalkedCache.storeWalked(i,s);let o=s.root(),a=s.isAbsolute()&&this.opts.absolute!==!1;if(o){i=i.resolve(o==="/"&&this.opts.root!==void 0?this.opts.root:o);let l=s.rest();if(l)s=l;else{this.matches.add(i,!0,!1);continue}}if(i.isENOENT())continue;let c,f,u=!1;for(;typeof(c=s.pattern())=="string"&&(f=s.rest());){let l=i.resolve(c);if(l.isUnknown()&&c!=="..")break;i=l,s=f,u=!0}if(c=s.pattern(),f=s.rest(),u){if(this.hasWalkedCache.hasWalked(i,s))continue;this.hasWalkedCache.storeWalked(i,s)}if(typeof c=="string"){if(f)this.subwalks.add(i,s);else{let l=c===".."||c===""||c===".";this.matches.add(i.resolve(c),a,l)}continue}else if(c===pt){(!i.isSymbolicLink()||this.follow||s.checkFollowGlobstar())&&this.subwalks.add(i,s);let l=f?.pattern(),h=f?.rest();if(!f||(l===""||l===".")&&!h)this.matches.add(i,a,l===""||l===".");else if(l===".."){let d=i.parent||i;h?this.hasWalkedCache.hasWalked(d,h)||this.subwalks.add(d,h):this.matches.add(d,a,!0)}}else c instanceof RegExp&&this.subwalks.add(i,s)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new rn(this.opts,this.hasWalkedCache)}filterEntries(t,e){let r=this.subwalks.get(t),i=this.child();for(let s of e)for(let o of r){let a=o.isAbsolute(),c=o.pattern(),f=o.rest();c===pt?i.testGlobstar(s,o,f,a):c instanceof RegExp?i.testRegExp(s,c,f,a):i.testString(s,c,f,a)}return i}testGlobstar(t,e,r,i){if((this.dot||!t.name.startsWith("."))&&(e.hasMore()||this.matches.add(t,i,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(r&&e.checkFollowGlobstar()?this.subwalks.add(t,r):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),r){let s=r.pattern();if(typeof s=="string"&&s!==".."&&s!==""&&s!==".")this.testString(t,s,r.rest(),i);else if(s===".."){let o=t.parent||t;this.subwalks.add(o,r)}else s instanceof RegExp&&this.testRegExp(t,s,r.rest(),i)}}testRegExp(t,e,r,i){e.test(t.name)&&(r?this.subwalks.add(t,r):this.matches.add(t,i,!1))}testString(t,e,r,i){t.isNamed(e)&&(r?this.subwalks.add(t,r):this.matches.add(t,i,!1))}};var fS=(n,t)=>typeof n=="string"?new Rr([n],t):Array.isArray(n)?new Rr(n,t):n,Xi=class{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#e=[];#i;#r;signal;maxDepth;constructor(t,e,r){this.patterns=t,this.path=e,this.opts=r,this.#r=!r.posix&&r.platform==="win32"?"\\":"/",r.ignore&&(this.#i=fS(r.ignore,r)),this.maxDepth=r.maxDepth||1/0,r.signal&&(this.signal=r.signal,this.signal.addEventListener("abort",()=>{this.#e.length=0}))}#o(t){return this.seen.has(t)||!!this.#i?.ignored?.(t)}#f(t){return!!this.#i?.childrenIgnored?.(t)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let t;for(;!this.paused&&(t=this.#e.shift());)t()}onResume(t){this.signal?.aborted||(this.paused?this.#e.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let r;if(this.opts.realpath){if(r=t.realpathCached()||await t.realpath(),!r)return;t=r}let i=t.isUnknown()||this.opts.stat;return this.matchCheckTest(i?await t.lstat():t,e)}matchCheckTest(t,e){return t&&(this.maxDepth===1/0||t.depth()<=this.maxDepth)&&(!e||t.canReaddir())&&(!this.opts.nodir||!t.isDirectory())&&!this.#o(t)?t:void 0}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let r;if(this.opts.realpath){if(r=t.realpathCached()||t.realpathSync(),!r)return;t=r}let i=t.isUnknown()||this.opts.stat;return this.matchCheckTest(i?t.lstatSync():t,e)}matchFinish(t,e){if(this.#o(t))return;let r=this.opts.absolute===void 0?e:this.opts.absolute;this.seen.add(t);let i=this.opts.mark&&t.isDirectory()?this.#r:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(r){let s=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(s+i)}else{let s=this.opts.posix?t.relativePosix():t.relative(),o=this.opts.dotRelative&&!s.startsWith(".."+this.#r)?"."+this.#r:"";this.matchEmit(s?o+s+i:"."+i)}}async match(t,e,r){let i=await this.matchCheck(t,r);i&&this.matchFinish(i,e)}matchSync(t,e,r){let i=this.matchCheckSync(t,r);i&&this.matchFinish(i,e)}walkCB(t,e,r){this.signal?.aborted&&r(),this.walkCB2(t,e,new rn(this.opts),r)}walkCB2(t,e,r,i){if(this.#f(t))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2(t,e,r,i));return}r.processPatterns(t,e);let s=1,o=()=>{--s===0&&i()};for(let[a,c,f]of r.matches.entries())this.#o(a)||(s++,this.match(a,c,f).then(()=>o()));for(let a of r.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;s++;let c=a.readdirCached();a.calledReaddir()?this.walkCB3(a,c,r,o):a.readdirCB((f,u)=>this.walkCB3(a,u,r,o),!0)}o()}walkCB3(t,e,r,i){r=r.filterEntries(t,e);let s=1,o=()=>{--s===0&&i()};for(let[a,c,f]of r.matches.entries())this.#o(a)||(s++,this.match(a,c,f).then(()=>o()));for(let[a,c]of r.subwalks.entries())s++,this.walkCB2(a,c,r.child(),o);o()}walkCBSync(t,e,r){this.signal?.aborted&&r(),this.walkCB2Sync(t,e,new rn(this.opts),r)}walkCB2Sync(t,e,r,i){if(this.#f(t))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2Sync(t,e,r,i));return}r.processPatterns(t,e);let s=1,o=()=>{--s===0&&i()};for(let[a,c,f]of r.matches.entries())this.#o(a)||this.matchSync(a,c,f);for(let a of r.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;s++;let c=a.readdirSync();this.walkCB3Sync(a,c,r,o)}o()}walkCB3Sync(t,e,r,i){r=r.filterEntries(t,e);let s=1,o=()=>{--s===0&&i()};for(let[a,c,f]of r.matches.entries())this.#o(a)||this.matchSync(a,c,f);for(let[a,c]of r.subwalks.entries())s++,this.walkCB2Sync(a,c,r.child(),o);o()}},Fr=class extends Xi{matches;constructor(t,e,r){super(t,e,r),this.matches=new Set}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((t,e)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}},kr=class extends Xi{results;constructor(t,e,r){super(t,e,r),this.results=new Ln({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){let t=this.path;return t.isUnknown()?t.lstat().then(()=>{this.walkCB(t,this.patterns,()=>this.results.end())}):this.walkCB(t,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}};var hS=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",Qt=class{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;opts;patterns;constructor(t,e){if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,Id.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth=typeof e.maxDepth=="number"?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof t=="string"&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(t=t.map(c=>c.replace(/\\/g,"/"))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map(c=>c.includes("/")?c:`./**/${c}`)}if(this.pattern=t,this.platform=e.platform||hS,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,e.nocase!==void 0&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{let c=e.platform==="win32"?Tn:e.platform==="darwin"?Tr:e.platform?Dn:yd;this.scurry=new c(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;let r=this.platform==="darwin"||this.platform==="win32",i={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:r,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},s=this.pattern.map(c=>new Mt(c,i)),[o,a]=s.reduce((c,f)=>(c[0].push(...f.set),c[1].push(...f.globParts),c),[[],[]]);this.patterns=o.map((c,f)=>new ke(c,a[f],0,this.platform))}async walk(){return[...await new Fr(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walk()]}walkSync(){return[...new Fr(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walkSync()]}stream(){return new kr(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).stream()}streamSync(){return new kr(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}};var Ko=(n,t={})=>{Array.isArray(n)||(n=[n]);for(let e of n)if(new Mt(e,t).hasMagic())return!0;return!1};function Yi(n,t={}){return new Qt(n,t).streamSync()}function Ad(n,t={}){return new Qt(n,t).stream()}function Qi(n,t={}){return new Qt(n,t).walkSync()}async function Td(n,t={}){return new Qt(n,t).walk()}function ts(n,t={}){return new Qt(n,t).iterateSync()}function Ld(n,t={}){return new Qt(n,t).iterate()}var dS=Yi,pS=Object.assign(Ad,{sync:Yi}),mS=ts,gS=Object.assign(Ld,{sync:ts}),yS=Object.assign(Qi,{stream:Yi,iterate:ts}),Dd=Object.assign(Td,{glob:Td,globSync:Qi,sync:yS,globStream:Ad,stream:pS,globStreamSync:Yi,streamSync:dS,globIterate:Ld,iterate:gS,globIterateSync:ts,iterateSync:mS,Glob:Qt,hasMagic:Ko,escape:bn,unescape:Xt});Dd.glob=Dd;var Rn=require("path"),$r=F(lr());var Pn=n=>{let t,{workspaces:e}=(0,$r.readJsonSync)((0,Rn.join)(re.REPO,"package.json"),"utf-8"),r=e.filter(s=>s!==".cli"),i=Qi(r,{cwd:re.REPO}).map(s=>{let o=(0,Rn.join)(re.REPO,s),a=(0,Rn.join)(o,"package.json");return(0,$r.existsSync)(a)?{path:(0,Rn.parse)(a),packageJson:(0,$r.readJsonSync)(a,"utf-8")}:void 0}).filter(Boolean);return i&&n&&(t=i.find(({packageJson:s})=>s.name===n)),n?t:i};var Fn=async()=>{await Je`git fetch --tags origin`;let{stdout:n}=await Je`git rev-list --tags --max-count=1`,{stdout:t}=await Je`git describe --tags ${n}`;return t};var kn=async n=>{let t=await Fn(),[e,r,i]=t.split(".").map(Number);return n==="major"?(++e,r=0,i=0):n==="minor"?(++r,i=0):n==="patch"&&++i,[e,r,i].join(".")};var Rd=F(lr()),Pd=require("path");var $n=()=>(0,Rd.readJsonSync)((0,Pd.join)(re.REPO,"package.json"),"utf-8");var Xo=n=>n.map(({dir:t,base:e},r)=>{let i=`css_${r}`,s=t.split("/").slice(-4).join("/");return`
      const ${i} = document.createElement('link');
      ${i}.setAttribute('href', \`\${RAW_URL}/${s}/${e}\`);
      ${i}.setAttribute('rel', 'stylesheet');
    `});var Yo=n=>n.map(({dir:t,base:e},r)=>{let i=`js_${r}`,s=t.split("/").slice(-4).join("/");return`
      const ${i} = document.createElement('script');
      ${i}.setAttribute('src', \`\${RAW_URL}/${s}/${e}\`);
      ${i}.setAttribute('type', 'module');
    `});var es=n=>{let{version:t,baseUrl:e,user:r,project:i,files:s}=n,o=s.filter(({ext:l})=>l===".css"),a=s.filter(({ext:l})=>l===".js"),c=o.map((l,h)=>`css_${h}`),f=o.map((l,h)=>`js_${h}`);return`
    document.addEventListener('DOMContentLoaded', () => {
      const body = document.getElementsByTagName('body')[0];
      const head = document.getElementsByTagName('head')[0];
      const RAW_URL = \`${e}/${r}/${i}/${t}\`;
      ${Xo(o)}
      ${Yo(a)}
      ${c.map(l=>`head.appendChild(${l});`).join(`
`)}

      setTimeout(() => {
        ${f.map(l=>`body.appendChild(${l});`).join(`
`)}
      }, 0);
    });
  `};var Mn=class extends Me.Command{constructor(){super(...arguments);this.project=Me.Option.String({required:!0});this.embeddable=Me.Option.Boolean("-e,--embeddable");this.patch=Me.Option.Boolean("-p,--patch");this.minor=Me.Option.Boolean("-m,--minor");this.major=Me.Option.Boolean("-M,--major")}async execute(){let e=$n(),r=e.name,i=e?.template?.cdn,s=e?.template?.user,o=this.major?"major":this.minor?"minor":this.patch?"patch":void 0,a=await kn(o),c=Pn(this.project),f=(0,je.join)(c.path.dir,"dist"),u=(0,je.join)(f,"assets"),h=(0,ce.readdirSync)(u).map(m=>(0,je.parse)((0,je.join)(u,m))),d=(0,je.join)(f,"index.js"),p=["index.html","manifest.json","biggs-realty.png"];this.embeddable&&((0,ce.ensureFileSync)(d),(0,ce.writeFileSync)(d,es({baseUrl:i,project:r,user:s,version:a,files:h})),p.forEach(m=>{let y=(0,je.join)(f,m);(0,ce.existsSync)(y)&&(0,ce.rmSync)(y,{recursive:!0})}),console.log("READY FOR RELEASE VERSION:".yellow.underline,a.green.bold))}};Mn.paths=[["build"]];var Fd=F(er());var jn=class extends Fd.Command{async execute(){await Bt`yarn clean`,await Bt`yarn`}};jn.paths=[["refresh"]];var Ue=F(er()),hp=F(fp()),Br=require("path"),Ht=F(lr());var qn=class extends Ue.Command{constructor(){super(...arguments);this.username=Ue.Option.String({required:!0});this.repo=Ue.Option.String({required:!0});this.patch=Ue.Option.Boolean("-p,--patch");this.minor=Ue.Option.Boolean("-m,--minor");this.major=Ue.Option.Boolean("-M,--major")}async execute(){let e=$n(),r=e.name,i=e?.template?.cdn,s=e?.template?.user,o=this.major?"major":this.minor?"minor":(this.patch,"patch"),a=Pn("@biggs-realty/chatbot-embed"),c=(0,Br.join)(a.path.dir,"dist"),f=await Fn(),u=await kn(o),l=`Release ${u}`,h=new hp.default,d=(0,Br.join)(re.REPO,"release",u),p=(0,Br.join)(d,"dist.zip"),m=(0,Br.join)(d,"embed.txt"),y=`${i}/${s}/${r}/${u}/apps/chatbot-embed/dist/index.js`;console.log("Release:",f.yellow.bold,"to",u.green.bold),(0,Ht.existsSync)(p)&&(0,Ht.rmSync)(p),(0,Ht.existsSync)(m)&&(0,Ht.rmSync)(m),(0,Ht.ensureDirSync)(d),(0,Ht.ensureFileSync)(m),h.addLocalFolder(c),h.writeZip(p),(0,Ht.writeFileSync)(m,`<script type='module' src='${y}'></script>`),await Bt`yarn build`,await Bt`git fetch`,await Bt`git add .`,await Bt`git commit -m ${l}`,await Bt`git push`,await Bt`gh release create ${u} ${p}`}};qn.paths=[["release"]];function PS(){(0,dp.runExit)([jn,Mn,qn])}0&&(module.exports={main});
